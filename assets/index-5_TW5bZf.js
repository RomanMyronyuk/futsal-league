function xE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function CE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _v={exports:{}},_u={},wv={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),AE=Symbol.for("react.portal"),RE=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),kE=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),DE=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),OE=Symbol.for("react.suspense"),ME=Symbol.for("react.memo"),LE=Symbol.for("react.lazy"),Im=Symbol.iterator;function jE(t){return t===null||typeof t!="object"?null:(t=Im&&t[Im]||t["@@iterator"],typeof t=="function"?t:null)}var Ev={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tv=Object.assign,Sv={};function Rs(t,e,n){this.props=t,this.context=e,this.refs=Sv,this.updater=n||Ev}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iv(){}Iv.prototype=Rs.prototype;function Kf(t,e,n){this.props=t,this.context=e,this.refs=Sv,this.updater=n||Ev}var Yf=Kf.prototype=new Iv;Yf.constructor=Kf;Tv(Yf,Rs.prototype);Yf.isPureReactComponent=!0;var xm=Array.isArray,xv=Object.prototype.hasOwnProperty,Xf={current:null},Cv={key:!0,ref:!0,__self:!0,__source:!0};function Av(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xv.call(e,r)&&!Cv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ua,type:t,key:s,ref:o,props:i,_owner:Xf.current}}function bE(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function FE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cm=/\/+/g;function Pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FE(""+t.key):e.toString(36)}function sl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ua:case AE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pc(o,0):r,xm(i)?(n="",t!=null&&(n=t.replace(Cm,"$&/")+"/"),sl(i,e,n,"",function(c){return c})):i!=null&&(Jf(i)&&(i=bE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Pc(s,l);o+=sl(s,e,n,u,i)}else if(u=jE(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Pc(s,l++),o+=sl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oa(t,e,n){if(t==null)return t;var r=[],i=0;return sl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $E(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},ol={transition:null},UE={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:ol,ReactCurrentOwner:Xf};function Rv(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Oa,forEach:function(t,e,n){Oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oa(t,function(){e++}),e},toArray:function(t){return Oa(t,function(e){return e})||[]},only:function(t){if(!Jf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Rs;le.Fragment=RE;le.Profiler=kE;le.PureComponent=Kf;le.StrictMode=PE;le.Suspense=OE;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;le.act=Rv;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)xv.call(e,u)&&!Cv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ua,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:DE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NE,_context:t},t.Consumer=t};le.createElement=Av;le.createFactory=function(t){var e=Av.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:VE,render:t}};le.isValidElement=Jf;le.lazy=function(t){return{$$typeof:LE,_payload:{_status:-1,_result:t},_init:$E}};le.memo=function(t,e){return{$$typeof:ME,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=ol.transition;ol.transition={};try{t()}finally{ol.transition=e}};le.unstable_act=Rv;le.useCallback=function(t,e){return At.current.useCallback(t,e)};le.useContext=function(t){return At.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return At.current.useDeferredValue(t)};le.useEffect=function(t,e){return At.current.useEffect(t,e)};le.useId=function(){return At.current.useId()};le.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return At.current.useMemo(t,e)};le.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};le.useRef=function(t){return At.current.useRef(t)};le.useState=function(t){return At.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return At.current.useTransition()};le.version="18.3.1";wv.exports=le;var B=wv.exports;const Ht=CE(B),zE=xE({__proto__:null,default:Ht},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=B,GE=Symbol.for("react.element"),HE=Symbol.for("react.fragment"),WE=Object.prototype.hasOwnProperty,qE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QE={key:!0,ref:!0,__self:!0,__source:!0};function Pv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WE.call(e,r)&&!QE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GE,type:t,key:s,ref:o,props:i,_owner:qE.current}}_u.Fragment=HE;_u.jsx=Pv;_u.jsxs=Pv;_v.exports=_u;var _=_v.exports,Eh={},kv={exports:{}},Jt={},Nv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,M){var j=V.length;V.push(M);e:for(;0<j;){var z=j-1>>>1,H=V[z];if(0<i(H,M))V[z]=M,V[j]=H,j=z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var M=V[0],j=V.pop();if(j!==M){V[0]=j;e:for(var z=0,H=V.length,q=H>>>1;z<q;){var te=2*(z+1)-1,Fe=V[te],ze=te+1,et=V[ze];if(0>i(Fe,j))ze<H&&0>i(et,Fe)?(V[z]=et,V[ze]=j,z=ze):(V[z]=Fe,V[te]=j,z=te);else if(ze<H&&0>i(et,j))V[z]=et,V[ze]=j,z=ze;else break e}}return M}function i(V,M){var j=V.sortIndex-M.sortIndex;return j!==0?j:V.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,m=3,T=!1,R=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=V)r(c),M.sortIndex=M.expirationTime,e(u,M);else break;M=n(c)}}function D(V){if(k=!1,I(V),!R)if(n(u)!==null)R=!0,Ae(F);else{var M=n(c);M!==null&&Pt(D,M.startTime-V)}}function F(V,M){R=!1,k&&(k=!1,S(g),g=-1),T=!0;var j=m;try{for(I(M),p=n(u);p!==null&&(!(p.expirationTime>M)||V&&!A());){var z=p.callback;if(typeof z=="function"){p.callback=null,m=p.priorityLevel;var H=z(p.expirationTime<=M);M=t.unstable_now(),typeof H=="function"?p.callback=H:p===n(u)&&r(u),I(M)}else r(u);p=n(u)}if(p!==null)var q=!0;else{var te=n(c);te!==null&&Pt(D,te.startTime-M),q=!1}return q}finally{p=null,m=j,T=!1}}var b=!1,y=null,g=-1,E=5,x=-1;function A(){return!(t.unstable_now()-x<E)}function N(){if(y!==null){var V=t.unstable_now();x=V;var M=!0;try{M=y(!0,V)}finally{M?C():(b=!1,y=null)}}else b=!1}var C;if(typeof w=="function")C=function(){w(N)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,mt=ye.port2;ye.port1.onmessage=N,C=function(){mt.postMessage(null)}}else C=function(){P(N,0)};function Ae(V){y=V,b||(b=!0,C())}function Pt(V,M){g=P(function(){V(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,Ae(F))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var j=m;m=M;try{return V()}finally{m=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,M){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var j=m;m=V;try{return M()}finally{m=j}},t.unstable_scheduleCallback=function(V,M,j){var z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,V={id:d++,callback:M,priorityLevel:V,startTime:j,expirationTime:H,sortIndex:-1},j>z?(V.sortIndex=j,e(c,V),n(u)===null&&V===n(c)&&(k?(S(g),g=-1):k=!0,Pt(D,j-z))):(V.sortIndex=H,e(u,V),R||T||(R=!0,Ae(F))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var M=m;return function(){var j=m;m=M;try{return V.apply(this,arguments)}finally{m=j}}}})(Dv);Nv.exports=Dv;var KE=Nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=B,Xt=KE;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vv=new Set,Vo={};function Ei(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(Vo[t]=e,t=0;t<e.length;t++)Vv.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,XE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Am={},Rm={};function JE(t){return Th.call(Rm,t)?!0:Th.call(Am,t)?!1:XE.test(t)?Rm[t]=!0:(Am[t]=!0,!1)}function ZE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eT(t,e,n,r){if(e===null||typeof e>"u"||ZE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zf=/[\-:]([a-z])/g;function ed(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zf,ed);dt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zf,ed);dt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zf,ed);dt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function td(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eT(e,n,i,r)&&(n=null),r||i===null?JE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),nd=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),rd=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Lv=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,kc;function lo(t){if(kc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kc=e&&e[1]||""}return`
`+kc+t}var Nc=!1;function Dc(t,e){if(!t||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lo(t):""}function tT(t){switch(t.tag){case 5:return lo(t.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return t=Dc(t.type,!1),t;case 11:return t=Dc(t.type.render,!1),t;case 1:return t=Dc(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case Fi:return"Portal";case Sh:return"Profiler";case nd:return"StrictMode";case Ih:return"Suspense";case xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mv:return(t.displayName||"Context")+".Consumer";case Ov:return(t._context.displayName||"Context")+".Provider";case rd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case id:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function nT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===nd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rT(t){var e=jv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=rT(t))}function bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ah(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function km(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fv(t,e){e=e.checked,e!=null&&td(t,"checked",e,!1)}function Rh(t,e){Fv(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uo=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(uo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function $v(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iT=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){iT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function Bv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function Gv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sT=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(sT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function sd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,Zi=null,es=null;function Om(t){if(t=fa(t)){if(typeof Mh!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Iu(e),Mh(t.stateNode,t.type,e))}}function Hv(t){Zi?es?es.push(t):es=[t]:Zi=t}function Wv(){if(Zi){var t=Zi,e=es;if(es=Zi=null,Om(t),e)for(t=0;t<e.length;t++)Om(e[t])}}function qv(t,e){return t(e)}function Qv(){}var Vc=!1;function Kv(t,e,n){if(Vc)return t(e,n);Vc=!0;try{return qv(t,e,n)}finally{Vc=!1,(Zi!==null||es!==null)&&(Qv(),Wv())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var r=Iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Lh=!1;if(Un)try{var to={};Object.defineProperty(to,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Lh=!1}function oT(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var _o=!1,Pl=null,kl=!1,jh=null,aT={onError:function(t){_o=!0,Pl=t}};function lT(t,e,n,r,i,s,o,l,u){_o=!1,Pl=null,oT.apply(aT,arguments)}function uT(t,e,n,r,i,s,o,l,u){if(lT.apply(this,arguments),_o){if(_o){var c=Pl;_o=!1,Pl=null}else throw Error(W(198));kl||(kl=!0,jh=c)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mm(t){if(Ti(t)!==t)throw Error(W(188))}function cT(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Mm(i),t;if(s===r)return Mm(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Xv(t){return t=cT(t),t!==null?Jv(t):null}function Jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jv(t);if(e!==null)return e;t=t.sibling}return null}var Zv=Xt.unstable_scheduleCallback,Lm=Xt.unstable_cancelCallback,hT=Xt.unstable_shouldYield,fT=Xt.unstable_requestPaint,Ue=Xt.unstable_now,dT=Xt.unstable_getCurrentPriorityLevel,od=Xt.unstable_ImmediatePriority,e_=Xt.unstable_UserBlockingPriority,Nl=Xt.unstable_NormalPriority,pT=Xt.unstable_LowPriority,t_=Xt.unstable_IdlePriority,wu=null,xn=null;function mT(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(wu,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:vT,gT=Math.log,yT=Math.LN2;function vT(t){return t>>>=0,t===0?32:31-(gT(t)/yT|0)|0}var ba=64,Fa=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=co(l):(s&=o,s!==0&&(r=co(s)))}else o=n&~i,o!==0?r=co(o):s!==0&&(r=co(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function _T(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=_T(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n_(){var t=ba;return ba<<=1,!(ba&4194240)&&(ba=64),t}function Oc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function ET(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ad(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function r_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i_,ld,s_,o_,a_,Fh=!1,$a=[],gr=null,yr=null,vr=null,Lo=new Map,jo=new Map,lr=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function no(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fa(e),e!==null&&ld(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ST(t,e,n,r,i){switch(e){case"focusin":return gr=no(gr,t,e,n,r,i),!0;case"dragenter":return yr=no(yr,t,e,n,r,i),!0;case"mouseover":return vr=no(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lo.set(s,no(Lo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jo.set(s,no(jo.get(s)||null,t,e,n,r,i)),!0}return!1}function l_(t){var e=ei(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=Yv(n),e!==null){t.blockedOn=e,a_(t.priority,function(){s_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function al(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return e=fa(n),e!==null&&ld(e),t.blockedOn=n,!1;e.shift()}return!0}function bm(t,e,n){al(t)&&n.delete(e)}function IT(){Fh=!1,gr!==null&&al(gr)&&(gr=null),yr!==null&&al(yr)&&(yr=null),vr!==null&&al(vr)&&(vr=null),Lo.forEach(bm),jo.forEach(bm)}function ro(t,e){t.blockedOn===e&&(t.blockedOn=null,Fh||(Fh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,IT)))}function bo(t){function e(i){return ro(i,t)}if(0<$a.length){ro($a[0],t);for(var n=1;n<$a.length;n++){var r=$a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&ro(gr,t),yr!==null&&ro(yr,t),vr!==null&&ro(vr,t),Lo.forEach(e),jo.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)l_(n),n.blockedOn===null&&lr.shift()}var ts=Qn.ReactCurrentBatchConfig,Vl=!0;function xT(t,e,n,r){var i=ve,s=ts.transition;ts.transition=null;try{ve=1,ud(t,e,n,r)}finally{ve=i,ts.transition=s}}function CT(t,e,n,r){var i=ve,s=ts.transition;ts.transition=null;try{ve=4,ud(t,e,n,r)}finally{ve=i,ts.transition=s}}function ud(t,e,n,r){if(Vl){var i=$h(t,e,n,r);if(i===null)Gc(t,e,r,Ol,n),jm(t,r);else if(ST(i,t,e,n,r))r.stopPropagation();else if(jm(t,r),e&4&&-1<TT.indexOf(t)){for(;i!==null;){var s=fa(i);if(s!==null&&i_(s),s=$h(t,e,n,r),s===null&&Gc(t,e,r,Ol,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gc(t,e,r,null,n)}}var Ol=null;function $h(t,e,n,r){if(Ol=null,t=sd(r),t=ei(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ol=t,null}function u_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case od:return 1;case e_:return 4;case Nl:case pT:return 16;case t_:return 536870912;default:return 16}default:return 16}}var cr=null,cd=null,ll=null;function c_(){if(ll)return ll;var t,e=cd,n=e.length,r,i="value"in cr?cr.value:cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ll=i.slice(t,1<r?1-r:void 0)}function ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ua(){return!0}function Fm(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ua:Fm,this.isPropagationStopped=Fm,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=Zt(Ps),ha=Oe({},Ps,{view:0,detail:0}),AT=Zt(ha),Mc,Lc,io,Eu=Oe({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Mc=t.screenX-io.screenX,Lc=t.screenY-io.screenY):Lc=Mc=0,io=t),Mc)},movementY:function(t){return"movementY"in t?t.movementY:Lc}}),$m=Zt(Eu),RT=Oe({},Eu,{dataTransfer:0}),PT=Zt(RT),kT=Oe({},ha,{relatedTarget:0}),jc=Zt(kT),NT=Oe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),DT=Zt(NT),VT=Oe({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OT=Zt(VT),MT=Oe({},Ps,{data:0}),Um=Zt(MT),LT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bT[t])?!!e[t]:!1}function fd(){return FT}var $T=Oe({},ha,{key:function(t){if(t.key){var e=LT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UT=Zt($T),zT=Oe({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=Zt(zT),BT=Oe({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),GT=Zt(BT),HT=Oe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=Zt(HT),qT=Oe({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QT=Zt(qT),KT=[9,13,27,32],dd=Un&&"CompositionEvent"in window,wo=null;Un&&"documentMode"in document&&(wo=document.documentMode);var YT=Un&&"TextEvent"in window&&!wo,h_=Un&&(!dd||wo&&8<wo&&11>=wo),Bm=" ",Gm=!1;function f_(t,e){switch(t){case"keyup":return KT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function XT(t,e){switch(t){case"compositionend":return d_(e);case"keypress":return e.which!==32?null:(Gm=!0,Bm);case"textInput":return t=e.data,t===Bm&&Gm?null:t;default:return null}}function JT(t,e){if(Ui)return t==="compositionend"||!dd&&f_(t,e)?(t=c_(),ll=cd=cr=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h_&&e.locale!=="ko"?null:e.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZT[t.type]:e==="textarea"}function p_(t,e,n,r){Hv(r),e=Ml(e,"onChange"),0<e.length&&(n=new hd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eo=null,Fo=null;function eS(t){x_(t,0)}function Tu(t){var e=Gi(t);if(bv(e))return t}function tS(t,e){if(t==="change")return e}var m_=!1;if(Un){var bc;if(Un){var Fc="oninput"in document;if(!Fc){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Fc=typeof Wm.oninput=="function"}bc=Fc}else bc=!1;m_=bc&&(!document.documentMode||9<document.documentMode)}function qm(){Eo&&(Eo.detachEvent("onpropertychange",g_),Fo=Eo=null)}function g_(t){if(t.propertyName==="value"&&Tu(Fo)){var e=[];p_(e,Fo,t,sd(t)),Kv(eS,e)}}function nS(t,e,n){t==="focusin"?(qm(),Eo=e,Fo=n,Eo.attachEvent("onpropertychange",g_)):t==="focusout"&&qm()}function rS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Fo)}function iS(t,e){if(t==="click")return Tu(e)}function sS(t,e){if(t==="input"||t==="change")return Tu(e)}function oS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:oS;function $o(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Km(t,e){var n=Qm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qm(n)}}function y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v_(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aS(t){var e=v_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y_(n.ownerDocument.documentElement,n)){if(r!==null&&pd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Km(n,s);var o=Km(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lS=Un&&"documentMode"in document&&11>=document.documentMode,zi=null,Uh=null,To=null,zh=!1;function Ym(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||zi==null||zi!==Rl(r)||(r=zi,"selectionStart"in r&&pd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&$o(To,r)||(To=r,r=Ml(Uh,"onSelect"),0<r.length&&(e=new hd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},$c={},__={};Un&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Su(t){if($c[t])return $c[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in __)return $c[t]=e[n];return t}var w_=Su("animationend"),E_=Su("animationiteration"),T_=Su("animationstart"),S_=Su("transitionend"),I_=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){I_.set(t,e),Ei(e,[t])}for(var Uc=0;Uc<Xm.length;Uc++){var zc=Xm[Uc],uS=zc.toLowerCase(),cS=zc[0].toUpperCase()+zc.slice(1);Fr(uS,"on"+cS)}Fr(w_,"onAnimationEnd");Fr(E_,"onAnimationIteration");Fr(T_,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(S_,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Jm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uT(r,e,void 0,t),t.currentTarget=null}function x_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Jm(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Jm(i,l,c),s=u}}}if(kl)throw t=jh,kl=!1,jh=null,t}function Te(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(C_(e,t,2,!1),n.add(r))}function Bc(t,e,n){var r=0;e&&(r|=4),C_(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Uo(t){if(!t[Ba]){t[Ba]=!0,Vv.forEach(function(n){n!=="selectionchange"&&(hS.has(n)||Bc(n,!1,t),Bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,Bc("selectionchange",!1,e))}}function C_(t,e,n,r){switch(u_(e)){case 1:var i=xT;break;case 4:i=CT;break;default:i=ud}n=i.bind(null,e,n,t),i=void 0,!Lh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Kv(function(){var c=s,d=sd(n),p=[];e:{var m=I_.get(t);if(m!==void 0){var T=hd,R=t;switch(t){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":T=UT;break;case"focusin":R="focus",T=jc;break;case"focusout":R="blur",T=jc;break;case"beforeblur":case"afterblur":T=jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=GT;break;case w_:case E_:case T_:T=DT;break;case S_:T=WT;break;case"scroll":T=AT;break;case"wheel":T=QT;break;case"copy":case"cut":case"paste":T=OT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=zm}var k=(e&4)!==0,P=!k&&t==="scroll",S=k?m!==null?m+"Capture":null:m;k=[];for(var w=c,I;w!==null;){I=w;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,S!==null&&(D=Mo(w,S),D!=null&&k.push(zo(w,D,I)))),P)break;w=w.return}0<k.length&&(m=new T(m,R,null,n,d),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",m&&n!==Oh&&(R=n.relatedTarget||n.fromElement)&&(ei(R)||R[zn]))break e;if((T||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,T?(R=n.relatedTarget||n.toElement,T=c,R=R?ei(R):null,R!==null&&(P=Ti(R),R!==P||R.tag!==5&&R.tag!==6)&&(R=null)):(T=null,R=c),T!==R)){if(k=$m,D="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=zm,D="onPointerLeave",S="onPointerEnter",w="pointer"),P=T==null?m:Gi(T),I=R==null?m:Gi(R),m=new k(D,w+"leave",T,n,d),m.target=P,m.relatedTarget=I,D=null,ei(d)===c&&(k=new k(S,w+"enter",R,n,d),k.target=I,k.relatedTarget=P,D=k),P=D,T&&R)t:{for(k=T,S=R,w=0,I=k;I;I=Vi(I))w++;for(I=0,D=S;D;D=Vi(D))I++;for(;0<w-I;)k=Vi(k),w--;for(;0<I-w;)S=Vi(S),I--;for(;w--;){if(k===S||S!==null&&k===S.alternate)break t;k=Vi(k),S=Vi(S)}k=null}else k=null;T!==null&&Zm(p,m,T,k,!1),R!==null&&P!==null&&Zm(p,P,R,k,!0)}}e:{if(m=c?Gi(c):window,T=m.nodeName&&m.nodeName.toLowerCase(),T==="select"||T==="input"&&m.type==="file")var F=tS;else if(Hm(m))if(m_)F=sS;else{F=rS;var b=nS}else(T=m.nodeName)&&T.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=iS);if(F&&(F=F(t,c))){p_(p,F,n,d);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Ph(m,"number",m.value)}switch(b=c?Gi(c):window,t){case"focusin":(Hm(b)||b.contentEditable==="true")&&(zi=b,Uh=c,To=null);break;case"focusout":To=Uh=zi=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ym(p,n,d);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Ym(p,n,d)}var y;if(dd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ui?f_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(h_&&n.locale!=="ko"&&(Ui||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ui&&(y=c_()):(cr=d,cd="value"in cr?cr.value:cr.textContent,Ui=!0)),b=Ml(c,g),0<b.length&&(g=new Um(g,t,null,n,d),p.push({event:g,listeners:b}),y?g.data=y:(y=d_(n),y!==null&&(g.data=y)))),(y=YT?XT(t,n):JT(t,n))&&(c=Ml(c,"onBeforeInput"),0<c.length&&(d=new Um("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=y))}x_(p,e)})}function zo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ml(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mo(t,n),s!=null&&r.unshift(zo(t,s,i)),s=Mo(t,e),s!=null&&r.push(zo(t,s,i))),t=t.return}return r}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Mo(n,s),u!=null&&o.unshift(zo(n,u,l))):i||(u=Mo(n,s),u!=null&&o.push(zo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function eg(t){return(typeof t=="string"?t:""+t).replace(fS,`
`).replace(dS,"")}function Ga(t,e,n){if(e=eg(e),eg(t)!==e&&n)throw Error(W(425))}function Ll(){}var Bh=null,Gh=null;function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(t){return tg.resolve(null).then(t).catch(gS)}:Wh;function gS(t){setTimeout(function(){throw t})}function Hc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bo(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),In="__reactFiber$"+ks,Bo="__reactProps$"+ks,zn="__reactContainer$"+ks,qh="__reactEvents$"+ks,yS="__reactListeners$"+ks,vS="__reactHandles$"+ks;function ei(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ng(t);t!==null;){if(n=t[In])return n;t=ng(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[In]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Iu(t){return t[Bo]||null}var Qh=[],Hi=-1;function $r(t){return{current:t}}function Ce(t){0>Hi||(t.current=Qh[Hi],Qh[Hi]=null,Hi--)}function we(t,e){Hi++,Qh[Hi]=t.current,t.current=e}var Dr={},Tt=$r(Dr),bt=$r(!1),ci=Dr;function us(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function jl(){Ce(bt),Ce(Tt)}function rg(t,e,n){if(Tt.current!==Dr)throw Error(W(168));we(Tt,e),we(bt,n)}function A_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,nT(t)||"Unknown",i));return Oe({},n,r)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,ci=Tt.current,we(Tt,t),we(bt,bt.current),!0}function ig(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=A_(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,Ce(bt),Ce(Tt),we(Tt,t)):Ce(bt),we(bt,n)}var jn=null,xu=!1,Wc=!1;function R_(t){jn===null?jn=[t]:jn.push(t)}function _S(t){xu=!0,R_(t)}function Ur(){if(!Wc&&jn!==null){Wc=!0;var t=0,e=ve;try{var n=jn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,xu=!1}catch(i){throw jn!==null&&(jn=jn.slice(t+1)),Zv(od,Ur),i}finally{ve=e,Wc=!1}}return null}var Wi=[],qi=0,Fl=null,$l=0,en=[],tn=0,hi=null,bn=1,Fn="";function Xr(t,e){Wi[qi++]=$l,Wi[qi++]=Fl,Fl=t,$l=e}function P_(t,e,n){en[tn++]=bn,en[tn++]=Fn,en[tn++]=hi,hi=t;var r=bn;t=Fn;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var s=32-dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bn=1<<32-dn(e)+i|n<<i|r,Fn=s+t}else bn=1<<s|n<<i|r,Fn=t}function md(t){t.return!==null&&(Xr(t,1),P_(t,1,0))}function gd(t){for(;t===Fl;)Fl=Wi[--qi],Wi[qi]=null,$l=Wi[--qi],Wi[qi]=null;for(;t===hi;)hi=en[--tn],en[tn]=null,Fn=en[--tn],en[tn]=null,bn=en[--tn],en[tn]=null}var Qt=null,Wt=null,Pe=!1,fn=null;function k_(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Wt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hi!==null?{id:bn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Wt=null,!0):!1;default:return!1}}function Kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yh(t){if(Pe){var e=Wt;if(e){var n=e;if(!sg(t,e)){if(Kh(t))throw Error(W(418));e=_r(n.nextSibling);var r=Qt;e&&sg(t,e)?k_(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Qt=t)}}else{if(Kh(t))throw Error(W(418));t.flags=t.flags&-4097|2,Pe=!1,Qt=t}}}function og(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Ha(t){if(t!==Qt)return!1;if(!Pe)return og(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hh(t.type,t.memoizedProps)),e&&(e=Wt)){if(Kh(t))throw N_(),Error(W(418));for(;e;)k_(t,e),e=_r(e.nextSibling)}if(og(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Qt?_r(t.stateNode.nextSibling):null;return!0}function N_(){for(var t=Wt;t;)t=_r(t.nextSibling)}function cs(){Wt=Qt=null,Pe=!1}function yd(t){fn===null?fn=[t]:fn.push(t)}var wS=Qn.ReactCurrentBatchConfig;function so(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Wa(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ag(t){var e=t._init;return e(t._payload)}function D_(t){function e(S,w){if(t){var I=S.deletions;I===null?(S.deletions=[w],S.flags|=16):I.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=Sr(S,w),S.index=0,S.sibling=null,S}function s(S,w,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<w?(S.flags|=2,w):I):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,w,I,D){return w===null||w.tag!==6?(w=Zc(I,S.mode,D),w.return=S,w):(w=i(w,I),w.return=S,w)}function u(S,w,I,D){var F=I.type;return F===$i?d(S,w,I.props.children,D,I.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===sr&&ag(F)===w.type)?(D=i(w,I.props),D.ref=so(S,w,I),D.return=S,D):(D=gl(I.type,I.key,I.props,null,S.mode,D),D.ref=so(S,w,I),D.return=S,D)}function c(S,w,I,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=eh(I,S.mode,D),w.return=S,w):(w=i(w,I.children||[]),w.return=S,w)}function d(S,w,I,D,F){return w===null||w.tag!==7?(w=oi(I,S.mode,D,F),w.return=S,w):(w=i(w,I),w.return=S,w)}function p(S,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zc(""+w,S.mode,I),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:return I=gl(w.type,w.key,w.props,null,S.mode,I),I.ref=so(S,null,w),I.return=S,I;case Fi:return w=eh(w,S.mode,I),w.return=S,w;case sr:var D=w._init;return p(S,D(w._payload),I)}if(uo(w)||eo(w))return w=oi(w,S.mode,I,null),w.return=S,w;Wa(S,w)}return null}function m(S,w,I,D){var F=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:l(S,w,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ma:return I.key===F?u(S,w,I,D):null;case Fi:return I.key===F?c(S,w,I,D):null;case sr:return F=I._init,m(S,w,F(I._payload),D)}if(uo(I)||eo(I))return F!==null?null:d(S,w,I,D,null);Wa(S,I)}return null}function T(S,w,I,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(I)||null,l(w,S,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ma:return S=S.get(D.key===null?I:D.key)||null,u(w,S,D,F);case Fi:return S=S.get(D.key===null?I:D.key)||null,c(w,S,D,F);case sr:var b=D._init;return T(S,w,I,b(D._payload),F)}if(uo(D)||eo(D))return S=S.get(I)||null,d(w,S,D,F,null);Wa(w,D)}return null}function R(S,w,I,D){for(var F=null,b=null,y=w,g=w=0,E=null;y!==null&&g<I.length;g++){y.index>g?(E=y,y=null):E=y.sibling;var x=m(S,y,I[g],D);if(x===null){y===null&&(y=E);break}t&&y&&x.alternate===null&&e(S,y),w=s(x,w,g),b===null?F=x:b.sibling=x,b=x,y=E}if(g===I.length)return n(S,y),Pe&&Xr(S,g),F;if(y===null){for(;g<I.length;g++)y=p(S,I[g],D),y!==null&&(w=s(y,w,g),b===null?F=y:b.sibling=y,b=y);return Pe&&Xr(S,g),F}for(y=r(S,y);g<I.length;g++)E=T(y,S,g,I[g],D),E!==null&&(t&&E.alternate!==null&&y.delete(E.key===null?g:E.key),w=s(E,w,g),b===null?F=E:b.sibling=E,b=E);return t&&y.forEach(function(A){return e(S,A)}),Pe&&Xr(S,g),F}function k(S,w,I,D){var F=eo(I);if(typeof F!="function")throw Error(W(150));if(I=F.call(I),I==null)throw Error(W(151));for(var b=F=null,y=w,g=w=0,E=null,x=I.next();y!==null&&!x.done;g++,x=I.next()){y.index>g?(E=y,y=null):E=y.sibling;var A=m(S,y,x.value,D);if(A===null){y===null&&(y=E);break}t&&y&&A.alternate===null&&e(S,y),w=s(A,w,g),b===null?F=A:b.sibling=A,b=A,y=E}if(x.done)return n(S,y),Pe&&Xr(S,g),F;if(y===null){for(;!x.done;g++,x=I.next())x=p(S,x.value,D),x!==null&&(w=s(x,w,g),b===null?F=x:b.sibling=x,b=x);return Pe&&Xr(S,g),F}for(y=r(S,y);!x.done;g++,x=I.next())x=T(y,S,g,x.value,D),x!==null&&(t&&x.alternate!==null&&y.delete(x.key===null?g:x.key),w=s(x,w,g),b===null?F=x:b.sibling=x,b=x);return t&&y.forEach(function(N){return e(S,N)}),Pe&&Xr(S,g),F}function P(S,w,I,D){if(typeof I=="object"&&I!==null&&I.type===$i&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ma:e:{for(var F=I.key,b=w;b!==null;){if(b.key===F){if(F=I.type,F===$i){if(b.tag===7){n(S,b.sibling),w=i(b,I.props.children),w.return=S,S=w;break e}}else if(b.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===sr&&ag(F)===b.type){n(S,b.sibling),w=i(b,I.props),w.ref=so(S,b,I),w.return=S,S=w;break e}n(S,b);break}else e(S,b);b=b.sibling}I.type===$i?(w=oi(I.props.children,S.mode,D,I.key),w.return=S,S=w):(D=gl(I.type,I.key,I.props,null,S.mode,D),D.ref=so(S,w,I),D.return=S,S=D)}return o(S);case Fi:e:{for(b=I.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(S,w.sibling),w=i(w,I.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=eh(I,S.mode,D),w.return=S,S=w}return o(S);case sr:return b=I._init,P(S,w,b(I._payload),D)}if(uo(I))return R(S,w,I,D);if(eo(I))return k(S,w,I,D);Wa(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,I),w.return=S,S=w):(n(S,w),w=Zc(I,S.mode,D),w.return=S,S=w),o(S)):n(S,w)}return P}var hs=D_(!0),V_=D_(!1),Ul=$r(null),zl=null,Qi=null,vd=null;function _d(){vd=Qi=zl=null}function wd(t){var e=Ul.current;Ce(Ul),t._currentValue=e}function Xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ns(t,e){zl=t,vd=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(vd!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(zl===null)throw Error(W(308));Qi=t,zl.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var ti=null;function Ed(t){ti===null?ti=[t]:ti.push(t)}function O_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ed(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bn(t,r)}function Bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ed(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bn(t,n)}function cl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ad(t,n)}}function lg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bl(t,e,n,r){var i=t.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,T=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,k=l;switch(m=e,T=n,k.tag){case 1:if(R=k.payload,typeof R=="function"){p=R.call(T,p,m);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=k.payload,m=typeof R=="function"?R.call(T,p,m):R,m==null)break e;p=Oe({},p,m);break e;case 2:or=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else T={eventTime:T,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=T,u=p):d=d.next=T,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);di|=o,t.lanes=o,t.memoizedState=p}}function ug(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var da={},Cn=$r(da),Go=$r(da),Ho=$r(da);function ni(t){if(t===da)throw Error(W(174));return t}function Sd(t,e){switch(we(Ho,e),we(Go,t),we(Cn,da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nh(e,t)}Ce(Cn),we(Cn,e)}function fs(){Ce(Cn),Ce(Go),Ce(Ho)}function L_(t){ni(Ho.current);var e=ni(Cn.current),n=Nh(e,t.type);e!==n&&(we(Go,t),we(Cn,n))}function Id(t){Go.current===t&&(Ce(Cn),Ce(Go))}var De=$r(0);function Gl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qc=[];function xd(){for(var t=0;t<qc.length;t++)qc[t]._workInProgressVersionPrimary=null;qc.length=0}var hl=Qn.ReactCurrentDispatcher,Qc=Qn.ReactCurrentBatchConfig,fi=0,Ve=null,Ke=null,it=null,Hl=!1,So=!1,Wo=0,ES=0;function gt(){throw Error(W(321))}function Cd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Ad(t,e,n,r,i,s){if(fi=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hl.current=t===null||t.memoizedState===null?xS:CS,t=n(r,i),So){s=0;do{if(So=!1,Wo=0,25<=s)throw Error(W(301));s+=1,it=Ke=null,e.updateQueue=null,hl.current=AS,t=n(r,i)}while(So)}if(hl.current=Wl,e=Ke!==null&&Ke.next!==null,fi=0,it=Ke=Ve=null,Hl=!1,e)throw Error(W(300));return t}function Rd(){var t=Wo!==0;return Wo=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ve.memoizedState=it=t:it=it.next=t,it}function an(){if(Ke===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=it===null?Ve.memoizedState:it.next;if(e!==null)it=e,Ke=t;else{if(t===null)throw Error(W(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},it===null?Ve.memoizedState=it=t:it=it.next=t}return it}function qo(t,e){return typeof e=="function"?e(t):e}function Kc(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((fi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Ve.lanes|=d,di|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,gn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,di|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yc(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j_(){}function b_(t,e){var n=Ve,r=an(),i=e(),s=!gn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,Pd(U_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Qo(9,$_.bind(null,n,r,i,e),void 0,null),at===null)throw Error(W(349));fi&30||F_(n,e,i)}return i}function F_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $_(t,e,n,r){e.value=n,e.getSnapshot=r,z_(e)&&B_(t)}function U_(t,e,n){return n(function(){z_(e)&&B_(t)})}function z_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function B_(t){var e=Bn(t,1);e!==null&&pn(e,t,1,-1)}function cg(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=IS.bind(null,Ve,t),[e.memoizedState,t]}function Qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G_(){return an().memoizedState}function fl(t,e,n,r){var i=En();Ve.flags|=t,i.memoizedState=Qo(1|e,n,void 0,r===void 0?null:r)}function Cu(t,e,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&Cd(r,o.deps)){i.memoizedState=Qo(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=Qo(1|e,n,s,r)}function hg(t,e){return fl(8390656,8,t,e)}function Pd(t,e){return Cu(2048,8,t,e)}function H_(t,e){return Cu(4,2,t,e)}function W_(t,e){return Cu(4,4,t,e)}function q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q_(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4,4,q_.bind(null,e,t),n)}function kd(){}function K_(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y_(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X_(t,e,n){return fi&21?(gn(n,e)||(n=n_(),Ve.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function TS(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Qc.transition;Qc.transition={};try{t(!1),e()}finally{ve=n,Qc.transition=r}}function J_(){return an().memoizedState}function SS(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z_(t))e0(e,n);else if(n=O_(t,e,n,r),n!==null){var i=Ct();pn(n,t,r,i),t0(n,e,r)}}function IS(t,e,n){var r=Tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z_(t))e0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,gn(l,o)){var u=e.interleaved;u===null?(i.next=i,Ed(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=O_(t,e,i,r),n!==null&&(i=Ct(),pn(n,t,r,i),t0(n,e,r))}}function Z_(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function e0(t,e){So=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ad(t,n)}}var Wl={readContext:on,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},xS={readContext:on,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:hg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fl(4194308,4,q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fl(4194308,4,t,e)},useInsertionEffect:function(t,e){return fl(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SS.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:cg,useDebugValue:kd,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=cg(!1),e=t[0];return t=TS.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=En();if(Pe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),at===null)throw Error(W(349));fi&30||F_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hg(U_.bind(null,r,s,t),[t]),r.flags|=2048,Qo(9,$_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=En(),e=at.identifierPrefix;if(Pe){var n=Fn,r=bn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ES++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CS={readContext:on,useCallback:K_,useContext:on,useEffect:Pd,useImperativeHandle:Q_,useInsertionEffect:H_,useLayoutEffect:W_,useMemo:Y_,useReducer:Kc,useRef:G_,useState:function(){return Kc(qo)},useDebugValue:kd,useDeferredValue:function(t){var e=an();return X_(e,Ke.memoizedState,t)},useTransition:function(){var t=Kc(qo)[0],e=an().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:b_,useId:J_,unstable_isNewReconciler:!1},AS={readContext:on,useCallback:K_,useContext:on,useEffect:Pd,useImperativeHandle:Q_,useInsertionEffect:H_,useLayoutEffect:W_,useMemo:Y_,useReducer:Yc,useRef:G_,useState:function(){return Yc(qo)},useDebugValue:kd,useDeferredValue:function(t){var e=an();return Ke===null?e.memoizedState=t:X_(e,Ke.memoizedState,t)},useTransition:function(){var t=Yc(qo)[0],e=an().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:b_,useId:J_,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Au={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Tr(t),s=$n(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(pn(e,t,i,r),cl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Tr(t),s=$n(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(pn(e,t,i,r),cl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=Tr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(pn(e,t,r,n),cl(e,t,r))}};function fg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$o(n,r)||!$o(i,s):!0}function n0(t,e,n){var r=!1,i=Dr,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=Ft(e)?ci:Tt.current,r=e.contextTypes,s=(r=r!=null)?us(t,i):Dr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Au.enqueueReplaceState(e,e.state,null)}function Zh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Td(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=Ft(e)?ci:Tt.current,i.context=us(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Au.enqueueReplaceState(i,i.state,null),Bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ds(t,e){try{var n="",r=e;do n+=tT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function r0(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ql||(Ql=!0,hf=r),ef(t,e)},n}function i0(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ef(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zS.bind(null,t,e,n),e.then(t,t))}function mg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var PS=Qn.ReactCurrentOwner,jt=!1;function xt(t,e,n,r){e.child=t===null?V_(e,null,n,r):hs(e,t.child,n,r)}function yg(t,e,n,r,i){n=n.render;var s=e.ref;return ns(e,i),r=Ad(t,e,n,r,s,i),n=Rd(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Pe&&n&&md(e),e.flags|=1,xt(t,e,r,i),e.child)}function vg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,s0(t,e,s,r,i)):(t=gl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$o,n(o,r)&&t.ref===e.ref)return Gn(t,e,i)}return e.flags|=1,t=Sr(s,r),t.ref=e.ref,t.return=e,e.child=t}function s0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($o(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Gn(t,e,i)}return tf(t,e,n,r,i)}function o0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Yi,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Yi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Yi,Gt),Gt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(Yi,Gt),Gt|=r;return xt(t,e,i,n),e.child}function a0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,i){var s=Ft(n)?ci:Tt.current;return s=us(e,s),ns(e,i),n=Ad(t,e,n,r,s,i),r=Rd(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Pe&&r&&md(e),e.flags|=1,xt(t,e,n,i),e.child)}function _g(t,e,n,r,i){if(Ft(n)){var s=!0;bl(e)}else s=!1;if(ns(e,i),e.stateNode===null)dl(t,e),n0(e,n,r),Zh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=on(c):(c=Ft(n)?ci:Tt.current,c=us(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&dg(e,o,r,c),or=!1;var m=e.memoizedState;o.state=m,Bl(e,r,o,i),u=e.memoizedState,l!==r||m!==u||bt.current||or?(typeof d=="function"&&(Jh(e,n,d,r),u=e.memoizedState),(l=or||fg(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,M_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:cn(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=on(u):(u=Ft(n)?ci:Tt.current,u=us(e,u));var T=n.getDerivedStateFromProps;(d=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&dg(e,o,r,u),or=!1,m=e.memoizedState,o.state=m,Bl(e,r,o,i);var R=e.memoizedState;l!==p||m!==R||bt.current||or?(typeof T=="function"&&(Jh(e,n,T,r),R=e.memoizedState),(c=or||fg(e,n,c,r,m,R,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,s,i)}function nf(t,e,n,r,i,s){a0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ig(e,n,!1),Gn(t,e,s);r=e.stateNode,PS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,s),e.child=hs(e,null,l,s)):xt(t,e,l,s),e.memoizedState=r.state,i&&ig(e,n,!0),e.child}function l0(t){var e=t.stateNode;e.pendingContext?rg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rg(t,e.context,!1),Sd(t,e.containerInfo)}function wg(t,e,n,r,i){return cs(),yd(i),e.flags|=256,xt(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function u0(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(De,i&1),t===null)return Yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ku(o,r,0,null),t=oi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sf(n),e.memoizedState=rf,t):Nd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kS(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Sr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Sr(l,s):(s=oi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return s=t.child,t=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nd(t,e){return e=ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,n,r){return r!==null&&yd(r),hs(e,t.child,null,n),t=Nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xc(Error(W(422))),qa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ku({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=sf(o),e.memoizedState=rf,s);if(!(e.mode&1))return qa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=Xc(s,r,void 0),qa(t,e,o,r)}if(l=(o&t.childLanes)!==0,jt||l){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bn(t,i),pn(r,t,i,-1))}return jd(),r=Xc(Error(W(421))),qa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=_r(i.nextSibling),Qt=e,Pe=!0,fn=null,t!==null&&(en[tn++]=bn,en[tn++]=Fn,en[tn++]=hi,bn=t.id,Fn=t.overflow,hi=e),e=Nd(e,r.children),e.flags|=4096,e)}function Eg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xh(t.return,e,n)}function Jc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function c0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,n,e);else if(t.tag===19)Eg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jc(e,!0,n,null,s);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NS(t,e,n){switch(e.tag){case 3:l0(e),cs();break;case 5:L_(e);break;case 1:Ft(e.type)&&bl(e);break;case 4:Sd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?u0(t,e,n):(we(De,De.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);we(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return c0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,o0(t,e,n)}return Gn(t,e,n)}var h0,of,f0,d0;h0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};of=function(){};f0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ni(Cn.current);var s=null;switch(n){case"input":i=Ah(t,i),r=Ah(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=kh(t,i),r=kh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ll)}Dh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Te("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};d0=function(t,e,n,r){n!==r&&(e.flags|=4)};function oo(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DS(t,e,n){var r=e.pendingProps;switch(gd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Ft(e.type)&&jl(),yt(e),null;case 3:return r=e.stateNode,fs(),Ce(bt),Ce(Tt),xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(pf(fn),fn=null))),of(t,e),yt(e),null;case 5:Id(e);var i=ni(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)f0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return yt(e),null}if(t=ni(Cn.current),Ha(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[In]=e,r[Bo]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<ho.length;i++)Te(ho[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":km(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":Dm(r,s),Te("invalid",r)}Dh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ga(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ga(r.textContent,l,t),i=["children",""+l]):Vo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":La(r),Nm(r,s,!0);break;case"textarea":La(r),Vm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[In]=e,t[Bo]=r,h0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<ho.length;i++)Te(ho[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":km(t,r),i=Ah(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Dm(t,r),i=kh(t,r),Te("invalid",t);break;default:i=r}Dh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Gv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&zv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Oo(t,u):typeof u=="number"&&Oo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Te("scroll",t):u!=null&&td(t,s,u,o))}switch(n){case"input":La(t),Nm(t,r,!1);break;case"textarea":La(t),Vm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ji(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)d0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ni(Ho.current),ni(Cn.current),Ha(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(s=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Ga(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ga(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return yt(e),null;case 13:if(Ce(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Wt!==null&&e.mode&1&&!(e.flags&128))N_(),cs(),e.flags|=98560,s=!1;else if(s=Ha(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[In]=e}else cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else fn!==null&&(pf(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):jd())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return fs(),of(t,e),t===null&&Uo(e.stateNode.containerInfo),yt(e),null;case 10:return wd(e.type._context),yt(e),null;case 17:return Ft(e.type)&&jl(),yt(e),null;case 19:if(Ce(De),s=e.memoizedState,s===null)return yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oo(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gl(t),o!==null){for(e.flags|=128,oo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>ps&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return yt(e),null}else 2*Ue()-s.renderingStartTime>ps&&n!==1073741824&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=De.current,we(De,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Ld(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function VS(t,e){switch(gd(e),e.tag){case 1:return Ft(e.type)&&jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),Ce(bt),Ce(Tt),xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Id(e),null;case 13:if(Ce(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(De),null;case 4:return fs(),null;case 10:return wd(e.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Qa=!1,wt=!1,OS=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){be(t,e,r)}}var Tg=!1;function MS(t,e){if(Bh=Vl,t=v_(),pd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)m=p,p=T;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(T=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gh={focusedElem:t,selectionRange:n},Vl=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var k=R.memoizedProps,P=R.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:cn(e.type,k),P);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(D){be(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return R=Tg,Tg=!1,R}function Io(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(e,n,s)}i=i.next}while(i!==r)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p0(t){var e=t.alternate;e!==null&&(t.alternate=null,p0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Bo],delete e[qh],delete e[yS],delete e[vS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m0(t){return t.tag===5||t.tag===3||t.tag===4}function Sg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ll));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var ut=null,hn=!1;function nr(t,e,n){for(n=n.child;n!==null;)g0(t,e,n),n=n.sibling}function g0(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(wu,n)}catch{}switch(n.tag){case 5:wt||Ki(n,e);case 6:var r=ut,i=hn;ut=null,nr(t,e,n),ut=r,hn=i,ut!==null&&(hn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(hn?(t=ut,n=n.stateNode,t.nodeType===8?Hc(t.parentNode,n):t.nodeType===1&&Hc(t,n),bo(t)):Hc(ut,n.stateNode));break;case 4:r=ut,i=hn,ut=n.stateNode.containerInfo,hn=!0,nr(t,e,n),ut=r,hn=i;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&af(n,e,o),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!wt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,e,l)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,nr(t,e,n),wt=r):nr(t,e,n);break;default:nr(t,e,n)}}function Ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OS),e.forEach(function(r){var i=GS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,hn=!1;break e;case 3:ut=l.stateNode.containerInfo,hn=!0;break e;case 4:ut=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(ut===null)throw Error(W(160));g0(s,o,i),ut=null,hn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y0(e,t),e=e.sibling}function y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),_n(t),r&4){try{Io(3,t,t.return),Ru(3,t)}catch(k){be(t,t.return,k)}try{Io(5,t,t.return)}catch(k){be(t,t.return,k)}}break;case 1:un(e,t),_n(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(un(e,t),_n(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{Oo(i,"")}catch(k){be(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Fv(i,s),Vh(l,o);var c=Vh(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?Gv(i,p):d==="dangerouslySetInnerHTML"?zv(i,p):d==="children"?Oo(i,p):td(i,d,p,c)}switch(l){case"input":Rh(i,s);break;case"textarea":$v(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Ji(i,!!s.multiple,T,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ji(i,!!s.multiple,s.defaultValue,!0):Ji(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bo]=s}catch(k){be(t,t.return,k)}}break;case 6:if(un(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){be(t,t.return,k)}}break;case 3:if(un(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(k){be(t,t.return,k)}break;case 4:un(e,t),_n(t);break;case 13:un(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Od=Ue())),r&4&&Ig(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wt=(c=wt)||d,un(e,t),wt=c):un(e,t),_n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(p=X=d;X!==null;){switch(m=X,T=m.child,m.tag){case 0:case 11:case 14:case 15:Io(4,m,m.return);break;case 1:Ki(m,m.return);var R=m.stateNode;if(typeof R.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(k){be(r,n,k)}}break;case 5:Ki(m,m.return);break;case 22:if(m.memoizedState!==null){Cg(p);continue}}T!==null?(T.return=m,X=T):Cg(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Bv("display",o))}catch(k){be(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){be(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:un(e,t),_n(t),r&4&&Ig(t);break;case 21:break;default:un(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(m0(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oo(i,""),r.flags&=-33);var s=Sg(t);cf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Sg(t);uf(t,l,o);break;default:throw Error(W(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LS(t,e,n){X=t,v0(t)}function v0(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qa;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||wt;l=Qa;var c=wt;if(Qa=o,(wt=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Ag(i):u!==null?(u.return=o,X=u):Ag(i);for(;s!==null;)X=s,v0(s),s=s.sibling;X=i,Qa=l,wt=c}xg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):xg(t)}}function xg(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||Ru(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ug(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ug(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&bo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}wt||e.flags&512&&lf(e)}catch(m){be(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Cg(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Ag(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ru(4,e)}catch(u){be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){be(e,i,u)}}var s=e.return;try{lf(e)}catch(u){be(e,s,u)}break;case 5:var o=e.return;try{lf(e)}catch(u){be(e,o,u)}}}catch(u){be(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var jS=Math.ceil,ql=Qn.ReactCurrentDispatcher,Dd=Qn.ReactCurrentOwner,sn=Qn.ReactCurrentBatchConfig,de=0,at=null,He=null,ft=0,Gt=0,Yi=$r(0),Xe=0,Ko=null,di=0,Pu=0,Vd=0,xo=null,Mt=null,Od=0,ps=1/0,Mn=null,Ql=!1,hf=null,Er=null,Ka=!1,hr=null,Kl=0,Co=0,ff=null,pl=-1,ml=0;function Ct(){return de&6?Ue():pl!==-1?pl:pl=Ue()}function Tr(t){return t.mode&1?de&2&&ft!==0?ft&-ft:wS.transition!==null?(ml===0&&(ml=n_()),ml):(t=ve,t!==0||(t=window.event,t=t===void 0?16:u_(t.type)),t):1}function pn(t,e,n,r){if(50<Co)throw Co=0,ff=null,Error(W(185));ca(t,n,r),(!(de&2)||t!==at)&&(t===at&&(!(de&2)&&(Pu|=n),Xe===4&&ur(t,ft)),$t(t,r),n===1&&de===0&&!(e.mode&1)&&(ps=Ue()+500,xu&&Ur()))}function $t(t,e){var n=t.callbackNode;wT(t,e);var r=Dl(t,t===at?ft:0);if(r===0)n!==null&&Lm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lm(n),e===1)t.tag===0?_S(Rg.bind(null,t)):R_(Rg.bind(null,t)),mS(function(){!(de&6)&&Ur()}),n=null;else{switch(r_(r)){case 1:n=od;break;case 4:n=e_;break;case 16:n=Nl;break;case 536870912:n=t_;break;default:n=Nl}n=C0(n,_0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _0(t,e){if(pl=-1,ml=0,de&6)throw Error(W(327));var n=t.callbackNode;if(rs()&&t.callbackNode!==n)return null;var r=Dl(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=de;de|=2;var s=E0();(at!==t||ft!==e)&&(Mn=null,ps=Ue()+500,si(t,e));do try{$S();break}catch(l){w0(t,l)}while(!0);_d(),ql.current=s,de=i,He!==null?e=0:(at=null,ft=0,e=Xe)}if(e!==0){if(e===2&&(i=bh(t),i!==0&&(r=i,e=df(t,i))),e===1)throw n=Ko,si(t,0),ur(t,r),$t(t,Ue()),n;if(e===6)ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!bS(i)&&(e=Yl(t,r),e===2&&(s=bh(t),s!==0&&(r=s,e=df(t,s))),e===1))throw n=Ko,si(t,0),ur(t,r),$t(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Jr(t,Mt,Mn);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=Od+500-Ue(),10<e)){if(Dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wh(Jr.bind(null,t,Mt,Mn),e);break}Jr(t,Mt,Mn);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){t.timeoutHandle=Wh(Jr.bind(null,t,Mt,Mn),r);break}Jr(t,Mt,Mn);break;case 5:Jr(t,Mt,Mn);break;default:throw Error(W(329))}}}return $t(t,Ue()),t.callbackNode===n?_0.bind(null,t):null}function df(t,e){var n=xo;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&pf(e)),t}function pf(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function bS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~Vd,e&=~Pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Rg(t){if(de&6)throw Error(W(327));rs();var e=Dl(t,0);if(!(e&1))return $t(t,Ue()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=bh(t);r!==0&&(e=r,n=df(t,r))}if(n===1)throw n=Ko,si(t,0),ur(t,e),$t(t,Ue()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,Mt,Mn),$t(t,Ue()),null}function Md(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(ps=Ue()+500,xu&&Ur())}}function pi(t){hr!==null&&hr.tag===0&&!(de&6)&&rs();var e=de;de|=1;var n=sn.transition,r=ve;try{if(sn.transition=null,ve=1,t)return t()}finally{ve=r,sn.transition=n,de=e,!(de&6)&&Ur()}}function Ld(){Gt=Yi.current,Ce(Yi)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pS(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:fs(),Ce(bt),Ce(Tt),xd();break;case 5:Id(r);break;case 4:fs();break;case 13:Ce(De);break;case 19:Ce(De);break;case 10:wd(r.type._context);break;case 22:case 23:Ld()}n=n.return}if(at=t,He=t=Sr(t.current,null),ft=Gt=e,Xe=0,Ko=null,Vd=Pu=di=0,Mt=xo=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ti=null}return t}function w0(t,e){do{var n=He;try{if(_d(),hl.current=Wl,Hl){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(fi=0,it=Ke=Ve=null,So=!1,Wo=0,Dd.current=null,n===null||n.return===null){Xe=1,Ko=e,He=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=mg(o);if(T!==null){T.flags&=-257,gg(T,o,l,s,e),T.mode&1&&pg(s,c,e),e=T,u=c;var R=e.updateQueue;if(R===null){var k=new Set;k.add(u),e.updateQueue=k}else R.add(u);break e}else{if(!(e&1)){pg(s,c,e),jd();break e}u=Error(W(426))}}else if(Pe&&l.mode&1){var P=mg(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),gg(P,o,l,s,e),yd(ds(u,l));break e}}s=u=ds(u,l),Xe!==4&&(Xe=2),xo===null?xo=[s]:xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=r0(s,u,e);lg(s,S);break e;case 1:l=u;var w=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Er===null||!Er.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=i0(s,l,e);lg(s,D);break e}}s=s.return}while(s!==null)}S0(n)}catch(F){e=F,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function E0(){var t=ql.current;return ql.current=Wl,t===null?Wl:t}function jd(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),at===null||!(di&268435455)&&!(Pu&268435455)||ur(at,ft)}function Yl(t,e){var n=de;de|=2;var r=E0();(at!==t||ft!==e)&&(Mn=null,si(t,e));do try{FS();break}catch(i){w0(t,i)}while(!0);if(_d(),de=n,ql.current=r,He!==null)throw Error(W(261));return at=null,ft=0,Xe}function FS(){for(;He!==null;)T0(He)}function $S(){for(;He!==null&&!hT();)T0(He)}function T0(t){var e=x0(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?S0(t):He=e,Dd.current=null}function S0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VS(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,He=null;return}}else if(n=DS(n,e,Gt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Xe===0&&(Xe=5)}function Jr(t,e,n){var r=ve,i=sn.transition;try{sn.transition=null,ve=1,US(t,e,n,r)}finally{sn.transition=i,ve=r}return null}function US(t,e,n,r){do rs();while(hr!==null);if(de&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ET(t,s),t===at&&(He=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ka||(Ka=!0,C0(Nl,function(){return rs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sn.transition,sn.transition=null;var o=ve;ve=1;var l=de;de|=4,Dd.current=null,MS(t,n),y0(n,t),aS(Gh),Vl=!!Bh,Gh=Bh=null,t.current=n,LS(n),fT(),de=l,ve=o,sn.transition=s}else t.current=n;if(Ka&&(Ka=!1,hr=t,Kl=i),s=t.pendingLanes,s===0&&(Er=null),mT(n.stateNode),$t(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,t=hf,hf=null,t;return Kl&1&&t.tag!==0&&rs(),s=t.pendingLanes,s&1?t===ff?Co++:(Co=0,ff=t):Co=0,Ur(),null}function rs(){if(hr!==null){var t=r_(Kl),e=sn.transition,n=ve;try{if(sn.transition=null,ve=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,Kl=0,de&6)throw Error(W(331));var i=de;for(de|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Io(8,d,s)}var p=d.child;if(p!==null)p.return=d,X=p;else for(;X!==null;){d=X;var m=d.sibling,T=d.return;if(p0(d),d===c){X=null;break}if(m!==null){m.return=T,X=m;break}X=T}}}var R=s.alternate;if(R!==null){var k=R.child;if(k!==null){R.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Io(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break e}X=s.return}}var w=t.current;for(X=w;X!==null;){o=X;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,X=I;else e:for(o=w;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(F){be(l,l.return,F)}if(l===o){X=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,X=D;break e}X=l.return}}if(de=i,Ur(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(wu,t)}catch{}r=!0}return r}finally{ve=n,sn.transition=e}}return!1}function Pg(t,e,n){e=ds(n,e),e=r0(t,e,1),t=wr(t,e,1),e=Ct(),t!==null&&(ca(t,1,e),$t(t,e))}function be(t,e,n){if(t.tag===3)Pg(t,t,n);else for(;e!==null;){if(e.tag===3){Pg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=ds(n,t),t=i0(e,t,1),e=wr(e,t,1),t=Ct(),e!==null&&(ca(e,1,t),$t(e,t));break}}e=e.return}}function zS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(Xe===4||Xe===3&&(ft&130023424)===ft&&500>Ue()-Od?si(t,0):Vd|=n),$t(t,e)}function I0(t,e){e===0&&(t.mode&1?(e=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):e=1);var n=Ct();t=Bn(t,e),t!==null&&(ca(t,e,n),$t(t,n))}function BS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I0(t,n)}function GS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),I0(t,n)}var x0;x0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,NS(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Pe&&e.flags&1048576&&P_(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dl(t,e),t=e.pendingProps;var i=us(e,Tt.current);ns(e,n),i=Ad(null,e,r,t,i,n);var s=Rd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,bl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(e),i.updater=Au,e.stateNode=i,i._reactInternals=e,Zh(e,r,t,n),e=nf(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&md(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WS(r),t=cn(r,t),i){case 0:e=tf(null,e,r,t,n);break e;case 1:e=_g(null,e,r,t,n);break e;case 11:e=yg(null,e,r,t,n);break e;case 14:e=vg(null,e,r,cn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),_g(t,e,r,i,n);case 3:e:{if(l0(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,M_(t,e),Bl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ds(Error(W(423)),e),e=wg(t,e,r,n,i);break e}else if(r!==i){i=ds(Error(W(424)),e),e=wg(t,e,r,n,i);break e}else for(Wt=_r(e.stateNode.containerInfo.firstChild),Qt=e,Pe=!0,fn=null,n=V_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===i){e=Gn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return L_(e),t===null&&Yh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hh(r,i)?o=null:s!==null&&Hh(r,s)&&(e.flags|=32),a0(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&Yh(e),null;case 13:return u0(t,e,n);case 4:return Sd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hs(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),yg(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(Ul,r._currentValue),r._currentValue=o,s!==null)if(gn(s.value,o)){if(s.children===i.children&&!bt.current){e=Gn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=$n(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Xh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ns(e,n),i=on(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=cn(r,e.pendingProps),i=cn(r.type,i),vg(t,e,r,i,n);case 15:return s0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),dl(t,e),e.tag=1,Ft(r)?(t=!0,bl(e)):t=!1,ns(e,n),n0(e,r,i),Zh(e,r,i,n),nf(null,e,r,!0,t,n);case 19:return c0(t,e,n);case 22:return o0(t,e,n)}throw Error(W(156,e.tag))};function C0(t,e){return Zv(t,e)}function HS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new HS(t,e,n,r)}function bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WS(t){if(typeof t=="function")return bd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rd)return 11;if(t===id)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $i:return oi(n.children,i,s,e);case nd:o=8,i|=8;break;case Sh:return t=rn(12,n,e,i|2),t.elementType=Sh,t.lanes=s,t;case Ih:return t=rn(13,n,e,i),t.elementType=Ih,t.lanes=s,t;case xh:return t=rn(19,n,e,i),t.elementType=xh,t.lanes=s,t;case Lv:return ku(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ov:o=10;break e;case Mv:o=9;break e;case rd:o=11;break e;case id:o=14;break e;case sr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oi(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function ku(t,e,n,r){return t=rn(22,t,r,e),t.elementType=Lv,t.lanes=n,t.stateNode={isHidden:!1},t}function Zc(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function eh(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fd(t,e,n,r,i,s,o,l,u){return t=new qS(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(s),t}function QS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A0(t){if(!t)return Dr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Ft(n))return A_(t,n,e)}return e}function R0(t,e,n,r,i,s,o,l,u){return t=Fd(n,r,!0,t,i,s,o,l,u),t.context=A0(null),n=t.current,r=Ct(),i=Tr(n),s=$n(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,ca(t,i,r),$t(t,r),t}function Nu(t,e,n,r){var i=e.current,s=Ct(),o=Tr(i);return n=A0(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(pn(t,i,o,s),cl(t,i,o)),o}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $d(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function KS(){return null}var P0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ud(t){this._internalRoot=t}Du.prototype.render=Ud.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Nu(t,e,null,null)};Du.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){Nu(null,t,null,null)}),e[zn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=o_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&l_(t)}};function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function YS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xl(o);s.call(c)}}var o=R0(e,r,t,0,null,!1,!1,"",Ng);return t._reactRootContainer=o,t[zn]=o.current,Uo(t.nodeType===8?t.parentNode:t),pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Xl(u);l.call(c)}}var u=Fd(t,0,!1,null,null,!1,!1,"",Ng);return t._reactRootContainer=u,t[zn]=u.current,Uo(t.nodeType===8?t.parentNode:t),pi(function(){Nu(e,u,n,r)}),u}function Ou(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Xl(o);l.call(u)}}Nu(e,o,t,i)}else o=YS(n,e,t,i,r);return Xl(o)}i_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=co(e.pendingLanes);n!==0&&(ad(e,n|1),$t(e,Ue()),!(de&6)&&(ps=Ue()+500,Ur()))}break;case 13:pi(function(){var r=Bn(t,1);if(r!==null){var i=Ct();pn(r,t,1,i)}}),$d(t,1)}};ld=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var n=Ct();pn(e,t,134217728,n)}$d(t,134217728)}};s_=function(t){if(t.tag===13){var e=Tr(t),n=Bn(t,e);if(n!==null){var r=Ct();pn(n,t,e,r)}$d(t,e)}};o_=function(){return ve};a_=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Mh=function(t,e,n){switch(e){case"input":if(Rh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Iu(r);if(!i)throw Error(W(90));bv(r),Rh(r,i)}}}break;case"textarea":$v(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};qv=Md;Qv=pi;var XS={usingClientEntryPoint:!1,Events:[fa,Gi,Iu,Hv,Wv,Md]},ao={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JS={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xv(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||KS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{wu=Ya.inject(JS),xn=Ya}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(e))throw Error(W(200));return QS(t,e,null,n)};Jt.createRoot=function(t,e){if(!zd(t))throw Error(W(299));var n=!1,r="",i=P0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,!1,r,i),t[zn]=e.current,Uo(t.nodeType===8?t.parentNode:t),new Ud(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Xv(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return pi(t)};Jt.hydrate=function(t,e,n){if(!Vu(e))throw Error(W(200));return Ou(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!zd(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=P0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=R0(e,null,t,1,n??null,i,!1,s,o),t[zn]=e.current,Uo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};Jt.render=function(t,e,n){if(!Vu(e))throw Error(W(200));return Ou(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Vu(t))throw Error(W(40));return t._reactRootContainer?(pi(function(){Ou(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1};Jt.unstable_batchedUpdates=Md;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vu(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Ou(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function k0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k0)}catch(t){console.error(t)}}k0(),kv.exports=Jt;var ZS=kv.exports,Dg=ZS;Eh.createRoot=Dg.createRoot,Eh.hydrateRoot=Dg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}var fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fr||(fr={}));const Vg="popstate";function eI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return mf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jl(i)}return nI(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tI(){return Math.random().toString(36).substr(2,8)}function Og(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,r){return n===void 0&&(n=null),Yo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||tI()})}function Jl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=fr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Yo({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=fr.Pop;let P=d(),S=P==null?null:P-c;c=P,u&&u({action:l,location:k.location,delta:S})}function m(P,S){l=fr.Push;let w=mf(k.location,P,S);c=d()+1;let I=Og(w,c),D=k.createHref(w);try{o.pushState(I,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}s&&u&&u({action:l,location:k.location,delta:1})}function T(P,S){l=fr.Replace;let w=mf(k.location,P,S);c=d();let I=Og(w,c),D=k.createHref(w);o.replaceState(I,"",D),s&&u&&u({action:l,location:k.location,delta:0})}function R(P){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof P=="string"?P:Jl(P);return w=w.replace(/ $/,"%20"),qe(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let k={get action(){return l},get location(){return t(i,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Vg,p),u=P,()=>{i.removeEventListener(Vg,p),u=null}},createHref(P){return e(i,P)},createURL:R,encodeLocation(P){let S=R(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:T,go(P){return o.go(P)}};return k}var Mg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Mg||(Mg={}));function rI(t,e,n){return n===void 0&&(n="/"),iI(t,e,n)}function iI(t,e,n,r){let i=typeof e=="string"?Ns(e):e,s=Gd(i.pathname||"/",n);if(s==null)return null;let o=N0(t);sI(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=yI(s);l=pI(o[u],c)}return l}function N0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ir([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),N0(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:fI(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of D0(s.path))i(s,o,u)}),e}function D0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=D0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function sI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oI=/^:[\w-]+$/,aI=3,lI=2,uI=1,cI=10,hI=-2,Lg=t=>t==="*";function fI(t,e){let n=t.split("/"),r=n.length;return n.some(Lg)&&(r+=hI),e&&(r+=lI),n.filter(i=>!Lg(i)).reduce((i,s)=>i+(oI.test(s)?aI:s===""?uI:cI),r)}function dI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=mI({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ir([s,p.pathname]),pathnameBase:TI(Ir([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ir([s,p.pathnameBase]))}return o}function mI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:m,isOptional:T}=d;if(m==="*"){let k=l[p]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const R=l[p];return T&&!R?c[m]=void 0:c[m]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function gI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const vI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_I=t=>vI.test(t);function wI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t,s;if(n)if(_I(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Bd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=jg(n.substring(1),"/"):s=jg(n,e)}else s=e;return{pathname:s,search:SI(r),hash:II(i)}}function jg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function th(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V0(t,e){let n=EI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=Yo({},t),qe(!i.pathname||!i.pathname.includes("?"),th("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),th("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),th("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=wI(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),TI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,II=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M0=["post","put","patch","delete"];new Set(M0);const CI=["get",...M0];new Set(CI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}const Hd=B.createContext(null),AI=B.createContext(null),Si=B.createContext(null),Mu=B.createContext(null),zr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=B.createContext(null);function RI(t,e){let{relative:n}=e===void 0?{}:e;pa()||qe(!1);let{basename:r,navigator:i}=B.useContext(Si),{hash:s,pathname:o,search:l}=F0(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ir([r,o])),i.createHref({pathname:u,search:l,hash:s})}function pa(){return B.useContext(Mu)!=null}function ma(){return pa()||qe(!1),B.useContext(Mu).location}function j0(t){B.useContext(Si).static||B.useLayoutEffect(t)}function Lu(){let{isDataRoute:t}=B.useContext(zr);return t?UI():PI()}function PI(){pa()||qe(!1);let t=B.useContext(Hd),{basename:e,future:n,navigator:r}=B.useContext(Si),{matches:i}=B.useContext(zr),{pathname:s}=ma(),o=JSON.stringify(V0(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return j0(()=>{l.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=O0(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ir([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function b0(){let{matches:t}=B.useContext(zr),e=t[t.length-1];return e?e.params:{}}function F0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Si),{matches:i}=B.useContext(zr),{pathname:s}=ma(),o=JSON.stringify(V0(i,r.v7_relativeSplatPath));return B.useMemo(()=>O0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function kI(t,e){return NI(t,e)}function NI(t,e,n,r){pa()||qe(!1);let{navigator:i}=B.useContext(Si),{matches:s}=B.useContext(zr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ma(),d;if(e){var p;let P=typeof e=="string"?Ns(e):e;u==="/"||(p=P.pathname)!=null&&p.startsWith(u)||qe(!1),d=P}else d=c;let m=d.pathname||"/",T=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");T="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=rI(t,{pathname:T}),k=LI(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Ir([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Ir([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&k?B.createElement(Mu.Provider,{value:{location:Xo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fr.Pop}},k):k}function DI(){let t=$I(),e=xI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const VI=B.createElement(DI,null);class OI extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(zr.Provider,{value:this.props.routeContext},B.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MI(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Hd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(zr.Provider,{value:e},r)}function LI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:T}=n,R=p.route.loader&&m[p.route.id]===void 0&&(!T||T[p.route.id]===void 0);if(p.route.lazy||R){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let T,R=!1,k=null,P=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||VI,u&&(c<0&&m===0?(zI("route-fallback"),R=!0,P=null):c===m&&(R=!0,P=p.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),w=()=>{let I;return T?I=k:R?I=P:p.route.Component?I=B.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,B.createElement(MI,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?B.createElement(OI,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var $0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($0||{}),U0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(U0||{});function jI(t){let e=B.useContext(Hd);return e||qe(!1),e}function bI(t){let e=B.useContext(AI);return e||qe(!1),e}function FI(t){let e=B.useContext(zr);return e||qe(!1),e}function z0(t){let e=FI(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function $I(){var t;let e=B.useContext(L0),n=bI(),r=z0();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UI(){let{router:t}=jI($0.UseNavigateStable),e=z0(U0.UseNavigateStable),n=B.useRef(!1);return j0(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xo({fromRouteId:e},s)))},[t,e])}const bg={};function zI(t,e,n){bg[t]||(bg[t]=!0)}function BI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function rr(t){qe(!1)}function GI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fr.Pop,navigator:s,static:o=!1,future:l}=t;pa()&&qe(!1);let u=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:s,static:o,future:Xo({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:d="/",search:p="",hash:m="",state:T=null,key:R="default"}=r,k=B.useMemo(()=>{let P=Gd(d,u);return P==null?null:{location:{pathname:P,search:p,hash:m,state:T,key:R},navigationType:i}},[u,d,p,m,T,R,i]);return k==null?null:B.createElement(Si.Provider,{value:c},B.createElement(Mu.Provider,{children:n,value:k}))}function HI(t){let{children:e,location:n}=t;return kI(gf(e),n)}new Promise(()=>{});function gf(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,gf(r.props.children,s));return}r.type!==rr&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function WI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QI(t,e){return t.button===0&&(!e||e==="_self")&&!qI(t)}const KI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YI="6";try{window.__reactRouterVersion=YI}catch{}const XI="startTransition",Fg=zE[XI];function JI(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=eI({window:i,v5Compat:!0}));let o=s.current,[l,u]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=B.useCallback(p=>{c&&Fg?Fg(()=>u(p)):u(p)},[u,c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>BI(r),[r]),B.createElement(GI,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ZI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,m=WI(e,KI),{basename:T}=B.useContext(Si),R,k=!1;if(typeof c=="string"&&ex.test(c)&&(R=c,ZI))try{let I=new URL(window.location.href),D=c.startsWith("//")?new URL(I.protocol+c):new URL(c),F=Gd(D.pathname,T);D.origin===I.origin&&F!=null?c=F+D.search+D.hash:k=!0}catch{}let P=RI(c,{relative:i}),S=tx(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function w(I){r&&r(I),I.defaultPrevented||S(I)}return B.createElement("a",yf({},m,{href:R||P,onClick:k||s?r:w,ref:n,target:u}))});var $g;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($g||($g={}));var Ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function tx(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=Lu(),c=ma(),d=F0(t,{relative:o});return B.useCallback(p=>{if(QI(p,n)){p.preventDefault();let m=r!==void 0?r:Jl(c)===Jl(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}var ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function Jo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Se="-ms-",Ao="-moz-",me="-webkit-",G0="comm",ju="rule",Wd="decl",nx="@import",H0="@keyframes",rx="@layer",W0=Math.abs,qd=String.fromCharCode,vf=Object.assign;function ix(t,e){return st(t,0)^45?(((e<<2^st(t,0))<<2^st(t,1))<<2^st(t,2))<<2^st(t,3):0}function q0(t){return t.trim()}function Ln(t,e){return(t=e.exec(t))?t[0]:t}function ae(t,e,n){return t.replace(e,n)}function yl(t,e,n){return t.indexOf(e,n)}function st(t,e){return t.charCodeAt(e)|0}function ms(t,e,n){return t.slice(e,n)}function Sn(t){return t.length}function Q0(t){return t.length}function fo(t,e){return e.push(t),t}function sx(t,e){return t.map(e).join("")}function zg(t,e){return t.filter(function(n){return!Ln(n,e)})}var bu=1,gs=1,K0=0,ln=0,Ge=0,Ds="";function Fu(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:bu,column:gs,length:o,return:"",siblings:l}}function ir(t,e){return vf(Fu("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Oi(t){for(;t.root;)t=ir(t.root,{children:[t]});fo(t,t.siblings)}function ox(){return Ge}function ax(){return Ge=ln>0?st(Ds,--ln):0,gs--,Ge===10&&(gs=1,bu--),Ge}function mn(){return Ge=ln<K0?st(Ds,ln++):0,gs++,Ge===10&&(gs=1,bu++),Ge}function ai(){return st(Ds,ln)}function vl(){return ln}function $u(t,e){return ms(Ds,t,e)}function _f(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lx(t){return bu=gs=1,K0=Sn(Ds=t),ln=0,[]}function ux(t){return Ds="",t}function nh(t){return q0($u(ln-1,wf(t===91?t+2:t===40?t+1:t)))}function cx(t){for(;(Ge=ai())&&Ge<33;)mn();return _f(t)>2||_f(Ge)>3?"":" "}function hx(t,e){for(;--e&&mn()&&!(Ge<48||Ge>102||Ge>57&&Ge<65||Ge>70&&Ge<97););return $u(t,vl()+(e<6&&ai()==32&&mn()==32))}function wf(t){for(;mn();)switch(Ge){case t:return ln;case 34:case 39:t!==34&&t!==39&&wf(Ge);break;case 40:t===41&&wf(t);break;case 92:mn();break}return ln}function fx(t,e){for(;mn()&&t+Ge!==57;)if(t+Ge===84&&ai()===47)break;return"/*"+$u(e,ln-1)+"*"+qd(t===47?t:mn())}function dx(t){for(;!_f(ai());)mn();return $u(t,ln)}function px(t){return ux(_l("",null,null,null,[""],t=lx(t),0,[0],t))}function _l(t,e,n,r,i,s,o,l,u){for(var c=0,d=0,p=o,m=0,T=0,R=0,k=1,P=1,S=1,w=0,I="",D=i,F=s,b=r,y=I;P;)switch(R=w,w=mn()){case 40:if(R!=108&&st(y,p-1)==58){yl(y+=ae(nh(w),"&","&\f"),"&\f",W0(c?l[c-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:y+=nh(w);break;case 9:case 10:case 13:case 32:y+=cx(R);break;case 92:y+=hx(vl()-1,7);continue;case 47:switch(ai()){case 42:case 47:fo(mx(fx(mn(),vl()),e,n,u),u);break;default:y+="/"}break;case 123*k:l[c++]=Sn(y)*S;case 125*k:case 59:case 0:switch(w){case 0:case 125:P=0;case 59+d:S==-1&&(y=ae(y,/\f/g,"")),T>0&&Sn(y)-p&&fo(T>32?Gg(y+";",r,n,p-1,u):Gg(ae(y," ","")+";",r,n,p-2,u),u);break;case 59:y+=";";default:if(fo(b=Bg(y,e,n,c,d,i,l,I,D=[],F=[],p,s),s),w===123)if(d===0)_l(y,e,b,b,D,s,p,l,F);else switch(m===99&&st(y,3)===110?100:m){case 100:case 108:case 109:case 115:_l(t,b,b,r&&fo(Bg(t,b,b,0,0,i,l,I,i,D=[],p,F),F),i,F,p,l,r?D:F);break;default:_l(y,b,b,b,[""],F,0,l,F)}}c=d=T=0,k=S=1,I=y="",p=o;break;case 58:p=1+Sn(y),T=R;default:if(k<1){if(w==123)--k;else if(w==125&&k++==0&&ax()==125)continue}switch(y+=qd(w),w*k){case 38:S=d>0?1:(y+="\f",-1);break;case 44:l[c++]=(Sn(y)-1)*S,S=1;break;case 64:ai()===45&&(y+=nh(mn())),m=ai(),d=p=Sn(I=y+=dx(vl())),w++;break;case 45:R===45&&Sn(y)==2&&(k=0)}}return s}function Bg(t,e,n,r,i,s,o,l,u,c,d,p){for(var m=i-1,T=i===0?s:[""],R=Q0(T),k=0,P=0,S=0;k<r;++k)for(var w=0,I=ms(t,m+1,m=W0(P=o[k])),D=t;w<R;++w)(D=q0(P>0?T[w]+" "+I:ae(I,/&\f/g,T[w])))&&(u[S++]=D);return Fu(t,e,n,i===0?ju:l,u,c,d,p)}function mx(t,e,n,r){return Fu(t,e,n,G0,qd(ox()),ms(t,2,-2),0,r)}function Gg(t,e,n,r,i){return Fu(t,e,n,Wd,ms(t,0,r),ms(t,r+1,-1),r,i)}function Y0(t,e,n){switch(ix(t,e)){case 5103:return me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return me+t+t;case 4789:return Ao+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return me+t+Ao+t+Se+t+t;case 5936:switch(st(t,e+11)){case 114:return me+t+Se+ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return me+t+Se+ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return me+t+Se+ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return me+t+Se+t+t;case 6165:return me+t+Se+"flex-"+t+t;case 5187:return me+t+ae(t,/(\w+).+(:[^]+)/,me+"box-$1$2"+Se+"flex-$1$2")+t;case 5443:return me+t+Se+"flex-item-"+ae(t,/flex-|-self/g,"")+(Ln(t,/flex-|baseline/)?"":Se+"grid-row-"+ae(t,/flex-|-self/g,""))+t;case 4675:return me+t+Se+"flex-line-pack"+ae(t,/align-content|flex-|-self/g,"")+t;case 5548:return me+t+Se+ae(t,"shrink","negative")+t;case 5292:return me+t+Se+ae(t,"basis","preferred-size")+t;case 6060:return me+"box-"+ae(t,"-grow","")+me+t+Se+ae(t,"grow","positive")+t;case 4554:return me+ae(t,/([^-])(transform)/g,"$1"+me+"$2")+t;case 6187:return ae(ae(ae(t,/(zoom-|grab)/,me+"$1"),/(image-set)/,me+"$1"),t,"")+t;case 5495:case 3959:return ae(t,/(image-set\([^]*)/,me+"$1$`$1");case 4968:return ae(ae(t,/(.+:)(flex-)?(.*)/,me+"box-pack:$3"+Se+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+me+t+t;case 4200:if(!Ln(t,/flex-|baseline/))return Se+"grid-column-align"+ms(t,e)+t;break;case 2592:case 3360:return Se+ae(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ln(r.props,/grid-\w+-end/)})?~yl(t+(n=n[e].value),"span",0)?t:Se+ae(t,"-start","")+t+Se+"grid-row-span:"+(~yl(n,"span",0)?Ln(n,/\d+/):+Ln(n,/\d+/)-+Ln(t,/\d+/))+";":Se+ae(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ln(r.props,/grid-\w+-start/)})?t:Se+ae(ae(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ae(t,/(.+)-inline(.+)/,me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-e>6)switch(st(t,e+1)){case 109:if(st(t,e+4)!==45)break;case 102:return ae(t,/(.+:)(.+)-([^]+)/,"$1"+me+"$2-$3$1"+Ao+(st(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yl(t,"stretch",0)?Y0(ae(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ae(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,c){return Se+i+":"+s+c+(o?Se+i+"-span:"+(l?u:+u-+s)+c:"")+t});case 4949:if(st(t,e+6)===121)return ae(t,":",":"+me)+t;break;case 6444:switch(st(t,st(t,14)===45?18:11)){case 120:return ae(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+me+(st(t,14)===45?"inline-":"")+"box$3$1"+me+"$2$3$1"+Se+"$2box$3")+t;case 100:return ae(t,":",":"+Se)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ae(t,"scroll-","scroll-snap-")+t}return t}function Zl(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function gx(t,e,n,r){switch(t.type){case rx:if(t.children.length)break;case nx:case Wd:return t.return=t.return||t.value;case G0:return"";case H0:return t.return=t.value+"{"+Zl(t.children,r)+"}";case ju:if(!Sn(t.value=t.props.join(",")))return""}return Sn(n=Zl(t.children,r))?t.return=t.value+"{"+n+"}":""}function yx(t){var e=Q0(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function vx(t){return function(e){e.root||(e=e.return)&&t(e)}}function _x(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Wd:t.return=Y0(t.value,t.length,n);return;case H0:return Zl([ir(t,{value:ae(t.value,"@","@"+me)})],r);case ju:if(t.length)return sx(n=t.props,function(i){switch(Ln(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Oi(ir(t,{props:[ae(i,/:(read-\w+)/,":"+Ao+"$1")]})),Oi(ir(t,{props:[i]})),vf(t,{props:zg(n,r)});break;case"::placeholder":Oi(ir(t,{props:[ae(i,/:(plac\w+)/,":"+me+"input-$1")]})),Oi(ir(t,{props:[ae(i,/:(plac\w+)/,":"+Ao+"$1")]})),Oi(ir(t,{props:[ae(i,/:(plac\w+)/,Se+"input-$1")]})),Oi(ir(t,{props:[i]})),vf(t,{props:zg(n,r)});break}return""})}}var wx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bt={},ys=typeof process<"u"&&Bt!==void 0&&(Bt.REACT_APP_SC_ATTR||Bt.SC_ATTR)||"data-styled",X0="active",J0="data-styled-version",Uu="6.1.19",Qd=`/*!sc*/
`,eu=typeof window<"u"&&typeof document<"u",Ex=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==""?Bt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Bt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.SC_DISABLE_SPEEDY!==void 0&&Bt.SC_DISABLE_SPEEDY!==""&&Bt.SC_DISABLE_SPEEDY!=="false"&&Bt.SC_DISABLE_SPEEDY),Tx={},zu=Object.freeze([]),vs=Object.freeze({});function Z0(t,e,n){return n===void 0&&(n=vs),t.theme!==n.theme&&t.theme||e||n.theme}var e1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Sx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ix=/(^-|-$)/g;function Hg(t){return t.replace(Sx,"-").replace(Ix,"")}var xx=/(a)(d)/gi,Xa=52,Wg=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ef(t){var e,n="";for(e=Math.abs(t);e>Xa;e=e/Xa|0)n=Wg(e%Xa)+n;return(Wg(e%Xa)+n).replace(xx,"$1-$2")}var rh,t1=5381,Xi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},n1=function(t){return Xi(t1,t)};function r1(t){return Ef(n1(t)>>>0)}function Cx(t){return t.displayName||t.name||"Component"}function ih(t){return typeof t=="string"&&!0}var i1=typeof Symbol=="function"&&Symbol.for,s1=i1?Symbol.for("react.memo"):60115,Ax=i1?Symbol.for("react.forward_ref"):60112,Rx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Px={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kx=((rh={})[Ax]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rh[s1]=o1,rh);function qg(t){return("type"in(e=t)&&e.type.$$typeof)===s1?o1:"$$typeof"in t?kx[t.$$typeof]:Rx;var e}var Nx=Object.defineProperty,Dx=Object.getOwnPropertyNames,Qg=Object.getOwnPropertySymbols,Vx=Object.getOwnPropertyDescriptor,Ox=Object.getPrototypeOf,Kg=Object.prototype;function a1(t,e,n){if(typeof e!="string"){if(Kg){var r=Ox(e);r&&r!==Kg&&a1(t,r,n)}var i=Dx(e);Qg&&(i=i.concat(Qg(e)));for(var s=qg(t),o=qg(e),l=0;l<i.length;++l){var u=i[l];if(!(u in Px||n&&n[u]||o&&u in o||s&&u in s)){var c=Vx(e,u);try{Nx(t,u,c)}catch{}}}}return t}function mi(t){return typeof t=="function"}function Kd(t){return typeof t=="object"&&"styledComponentId"in t}function ri(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Tf(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Zo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Sf(t,e,n){if(n===void 0&&(n=!1),!n&&!Zo(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Sf(t[r],e[r]);else if(Zo(e))for(var r in e)t[r]=Sf(t[r],e[r]);return t}function Yd(t,e){Object.defineProperty(t,"toString",{value:e})}function gi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Mx=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw gi(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Qd);return n},t}(),wl=new Map,tu=new Map,El=1,Ja=function(t){if(wl.has(t))return wl.get(t);for(;tu.has(El);)El++;var e=El++;return wl.set(t,e),tu.set(e,t),e},Lx=function(t,e){El=e+1,wl.set(t,e),tu.set(e,t)},jx="style[".concat(ys,"][").concat(J0,'="').concat(Uu,'"]'),bx=new RegExp("^".concat(ys,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fx=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},$x=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Qd),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(bx);if(u){var c=0|parseInt(u[1],10),d=u[2];c!==0&&(Lx(d,c),Fx(t,d,u[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(l)}}},Yg=function(t){for(var e=document.querySelectorAll(jx),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(ys)!==X0&&($x(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Ux(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var l1=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(ys,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ys,X0),r.setAttribute(J0,Uu);var o=Ux();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},zx=function(){function t(e){this.element=l1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw gi(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Bx=function(){function t(e){this.element=l1(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Gx=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Xg=eu,Hx={isServer:!eu,useCSSOMInjection:!Ex},nu=function(){function t(e,n,r){e===void 0&&(e=vs),n===void 0&&(n={});var i=this;this.options=ot(ot({},Hx),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&eu&&Xg&&(Xg=!1,Yg(this)),Yd(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",c=function(p){var m=function(S){return tu.get(S)}(p);if(m===void 0)return"continue";var T=s.names.get(m),R=o.getGroup(p);if(T===void 0||!T.size||R.length===0)return"continue";var k="".concat(ys,".g").concat(p,'[id="').concat(m,'"]'),P="";T!==void 0&&T.forEach(function(S){S.length>0&&(P+="".concat(S,","))}),u+="".concat(R).concat(k,'{content:"').concat(P,'"}').concat(Qd)},d=0;d<l;d++)c(d);return u}(i)})}return t.registerId=function(e){return Ja(e)},t.prototype.rehydrate=function(){!this.server&&eu&&Yg(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ot(ot({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Gx(i):r?new zx(i):new Bx(i)}(this.options),new Mx(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Ja(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Ja(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ja(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Wx=/&/g,qx=/^\s*\/\/.*$/gm;function u1(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=u1(n.children,e)),n})}function Qx(t){var e,n,r,i=vs,s=i.options,o=s===void 0?vs:s,l=i.plugins,u=l===void 0?zu:l,c=function(m,T,R){return R.startsWith(n)&&R.endsWith(n)&&R.replaceAll(n,"").length>0?".".concat(e):m},d=u.slice();d.push(function(m){m.type===ju&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(Wx,n).replace(r,c))}),o.prefix&&d.push(_x),d.push(gx);var p=function(m,T,R,k){T===void 0&&(T=""),R===void 0&&(R=""),k===void 0&&(k="&"),e=k,n=T,r=new RegExp("\\".concat(n,"\\b"),"g");var P=m.replace(qx,""),S=px(R||T?"".concat(R," ").concat(T," { ").concat(P," }"):P);o.namespace&&(S=u1(S,o.namespace));var w=[];return Zl(S,yx(d.concat(vx(function(I){return w.push(I)})))),w};return p.hash=u.length?u.reduce(function(m,T){return T.name||gi(15),Xi(m,T.name)},t1).toString():"",p}var Kx=new nu,If=Qx(),c1=Ht.createContext({shouldForwardProp:void 0,styleSheet:Kx,stylis:If});c1.Consumer;Ht.createContext(void 0);function xf(){return B.useContext(c1)}var Yx=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=If);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Yd(this,function(){throw gi(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=If),this.name+e.hash},t}(),Xx=function(t){return t>="A"&&t<="Z"};function Jg(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Xx(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var h1=function(t){return t==null||t===!1||t===""},f1=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!h1(s)&&(Array.isArray(s)&&s.isCss||mi(s)?r.push("".concat(Jg(i),":"),s,";"):Zo(s)?r.push.apply(r,Jo(Jo(["".concat(i," {")],f1(s),!1),["}"],!1)):r.push("".concat(Jg(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in wx||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function xr(t,e,n,r){if(h1(t))return[];if(Kd(t))return[".".concat(t.styledComponentId)];if(mi(t)){if(!mi(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return xr(i,e,n,r)}var s;return t instanceof Yx?n?(t.inject(n,r),[t.getName(r)]):[t]:Zo(t)?f1(t):Array.isArray(t)?Array.prototype.concat.apply(zu,t.map(function(o){return xr(o,e,n,r)})):[t.toString()]}function d1(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(mi(n)&&!Kd(n))return!1}return!0}var Jx=n1(Uu),Zx=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&d1(e),this.componentId=n,this.baseHash=Xi(Jx,n),this.baseStyle=r,nu.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ri(i,this.staticRulesId);else{var s=Tf(xr(this.rules,e,n,r)),o=Ef(Xi(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=ri(i,o),this.staticRulesId=o}else{for(var u=Xi(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var p=this.rules[d];if(typeof p=="string")c+=p;else if(p){var m=Tf(xr(p,e,n,r));u=Xi(u,m+d),c+=m}}if(c){var T=Ef(u>>>0);n.hasNameForId(this.componentId,T)||n.insertRules(this.componentId,T,r(c,".".concat(T),void 0,this.componentId)),i=ri(i,T)}}return i},t}(),ea=Ht.createContext(void 0);ea.Consumer;function eC(t){var e=Ht.useContext(ea),n=B.useMemo(function(){return function(r,i){if(!r)throw gi(14);if(mi(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw gi(8);return i?ot(ot({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?Ht.createElement(ea.Provider,{value:n},t.children):null}var sh={};function tC(t,e,n){var r=Kd(t),i=t,s=!ih(t),o=e.attrs,l=o===void 0?zu:o,u=e.componentId,c=u===void 0?function(D,F){var b=typeof D!="string"?"sc":Hg(D);sh[b]=(sh[b]||0)+1;var y="".concat(b,"-").concat(r1(Uu+b+sh[b]));return F?"".concat(F,"-").concat(y):y}(e.displayName,e.parentComponentId):u,d=e.displayName,p=d===void 0?function(D){return ih(D)?"styled.".concat(D):"Styled(".concat(Cx(D),")")}(t):d,m=e.displayName&&e.componentId?"".concat(Hg(e.displayName),"-").concat(e.componentId):e.componentId||c,T=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,R=e.shouldForwardProp;if(r&&i.shouldForwardProp){var k=i.shouldForwardProp;if(e.shouldForwardProp){var P=e.shouldForwardProp;R=function(D,F){return k(D,F)&&P(D,F)}}else R=k}var S=new Zx(n,m,r?i.componentStyle:void 0);function w(D,F){return function(b,y,g){var E=b.attrs,x=b.componentStyle,A=b.defaultProps,N=b.foldedComponentIds,C=b.styledComponentId,ye=b.target,mt=Ht.useContext(ea),Ae=xf(),Pt=b.shouldForwardProp||Ae.shouldForwardProp,V=Z0(y,mt,A)||vs,M=function(Fe,ze,et){for(var kt,Ut=ot(ot({},ze),{className:void 0,theme:et}),Kn=0;Kn<Fe.length;Kn+=1){var On=mi(kt=Fe[Kn])?kt(Ut):kt;for(var Nt in On)Ut[Nt]=Nt==="className"?ri(Ut[Nt],On[Nt]):Nt==="style"?ot(ot({},Ut[Nt]),On[Nt]):On[Nt]}return ze.className&&(Ut.className=ri(Ut.className,ze.className)),Ut}(E,y,V),j=M.as||ye,z={};for(var H in M)M[H]===void 0||H[0]==="$"||H==="as"||H==="theme"&&M.theme===V||(H==="forwardedAs"?z.as=M.forwardedAs:Pt&&!Pt(H,j)||(z[H]=M[H]));var q=function(Fe,ze){var et=xf(),kt=Fe.generateAndInjectStyles(ze,et.styleSheet,et.stylis);return kt}(x,M),te=ri(N,C);return q&&(te+=" "+q),M.className&&(te+=" "+M.className),z[ih(j)&&!e1.has(j)?"class":"className"]=te,g&&(z.ref=g),B.createElement(j,z)}(I,D,F)}w.displayName=p;var I=Ht.forwardRef(w);return I.attrs=T,I.componentStyle=S,I.displayName=p,I.shouldForwardProp=R,I.foldedComponentIds=r?ri(i.foldedComponentIds,i.styledComponentId):"",I.styledComponentId=m,I.target=r?i.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=r?function(F){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];for(var g=0,E=b;g<E.length;g++)Sf(F,E[g],!0);return F}({},i.defaultProps,D):D}}),Yd(I,function(){return".".concat(I.styledComponentId)}),s&&a1(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function Zg(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var ey=function(t){return Object.assign(t,{isCss:!0})};function p1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mi(t)||Zo(t))return ey(xr(Zg(zu,Jo([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?xr(r):ey(xr(Zg(r,e)))}function Cf(t,e,n){if(n===void 0&&(n=vs),!e)throw gi(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,p1.apply(void 0,Jo([i],s,!1)))};return r.attrs=function(i){return Cf(t,e,ot(ot({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Cf(t,e,ot(ot({},n),i))},r}var m1=function(t){return Cf(tC,t)},Z=m1;e1.forEach(function(t){Z[t]=m1(t)});var nC=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=d1(e),nu.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Tf(xr(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&nu.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function rC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=p1.apply(void 0,Jo([t],e,!1)),i="sc-global-".concat(r1(JSON.stringify(r))),s=new nC(r,i),o=function(u){var c=xf(),d=Ht.useContext(ea),p=Ht.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&l(p,u,c.styleSheet,d,c.stylis),Ht.useLayoutEffect(function(){if(!c.styleSheet.server)return l(p,u,c.styleSheet,d,c.stylis),function(){return s.removeStyles(p,c.styleSheet)}},[p,u,c.styleSheet,d,c.stylis]),null};function l(u,c,d,p,m){if(s.isStatic)s.renderStyles(u,Tx,d,m);else{var T=ot(ot({},c),{theme:Z0(c,p,o.defaultProps)});s.renderStyles(u,T,d,m)}}return Ht.memo(o)}const iC=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,T=c&63;u||(T=64,o||(m=64)),r.push(n[d],n[p],n[m],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new oC;const m=s<<2|l>>4;if(r.push(m),c!==64){const T=l<<4&240|c>>2;if(r.push(T),p!==64){const R=c<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(t){const e=g1(t);return y1.encodeByteArray(e,!0)},ru=function(t){return aC(t).replace(/\./g,"")},lC=function(t){try{return y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof ty>"u")return;const t=ty.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lC(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return iC()||cC()||hC()||fC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dC=t=>{var e,n;return(n=(e=Xd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pC=t=>{const e=dC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v1=()=>{var t;return(t=Xd())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),""].join(".")}const Ro={};function vC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?t.emulator.push(e):t.prod.push(e);return t}function _C(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ny=!1;function wC(t,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||Ro[t]===e||Ro[t]||ny)return;Ro[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=vC().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,T){m.setAttribute("width","24"),m.setAttribute("id",T),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ny=!0,o()},m}function d(m,T){m.setAttribute("id",T),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=_C(r),T=n("text"),R=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),S=n("preprendIcon"),w=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;l(I),d(P,k);const D=c();u(w,S),I.append(w,R,P,D),document.body.appendChild(I)}s?(R.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){var e;const t=(e=Xd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SC(){return!TC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CC,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_1.prototype.create)}}class _1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Vs(i,l,r)}}function AC(t,e){return t.replace(RC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ry(s)&&ry(o)){if(!iu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ry(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(t){return t===Zr?void 0:t}function NC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const VC={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},OC=fe.INFO,MC={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},LC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w1{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const jC=(t,e)=>e.some(n=>t instanceof n);let iy,sy;function bC(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,Af=new WeakMap,T1=new WeakMap,oh=new WeakMap,Zd=new WeakMap;function $C(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,t)}).catch(()=>{}),Zd.set(e,t),e}function UC(t){if(Af.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Af.set(t,e)}let Rf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zC(t){Rf=t(Rf)}function BC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ah(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),Cr(r)}:FC().includes(t)?function(...e){return t.apply(ah(this),e),Cr(E1.get(this))}:function(...e){return Cr(t.apply(ah(this),e))}}function GC(t){return typeof t=="function"?BC(t):(t instanceof IDBTransaction&&UC(t),jC(t,bC())?new Proxy(t,Rf):t)}function Cr(t){if(t instanceof IDBRequest)return $C(t);if(oh.has(t))return oh.get(t);const e=GC(t);return e!==t&&(oh.set(t,e),Zd.set(e,t)),e}const ah=t=>Zd.get(t);function HC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Cr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Cr(o.result),u.oldVersion,u.newVersion,Cr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const WC=["get","getKey","getAll","getAllKeys","count"],qC=["put","add","delete","clear"],lh=new Map;function oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lh.get(e))return lh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WC.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return lh.set(e,s),s}zC(t=>({...t,get:(e,n,r)=>oy(e,n)||t.get(e,n,r),has:(e,n)=>!!oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pf="@firebase/app",ay="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new w1("@firebase/app"),YC="@firebase/app-compat",XC="@firebase/analytics-compat",JC="@firebase/analytics",ZC="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",rA="@firebase/database",iA="@firebase/data-connect",sA="@firebase/database-compat",oA="@firebase/functions",aA="@firebase/functions-compat",lA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",dA="@firebase/performance-compat",pA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",yA="@firebase/storage-compat",vA="@firebase/firestore",_A="@firebase/ai",wA="@firebase/firestore-compat",EA="firebase",TA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",SA={[Pf]:"fire-core",[YC]:"fire-core-compat",[JC]:"fire-analytics",[XC]:"fire-analytics-compat",[eA]:"fire-app-check",[ZC]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[rA]:"fire-rtdb",[iA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[oA]:"fire-fn",[aA]:"fire-fn-compat",[lA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[dA]:"fire-perf-compat",[pA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[yA]:"fire-gcs-compat",[vA]:"fire-fst",[wA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,IA=new Map,Nf=new Map;function ly(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ou(t){const e=t.name;if(Nf.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,t);for(const n of su.values())ly(n,t);for(const n of IA.values())ly(n,t);return!0}function xA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function CA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new _1("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=TA;function S1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=v1()),!n)throw Ar.create("no-options");const s=su.get(i);if(s){if(iu(n,s.options)&&iu(r,s.config))return s;throw Ar.create("duplicate-app",{appName:i})}const o=new DC(i);for(const u of Nf.values())o.addComponent(u);const l=new RA(n,r,o);return su.set(i,l),l}function kA(t=kf){const e=su.get(t);if(!e&&t===kf&&v1())return S1();if(!e)throw Ar.create("no-app",{appName:t});return e}function is(t,e,n){let r=SA[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(o.join(" "));return}ou(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebase-heartbeat-database",DA=1,na="firebase-heartbeat-store";let uh=null;function I1(){return uh||(uh=HC(NA,DA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(na)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),uh}async function VA(t){try{const n=(await I1()).transaction(na),r=await n.objectStore(na).get(x1(t));return await n.done,r}catch(e){if(e instanceof Vs)Hn.warn(e.message);else{const n=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hn.warn(n.message)}}}async function uy(t,e){try{const r=(await I1()).transaction(na,"readwrite");await r.objectStore(na).put(e,x1(t)),await r.done}catch(n){if(n instanceof Vs)Hn.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hn.warn(r.message)}}}function x1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1024,MA=30;class LA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>MA){const o=FA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cy(),{heartbeatsToSend:r,unsentEntries:i}=jA(this._heartbeatsCache.heartbeats),s=ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hn.warn(n),""}}}function cy(){return new Date().toISOString().substring(0,10)}function jA(t,e=OA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hy(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function FA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){ou(new ta("platform-logger",e=>new QC(e),"PRIVATE")),ou(new ta("heartbeat",e=>new LA(e),"PRIVATE")),is(Pf,ay,t),is(Pf,ay,"esm2020"),is("fire-js","")}$A("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,C1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,g){function E(){}E.prototype=g.prototype,y.F=g.prototype,y.prototype=new E,y.prototype.constructor=y,y.D=function(x,A,N){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return g.prototype[A].apply(x,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,g,E){E||(E=0);const x=Array(16);if(typeof g=="string")for(var A=0;A<16;++A)x[A]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(A=0;A<16;++A)x[A]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=y.g[0],E=y.g[1],A=y.g[2];let N=y.g[3],C;C=g+(N^E&(A^N))+x[0]+3614090360&4294967295,g=E+(C<<7&4294967295|C>>>25),C=N+(A^g&(E^A))+x[1]+3905402710&4294967295,N=g+(C<<12&4294967295|C>>>20),C=A+(E^N&(g^E))+x[2]+606105819&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(g^A&(N^g))+x[3]+3250441966&4294967295,E=A+(C<<22&4294967295|C>>>10),C=g+(N^E&(A^N))+x[4]+4118548399&4294967295,g=E+(C<<7&4294967295|C>>>25),C=N+(A^g&(E^A))+x[5]+1200080426&4294967295,N=g+(C<<12&4294967295|C>>>20),C=A+(E^N&(g^E))+x[6]+2821735955&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(g^A&(N^g))+x[7]+4249261313&4294967295,E=A+(C<<22&4294967295|C>>>10),C=g+(N^E&(A^N))+x[8]+1770035416&4294967295,g=E+(C<<7&4294967295|C>>>25),C=N+(A^g&(E^A))+x[9]+2336552879&4294967295,N=g+(C<<12&4294967295|C>>>20),C=A+(E^N&(g^E))+x[10]+4294925233&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(g^A&(N^g))+x[11]+2304563134&4294967295,E=A+(C<<22&4294967295|C>>>10),C=g+(N^E&(A^N))+x[12]+1804603682&4294967295,g=E+(C<<7&4294967295|C>>>25),C=N+(A^g&(E^A))+x[13]+4254626195&4294967295,N=g+(C<<12&4294967295|C>>>20),C=A+(E^N&(g^E))+x[14]+2792965006&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(g^A&(N^g))+x[15]+1236535329&4294967295,E=A+(C<<22&4294967295|C>>>10),C=g+(A^N&(E^A))+x[1]+4129170786&4294967295,g=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(g^E))+x[6]+3225465664&4294967295,N=g+(C<<9&4294967295|C>>>23),C=A+(g^E&(N^g))+x[11]+643717713&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^g&(A^N))+x[0]+3921069994&4294967295,E=A+(C<<20&4294967295|C>>>12),C=g+(A^N&(E^A))+x[5]+3593408605&4294967295,g=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(g^E))+x[10]+38016083&4294967295,N=g+(C<<9&4294967295|C>>>23),C=A+(g^E&(N^g))+x[15]+3634488961&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^g&(A^N))+x[4]+3889429448&4294967295,E=A+(C<<20&4294967295|C>>>12),C=g+(A^N&(E^A))+x[9]+568446438&4294967295,g=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(g^E))+x[14]+3275163606&4294967295,N=g+(C<<9&4294967295|C>>>23),C=A+(g^E&(N^g))+x[3]+4107603335&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^g&(A^N))+x[8]+1163531501&4294967295,E=A+(C<<20&4294967295|C>>>12),C=g+(A^N&(E^A))+x[13]+2850285829&4294967295,g=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(g^E))+x[2]+4243563512&4294967295,N=g+(C<<9&4294967295|C>>>23),C=A+(g^E&(N^g))+x[7]+1735328473&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^g&(A^N))+x[12]+2368359562&4294967295,E=A+(C<<20&4294967295|C>>>12),C=g+(E^A^N)+x[5]+4294588738&4294967295,g=E+(C<<4&4294967295|C>>>28),C=N+(g^E^A)+x[8]+2272392833&4294967295,N=g+(C<<11&4294967295|C>>>21),C=A+(N^g^E)+x[11]+1839030562&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^g)+x[14]+4259657740&4294967295,E=A+(C<<23&4294967295|C>>>9),C=g+(E^A^N)+x[1]+2763975236&4294967295,g=E+(C<<4&4294967295|C>>>28),C=N+(g^E^A)+x[4]+1272893353&4294967295,N=g+(C<<11&4294967295|C>>>21),C=A+(N^g^E)+x[7]+4139469664&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^g)+x[10]+3200236656&4294967295,E=A+(C<<23&4294967295|C>>>9),C=g+(E^A^N)+x[13]+681279174&4294967295,g=E+(C<<4&4294967295|C>>>28),C=N+(g^E^A)+x[0]+3936430074&4294967295,N=g+(C<<11&4294967295|C>>>21),C=A+(N^g^E)+x[3]+3572445317&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^g)+x[6]+76029189&4294967295,E=A+(C<<23&4294967295|C>>>9),C=g+(E^A^N)+x[9]+3654602809&4294967295,g=E+(C<<4&4294967295|C>>>28),C=N+(g^E^A)+x[12]+3873151461&4294967295,N=g+(C<<11&4294967295|C>>>21),C=A+(N^g^E)+x[15]+530742520&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^g)+x[2]+3299628645&4294967295,E=A+(C<<23&4294967295|C>>>9),C=g+(A^(E|~N))+x[0]+4096336452&4294967295,g=E+(C<<6&4294967295|C>>>26),C=N+(E^(g|~A))+x[7]+1126891415&4294967295,N=g+(C<<10&4294967295|C>>>22),C=A+(g^(N|~E))+x[14]+2878612391&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~g))+x[5]+4237533241&4294967295,E=A+(C<<21&4294967295|C>>>11),C=g+(A^(E|~N))+x[12]+1700485571&4294967295,g=E+(C<<6&4294967295|C>>>26),C=N+(E^(g|~A))+x[3]+2399980690&4294967295,N=g+(C<<10&4294967295|C>>>22),C=A+(g^(N|~E))+x[10]+4293915773&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~g))+x[1]+2240044497&4294967295,E=A+(C<<21&4294967295|C>>>11),C=g+(A^(E|~N))+x[8]+1873313359&4294967295,g=E+(C<<6&4294967295|C>>>26),C=N+(E^(g|~A))+x[15]+4264355552&4294967295,N=g+(C<<10&4294967295|C>>>22),C=A+(g^(N|~E))+x[6]+2734768916&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~g))+x[13]+1309151649&4294967295,E=A+(C<<21&4294967295|C>>>11),C=g+(A^(E|~N))+x[4]+4149444226&4294967295,g=E+(C<<6&4294967295|C>>>26),C=N+(E^(g|~A))+x[11]+3174756917&4294967295,N=g+(C<<10&4294967295|C>>>22),C=A+(g^(N|~E))+x[2]+718787259&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~g))+x[9]+3951481745&4294967295,y.g[0]=y.g[0]+g&4294967295,y.g[1]=y.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,y.g[2]=y.g[2]+A&4294967295,y.g[3]=y.g[3]+N&4294967295}r.prototype.v=function(y,g){g===void 0&&(g=y.length);const E=g-this.blockSize,x=this.C;let A=this.h,N=0;for(;N<g;){if(A==0)for(;N<=E;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<g;)if(x[A++]=y.charCodeAt(N++),A==this.blockSize){i(this,x),A=0;break}}else for(;N<g;)if(x[A++]=y[N++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=g},r.prototype.A=function(){var y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);y[0]=128;for(var g=1;g<y.length-8;++g)y[g]=0;g=this.o*8;for(var E=y.length-8;E<y.length;++E)y[E]=g&255,g/=256;for(this.v(y),y=Array(16),g=0,E=0;E<4;++E)for(let x=0;x<32;x+=8)y[g++]=this.g[E]>>>x&255;return y};function s(y,g){var E=l;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=g(y)}function o(y,g){this.h=g;const E=[];let x=!0;for(let A=y.length-1;A>=0;A--){const N=y[A]|0;x&&N==g||(E[A]=N,x=!1)}this.g=E}var l={};function u(y){return-128<=y&&y<128?s(y,function(g){return new o([g|0],g<0?-1:0)}):new o([y|0],y<0?-1:0)}function c(y){if(isNaN(y)||!isFinite(y))return p;if(y<0)return P(c(-y));const g=[];let E=1;for(let x=0;y>=E;x++)g[x]=y/E|0,E*=4294967296;return new o(g,0)}function d(y,g){if(y.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(y.charAt(0)=="-")return P(d(y.substring(1),g));if(y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=c(Math.pow(g,8));let x=p;for(let N=0;N<y.length;N+=8){var A=Math.min(8,y.length-N);const C=parseInt(y.substring(N,N+A),g);A<8?(A=c(Math.pow(g,A)),x=x.j(A).add(c(C))):(x=x.j(E),x=x.add(c(C)))}return x}var p=u(0),m=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();let y=0,g=1;for(let E=0;E<this.g.length;E++){const x=this.i(E);y+=(x>=0?x:4294967296+x)*g,g*=4294967296}return y},t.toString=function(y){if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(R(this))return"0";if(k(this))return"-"+P(this).toString(y);const g=c(Math.pow(y,6));var E=this;let x="";for(;;){const A=D(E,g).g;E=S(E,A.j(g));let N=((E.g.length>0?E.g[0]:E.h)>>>0).toString(y);if(E=A,R(E))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(y){return y<0?0:y<this.g.length?this.g[y]:this.h};function R(y){if(y.h!=0)return!1;for(let g=0;g<y.g.length;g++)if(y.g[g]!=0)return!1;return!0}function k(y){return y.h==-1}t.l=function(y){return y=S(this,y),k(y)?-1:R(y)?0:1};function P(y){const g=y.g.length,E=[];for(let x=0;x<g;x++)E[x]=~y.g[x];return new o(E,~y.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(y){const g=Math.max(this.g.length,y.g.length),E=[];let x=0;for(let A=0;A<=g;A++){let N=x+(this.i(A)&65535)+(y.i(A)&65535),C=(N>>>16)+(this.i(A)>>>16)+(y.i(A)>>>16);x=C>>>16,N&=65535,C&=65535,E[A]=C<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(y,g){return y.add(P(g))}t.j=function(y){if(R(this)||R(y))return p;if(k(this))return k(y)?P(this).j(P(y)):P(P(this).j(y));if(k(y))return P(this.j(P(y)));if(this.l(T)<0&&y.l(T)<0)return c(this.m()*y.m());const g=this.g.length+y.g.length,E=[];for(var x=0;x<2*g;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(let A=0;A<y.g.length;A++){const N=this.i(x)>>>16,C=this.i(x)&65535,ye=y.i(A)>>>16,mt=y.i(A)&65535;E[2*x+2*A]+=C*mt,w(E,2*x+2*A),E[2*x+2*A+1]+=N*mt,w(E,2*x+2*A+1),E[2*x+2*A+1]+=C*ye,w(E,2*x+2*A+1),E[2*x+2*A+2]+=N*ye,w(E,2*x+2*A+2)}for(y=0;y<g;y++)E[y]=E[2*y+1]<<16|E[2*y];for(y=g;y<2*g;y++)E[y]=0;return new o(E,0)};function w(y,g){for(;(y[g]&65535)!=y[g];)y[g+1]+=y[g]>>>16,y[g]&=65535,g++}function I(y,g){this.g=y,this.h=g}function D(y,g){if(R(g))throw Error("division by zero");if(R(y))return new I(p,p);if(k(y))return g=D(P(y),g),new I(P(g.g),P(g.h));if(k(g))return g=D(y,P(g)),new I(P(g.g),g.h);if(y.g.length>30){if(k(y)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var E=m,x=g;x.l(y)<=0;)E=F(E),x=F(x);var A=b(E,1),N=b(x,1);for(x=b(x,2),E=b(E,2);!R(x);){var C=N.add(x);C.l(y)<=0&&(A=A.add(E),N=C),x=b(x,1),E=b(E,1)}return g=S(y,A.j(g)),new I(A,g)}for(A=p;y.l(g)>=0;){for(E=Math.max(1,Math.floor(y.m()/g.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=c(E),C=N.j(g);k(C)||C.l(y)>0;)E-=x,N=c(E),C=N.j(g);R(N)&&(N=m),A=A.add(N),y=S(y,C)}return new I(A,y)}t.B=function(y){return D(this,y).h},t.and=function(y){const g=Math.max(this.g.length,y.g.length),E=[];for(let x=0;x<g;x++)E[x]=this.i(x)&y.i(x);return new o(E,this.h&y.h)},t.or=function(y){const g=Math.max(this.g.length,y.g.length),E=[];for(let x=0;x<g;x++)E[x]=this.i(x)|y.i(x);return new o(E,this.h|y.h)},t.xor=function(y){const g=Math.max(this.g.length,y.g.length),E=[];for(let x=0;x<g;x++)E[x]=this.i(x)^y.i(x);return new o(E,this.h^y.h)};function F(y){const g=y.g.length+1,E=[];for(let x=0;x<g;x++)E[x]=y.i(x)<<1|y.i(x-1)>>>31;return new o(E,y.h)}function b(y,g){const E=g>>5;g%=32;const x=y.g.length-E,A=[];for(let N=0;N<x;N++)A[N]=g>0?y.i(N+E)>>>g|y.i(N+E+1)<<32-g:y.i(N+E);return new o(A,y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,C1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Rr=o}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A1,po,R1,Tl,Df,P1,k1,N1;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Za=="object"&&Za];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var O=a[v];if(!(O in f))break e;f=f[O]}a=a[a.length-1],v=f[a],h=h(v),h!=v&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(h){var f=[],v;for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&f.push([v,h[v]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,f){return a.call.apply(a.bind,arguments)}function c(a,h,f){return c=u,c.apply(null,arguments)}function d(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function p(a,h){function f(){}f.prototype=h.prototype,a.Z=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(v,O,L){for(var Q=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)Q[oe-2]=arguments[oe];return h.prototype[O].apply(v,Q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function T(a){const h=a.length;if(h>0){const f=Array(h);for(let v=0;v<h;v++)f[v]=a[v];return f}return[]}function R(a,h){for(let v=1;v<arguments.length;v++){const O=arguments[v];var f=typeof O;if(f=f!="object"?f:O?Array.isArray(O)?"array":f:"null",f=="array"||f=="object"&&typeof O.length=="number"){f=a.length||0;const L=O.length||0;a.length=f+L;for(let Q=0;Q<L;Q++)a[f+Q]=O[Q]}else a.push(O)}}class k{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function P(a){o.setTimeout(()=>{throw a},0)}function S(){var a=y;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class w{constructor(){this.h=this.g=null}add(h,f){const v=I.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var I=new k(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let F,b=!1,y=new w,g=()=>{const a=Promise.resolve(void 0);F=()=>{a.then(E)}};function E(){for(var a;a=S();){try{a.h.call(a.g)}catch(f){P(f)}var h=I;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}b=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};o.addEventListener("test",f,h),o.removeEventListener("test",f,h)}catch{}return a}();function C(a){return/^[\s\xa0]*$/.test(a)}function ye(a,h){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}p(ye,A),ye.prototype.init=function(a,h){const f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function Pt(a,h,f,v,O){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=O,this.key=++Ae,this.da=this.fa=!1}function V(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function M(a,h,f){for(const v in a)h.call(f,a[v],v,a)}function j(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function z(a){const h={};for(const f in a)h[f]=a[f];return h}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(a,h){let f,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(f in v)a[f]=v[f];for(let L=0;L<H.length;L++)f=H[L],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function te(a){this.src=a,this.g={},this.h=0}te.prototype.add=function(a,h,f,v,O){const L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);const Q=ze(a,h,v,O);return Q>-1?(h=a[Q],f||(h.fa=!1)):(h=new Pt(h,this.src,L,!!v,O),h.fa=f,a.push(h)),h};function Fe(a,h){const f=h.type;if(f in a.g){var v=a.g[f],O=Array.prototype.indexOf.call(v,h,void 0),L;(L=O>=0)&&Array.prototype.splice.call(v,O,1),L&&(V(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ze(a,h,f,v){for(let O=0;O<a.length;++O){const L=a[O];if(!L.da&&L.listener==h&&L.capture==!!f&&L.ha==v)return O}return-1}var et="closure_lm_"+(Math.random()*1e6|0),kt={};function Ut(a,h,f,v,O){if(Array.isArray(h)){for(let L=0;L<h.length;L++)Ut(a,h[L],f,v,O);return null}return f=Ea(f),a&&a[mt]?a.J(h,f,l(v)?!!v.capture:!1,O):Kn(a,h,f,!1,v,O)}function Kn(a,h,f,v,O,L){if(!h)throw Error("Invalid event type");const Q=l(O)?!!O.capture:!!O;let oe=Hr(a);if(oe||(a[et]=oe=new te(a)),f=oe.add(h,f,v,Q,L),f.proxy)return f;if(v=On(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)N||(O=Q),O===void 0&&(O=!1),a.addEventListener(h.toString(),v,O);else if(a.attachEvent)a.attachEvent(bs(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function On(){function a(f){return h.call(a.src,a.listener,f)}const h=cc;return a}function Nt(a,h,f,v,O){if(Array.isArray(h))for(var L=0;L<h.length;L++)Nt(a,h[L],f,v,O);else v=l(v)?!!v.capture:!!v,f=Ea(f),a&&a[mt]?(a=a.i,L=String(h).toString(),L in a.g&&(h=a.g[L],f=ze(h,f,v,O),f>-1&&(V(h[f]),Array.prototype.splice.call(h,f,1),h.length==0&&(delete a.g[L],a.h--)))):a&&(a=Hr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ze(h,f,v,O)),(f=a>-1?h[a]:null)&&Ai(f))}function Ai(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[mt])Fe(h.i,a);else{var f=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(f,v,a.capture):h.detachEvent?h.detachEvent(bs(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=Hr(h))?(Fe(f,a),f.h==0&&(f.src=null,h[et]=null)):V(a)}}}function bs(a){return a in kt?kt[a]:kt[a]="on"+a}function cc(a,h){if(a.da)a=!0;else{h=new ye(h,this);const f=a.listener,v=a.ha||a.src;a.fa&&Ai(a),a=f.call(v,h)}return a}function Hr(a){return a=a[et],a instanceof te?a:null}var Ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ea(a){return typeof a=="function"?a:(a[Ri]||(a[Ri]=function(h){return a.handleEvent(h)}),a[Ri])}function tt(){x.call(this),this.i=new te(this),this.M=this,this.G=null}p(tt,x),tt.prototype[mt]=!0,tt.prototype.removeEventListener=function(a,h,f,v){Nt(this,a,h,f,v)};function lt(a,h){var f,v=a.G;if(v)for(f=[];v;v=v.G)f.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new A(h,a);else if(h instanceof A)h.target=h.target||a;else{var O=h;h=new A(v,a),q(h,O)}O=!0;let L,Q;if(f)for(Q=f.length-1;Q>=0;Q--)L=h.g=f[Q],O=Pi(L,v,!0,h)&&O;if(L=h.g=a,O=Pi(L,v,!0,h)&&O,O=Pi(L,v,!1,h)&&O,f)for(Q=0;Q<f.length;Q++)L=h.g=f[Q],O=Pi(L,v,!1,h)&&O}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const f=a.g[h];for(let v=0;v<f.length;v++)V(f[v]);delete a.g[h],a.h--}}this.G=null},tt.prototype.J=function(a,h,f,v){return this.i.add(String(a),h,!1,f,v)},tt.prototype.K=function(a,h,f,v){return this.i.add(String(a),h,!0,f,v)};function Pi(a,h,f,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let L=0;L<h.length;++L){const Q=h[L];if(Q&&!Q.da&&Q.capture==f){const oe=Q.listener,Qe=Q.ha||Q.src;Q.fa&&Fe(a.i,Q),O=oe.call(Qe,v)!==!1&&O}}return O&&!v.defaultPrevented}function hc(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=c(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function $(a){a.g=hc(()=>{a.g=null,a.i&&(a.i=!1,$(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class K extends x{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:$(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(a){x.call(this),this.h=a,this.g={}}p(ee,x);var Re=[];function Ta(a){M(a.g,function(h,f){this.g.hasOwnProperty(f)&&Ai(h)},a),a.g={}}ee.prototype.N=function(){ee.Z.N.call(this),Ta(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=o.JSON.stringify,tE=o.JSON.parse,nE=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Vp(){}function Op(){}var Fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dc(){A.call(this,"d")}p(dc,A);function pc(){A.call(this,"c")}p(pc,A);var Wr={},Mp=null;function Sa(){return Mp=Mp||new tt}Wr.Ia="serverreachability";function Lp(a){A.call(this,Wr.Ia,a)}p(Lp,A);function $s(a){const h=Sa();lt(h,new Lp(h))}Wr.STAT_EVENT="statevent";function jp(a,h){A.call(this,Wr.STAT_EVENT,a),this.stat=h}p(jp,A);function St(a){const h=Sa();lt(h,new jp(h,a))}Wr.Ja="timingevent";function bp(a,h){A.call(this,Wr.Ja,a),this.size=h}p(bp,A);function Us(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function zs(){this.g=!0}zs.prototype.ua=function(){this.g=!1};function rE(a,h,f,v,O,L){a.info(function(){if(a.g)if(L){var Q="",oe=L.split("&");for(let _e=0;_e<oe.length;_e++){var Qe=oe[_e].split("=");if(Qe.length>1){const nt=Qe[0];Qe=Qe[1];const vn=nt.split("_");Q=vn.length>=2&&vn[1]=="type"?Q+(nt+"="+Qe+"&"):Q+(nt+"=redacted&")}}}else Q=null;else Q=L;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+h+`
`+f+`
`+Q})}function iE(a,h,f,v,O,L,Q){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+h+`
`+f+`
`+L+" "+Q})}function ki(a,h,f,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+oE(a,f)+(v?" "+v:"")})}function sE(a,h){a.info(function(){return"TIMEOUT: "+h})}zs.prototype.info=function(){};function oE(a,h){if(!a.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(a=0;a<L.length;a++)if(Array.isArray(L[a])){var f=L[a];if(!(f.length<2)){var v=f[1];if(Array.isArray(v)&&!(v.length<1)){var O=v[0];if(O!="noop"&&O!="stop"&&O!="close")for(let Q=1;Q<v.length;Q++)v[Q]=""}}}}return fc(L)}catch{return h}}var Ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$p;function mc(){}p(mc,Vp),mc.prototype.g=function(){return new XMLHttpRequest},$p=new mc;function Bs(a){return encodeURIComponent(String(a))}function aE(a){var h=1;a=a.split(":");const f=[];for(;h>0&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function Yn(a,h,f,v){this.j=a,this.i=h,this.l=f,this.S=v||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Up}function Up(){this.i=null,this.g="",this.h=!1}var zp={},gc={};function yc(a,h,f){a.M=1,a.A=Ca(yn(h)),a.u=f,a.R=!0,Bp(a,null)}function Bp(a,h){a.F=Date.now(),xa(a),a.B=yn(a.A);var f=a.B,v=a.S;Array.isArray(v)||(v=[String(v)]),nm(f.i,"t",v),a.C=0,f=a.j.L,a.h=new Up,a.g=wm(a.j,f?h:null,!a.u),a.P>0&&(a.O=new K(c(a.Y,a,a.g),a.P)),h=a.V,f=a.g,v=a.ba;var O="readystatechange";Array.isArray(O)||(O&&(Re[0]=O.toString()),O=Re);for(let L=0;L<O.length;L++){const Q=Ut(f,O[L],v||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=a.J?z(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),$s(),rE(a.i,a.v,a.B,a.l,a.S,a.u)}Yn.prototype.ba=function(a){a=a.target;const h=this.O;h&&Zn(a)==3?h.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{const oe=Zn(this.g),Qe=this.g.ya(),_e=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||um(this.g)))){this.K||oe!=4||Qe==7||(Qe==8||_e<=0?$s(3):$s(2)),vc(this);var h=this.g.ca();this.X=h;var f=lE(this);if(this.o=h==200,iE(this.i,this.v,this.B,this.l,this.S,oe,h),this.o){if(this.U&&!this.L){t:{if(this.g){var v,O=this.g;if((v=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(v)){var L=v;break t}}L=null}if(a=L)ki(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_c(this,a);else{this.o=!1,this.m=3,St(12),qr(this),Gs(this);break e}}if(this.R){a=!0;let nt;for(;!this.K&&this.C<f.length;)if(nt=uE(this,f),nt==gc){oe==4&&(this.m=4,St(14),a=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(nt==zp){this.m=4,St(15),ki(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else ki(this.i,this.l,nt,null),_c(this,nt);if(Gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||f.length!=0||this.h.h||(this.m=1,St(16),a=!1),this.o=this.o&&a,!a)ki(this.i,this.l,f,"[Invalid Chunked Response]"),qr(this),Gs(this);else if(f.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Ac(Q),Q.P=!0,St(11))}}else ki(this.i,this.l,f,null),_c(this,f);oe==4&&qr(this),this.o&&!this.K&&(oe==4?gm(this.j,this):(this.o=!1,xa(this)))}else SE(this.g),h==400&&f.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),qr(this),Gs(this)}}}catch{}finally{}};function lE(a){if(!Gp(a))return a.g.la();const h=um(a.g);if(h==="")return"";let f="";const v=h.length,O=Zn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return qr(a),Gs(a),"";a.h.i=new o.TextDecoder}for(let L=0;L<v;L++)a.h.h=!0,f+=a.h.i.decode(h[L],{stream:!(O&&L==v-1)});return h.length=0,a.h.g+=f,a.C=0,a.h.g}function Gp(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function uE(a,h){var f=a.C,v=h.indexOf(`
`,f);return v==-1?gc:(f=Number(h.substring(f,v)),isNaN(f)?zp:(v+=1,v+f>h.length?gc:(h=h.slice(v,v+f),a.C=v+f,h)))}Yn.prototype.cancel=function(){this.K=!0,qr(this)};function xa(a){a.T=Date.now()+a.H,Hp(a,a.H)}function Hp(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Us(c(a.aa,a),h)}function vc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Yn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(sE(this.i,this.B),this.M!=2&&($s(),St(17)),qr(this),this.m=2,Gs(this)):Hp(this,this.T-a)};function Gs(a){a.j.I==0||a.K||gm(a.j,a)}function qr(a){vc(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Ta(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function _c(a,h){try{var f=a.j;if(f.I!=0&&(f.g==a||wc(f.h,a))){if(!a.L&&wc(f.h,a)&&f.I==3){try{var v=f.Ba.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)Na(f),Pa(f);else break e;Cc(f),St(18)}}else f.xa=O[1],0<f.xa-f.K&&O[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Us(c(f.Va,f),6e3));Qp(f.h)<=1&&f.ta&&(f.ta=void 0)}else Kr(f,11)}else if((a.L||f.g==a)&&Na(f),!C(h))for(O=f.Ba.g.parse(h),h=0;h<O.length;h++){let _e=O[h];const nt=_e[0];if(!(nt<=f.K))if(f.K=nt,_e=_e[1],f.I==2)if(_e[0]=="c"){f.M=_e[1],f.ba=_e[2];const vn=_e[3];vn!=null&&(f.ka=vn,f.j.info("VER="+f.ka));const Yr=_e[4];Yr!=null&&(f.za=Yr,f.j.info("SVER="+f.za));const er=_e[5];er!=null&&typeof er=="number"&&er>0&&(v=1.5*er,f.O=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const tr=a.g;if(tr){const Va=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var L=v.h;L.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Ec(L,L.h),L.h=null))}if(v.G){const Rc=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rc&&(v.wa=Rc,Ee(v.J,v.G,Rc))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),v=f;var Q=a;if(v.na=_m(v,v.L?v.ba:null,v.W),Q.L){Kp(v.h,Q);var oe=Q,Qe=v.O;Qe&&(oe.H=Qe),oe.D&&(vc(oe),xa(oe)),v.g=Q}else pm(v);f.i.length>0&&ka(f)}else _e[0]!="stop"&&_e[0]!="close"||Kr(f,7);else f.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Kr(f,7):xc(f):_e[0]!="noop"&&f.l&&f.l.qa(_e),f.A=0)}}$s(4)}catch{}}var cE=class{constructor(a,h){this.g=a,this.map=h}};function Wp(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Qp(a){return a.h?1:a.g?a.g.size:0}function wc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ec(a,h){a.g?a.g.add(h):a.h=h}function Kp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Wp.prototype.cancel=function(){if(this.i=Yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Yp(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.G);return h}return T(a.i)}var Xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hE(a,h){if(a){a=a.split("&");for(let f=0;f<a.length;f++){const v=a[f].indexOf("=");let O,L=null;v>=0?(O=a[f].substring(0,v),L=a[f].substring(v+1)):O=a[f],h(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Xn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Xn?(this.l=a.l,Hs(this,a.j),this.o=a.o,this.g=a.g,Ws(this,a.u),this.h=a.h,Tc(this,rm(a.i)),this.m=a.m):a&&(h=String(a).match(Xp))?(this.l=!1,Hs(this,h[1]||"",!0),this.o=qs(h[2]||""),this.g=qs(h[3]||"",!0),Ws(this,h[4]),this.h=qs(h[5]||"",!0),Tc(this,h[6]||"",!0),this.m=qs(h[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Xn.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(Qs(h,Jp,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Qs(h,Jp,!0),"@"),a.push(Bs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Qs(f,f.charAt(0)=="/"?pE:dE,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Qs(f,gE)),a.join("")},Xn.prototype.resolve=function(a){const h=yn(this);let f=!!a.j;f?Hs(h,a.j):f=!!a.o,f?h.o=a.o:f=!!a.g,f?h.g=a.g:f=a.u!=null;var v=a.h;if(f)Ws(h,a.u);else if(f=!!a.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var O=h.h.lastIndexOf("/");O!=-1&&(v=h.h.slice(0,O+1)+v)}if(O=v,O==".."||O==".")v="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){v=O.lastIndexOf("/",0)==0,O=O.split("/");const L=[];for(let Q=0;Q<O.length;){const oe=O[Q++];oe=="."?v&&Q==O.length&&L.push(""):oe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),v&&Q==O.length&&L.push("")):(L.push(oe),v=!0)}v=L.join("/")}else v=O}return f?h.h=v:f=a.i.toString()!=="",f?Tc(h,rm(a.i)):f=!!a.m,f&&(h.m=a.m),h};function yn(a){return new Xn(a)}function Hs(a,h,f){a.j=f?qs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ws(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Tc(a,h,f){h instanceof Ks?(a.i=h,yE(a.i,a.l)):(f||(h=Qs(h,mE)),a.i=new Ks(h,a.l))}function Ee(a,h,f){a.i.set(h,f)}function Ca(a){return Ee(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function qs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qs(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,fE),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jp=/[#\/\?@]/g,dE=/[#\?:]/g,pE=/[#\?]/g,mE=/[#\?@]/g,gE=/#/g;function Ks(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Qr(a){a.g||(a.g=new Map,a.h=0,a.i&&hE(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Ks.prototype,t.add=function(a,h){Qr(this),this.i=null,a=Ni(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Zp(a,h){Qr(a),h=Ni(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function em(a,h){return Qr(a),h=Ni(a,h),a.g.has(h)}t.forEach=function(a,h){Qr(this),this.g.forEach(function(f,v){f.forEach(function(O){a.call(h,O,v,this)},this)},this)};function tm(a,h){Qr(a);let f=[];if(typeof h=="string")em(a,h)&&(f=f.concat(a.g.get(Ni(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)f=f.concat(a[h]);return f}t.set=function(a,h){return Qr(this),this.i=null,a=Ni(this,a),em(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=tm(this,a),a.length>0?String(a[0]):h):h};function nm(a,h,f){Zp(a,h),f.length>0&&(a.i=null,a.g.set(Ni(a,h),T(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let v=0;v<h.length;v++){var f=h[v];const O=Bs(f);f=tm(this,f);for(let L=0;L<f.length;L++){let Q=O;f[L]!==""&&(Q+="="+Bs(f[L])),a.push(Q)}}return this.i=a.join("&")};function rm(a){const h=new Ks;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Ni(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function yE(a,h){h&&!a.j&&(Qr(a),a.i=null,a.g.forEach(function(f,v){const O=v.toLowerCase();v!=O&&(Zp(this,v),nm(this,O,f))},a)),a.j=h}function vE(a,h){const f=new zs;if(o.Image){const v=new Image;v.onload=d(Jn,f,"TestLoadImage: loaded",!0,h,v),v.onerror=d(Jn,f,"TestLoadImage: error",!1,h,v),v.onabort=d(Jn,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=d(Jn,f,"TestLoadImage: timeout",!1,h,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function _E(a,h){const f=new zs,v=new AbortController,O=setTimeout(()=>{v.abort(),Jn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(L=>{clearTimeout(O),L.ok?Jn(f,"TestPingServer: ok",!0,h):Jn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),Jn(f,"TestPingServer: error",!1,h)})}function Jn(a,h,f,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(f)}catch{}}function wE(){this.g=new nE}function Sc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Sc,Vp),Sc.prototype.g=function(){return new Aa(this.i,this.h)};function Aa(a,h){tt.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Aa,tt),t=Aa.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Xs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;im(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function im(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ys(this):Xs(this),this.readyState==3&&im(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Ys(this))},t.Na=function(a){this.g&&(this.response=a,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Xs(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function Xs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function sm(a){let h="";return M(a,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function Ic(a,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=sm(f),typeof a=="string"?f!=null&&Bs(f):Ee(a,h,f))}function Le(a){tt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Le,tt);var EE=/^https?$/i,TE=["POST","PUT"];t=Le.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$p.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){om(this,L);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)f.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const L of v.keys())f.set(L,v.get(L));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),O=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(TE,h,void 0)>=0)||v||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Q]of f)this.g.setRequestHeader(L,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(L){om(this,L)}};function om(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,am(a),Ra(a)}function am(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,lt(this,"complete"),lt(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lm(this):this.Xa())},t.Xa=function(){lm(this)};function lm(a){if(a.h&&typeof s<"u"){if(a.v&&Zn(a)==4)setTimeout(a.Ca.bind(a),0);else if(lt(a,"readystatechange"),Zn(a)==4){a.h=!1;try{const L=a.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=L===0){let Q=String(a.D).match(Xp)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),v=!EE.test(Q?Q.toLowerCase():"")}f=v}if(f)lt(a,"complete"),lt(a,"success");else{a.o=6;try{var O=Zn(a)>2?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.ca()+"]",am(a)}}finally{Ra(a)}}}}function Ra(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const f=a.g;a.g=null,h||lt(a,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),tE(h)}};function um(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function SE(a){const h={};a=(a.g&&Zn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(C(a[v]))continue;var f=aE(a[v]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=h[O]||[];h[O]=L,L.push(f)}j(h,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function cm(a){this.za=0,this.i=[],this.j=new zs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Js("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Js("baseRetryDelayMs",5e3,a),this.Za=Js("retryDelaySeedMs",1e4,a),this.Ta=Js("forwardChannelMaxRetries",2,a),this.va=Js("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Wp(a&&a.concurrentRequestLimit),this.Ba=new wE,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cm.prototype,t.ka=8,t.I=1,t.connect=function(a,h,f,v){St(0),this.W=a,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.J=_m(this,null,this.W),ka(this)};function xc(a){if(hm(a),a.I==3){var h=a.V++,f=yn(a.J);if(Ee(f,"SID",a.M),Ee(f,"RID",h),Ee(f,"TYPE","terminate"),Zs(a,f),h=new Yn(a,a.j,h),h.M=2,h.A=Ca(yn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=h.A,f=!0),f||(h.g=wm(h.j,null),h.g.ea(h.A)),h.F=Date.now(),xa(h)}vm(a)}function Pa(a){a.g&&(Ac(a),a.g.cancel(),a.g=null)}function hm(a){Pa(a),a.v&&(o.clearTimeout(a.v),a.v=null),Na(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ka(a){if(!qp(a.h)&&!a.m){a.m=!0;var h=a.Ea;F||g(),b||(F(),b=!0),y.add(h,a),a.D=0}}function IE(a,h){return Qp(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Us(c(a.Ea,a,h),ym(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const O=new Yn(this,this.j,a);let L=this.o;if(this.U&&(L?(L=z(L),q(L,this.U)):L=this.U),this.u!==null||this.R||(O.J=L,L=null),this.S)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,h>4096){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=dm(this,O,h),f=yn(this.J),Ee(f,"RID",a),Ee(f,"CVER",22),this.G&&Ee(f,"X-HTTP-Session-Id",this.G),Zs(this,f),L&&(this.R?h="headers="+Bs(sm(L))+"&"+h:this.u&&Ic(f,this.u,L)),Ec(this.h,O),this.Ra&&Ee(f,"TYPE","init"),this.S?(Ee(f,"$req",h),Ee(f,"SID","null"),O.U=!0,yc(O,f,null)):yc(O,f,h),this.I=2}}else this.I==3&&(a?fm(this,a):this.i.length==0||qp(this.h)||fm(this))};function fm(a,h){var f;h?f=h.l:f=a.V++;const v=yn(a.J);Ee(v,"SID",a.M),Ee(v,"RID",f),Ee(v,"AID",a.K),Zs(a,v),a.u&&a.o&&Ic(v,a.u,a.o),f=new Yn(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),h&&(a.i=h.G.concat(a.i)),h=dm(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Ec(a.h,f),yc(f,v,h)}function Zs(a,h){a.H&&M(a.H,function(f,v){Ee(h,v,f)}),a.l&&M({},function(f,v){Ee(h,v,f)})}function dm(a,h,f){f=Math.min(a.i.length,f);const v=a.l?c(a.l.Ka,a.l,a):null;e:{var O=a.i;let oe=-1;for(;;){const Qe=["count="+f];oe==-1?f>0?(oe=O[0].g,Qe.push("ofs="+oe)):oe=0:Qe.push("ofs="+oe);let _e=!0;for(let nt=0;nt<f;nt++){var L=O[nt].g;const vn=O[nt].map;if(L-=oe,L<0)oe=Math.max(0,O[nt].g-100),_e=!1;else try{L="req"+L+"_"||"";try{var Q=vn instanceof Map?vn:Object.entries(vn);for(const[Yr,er]of Q){let tr=er;l(er)&&(tr=fc(er)),Qe.push(L+Yr+"="+encodeURIComponent(tr))}}catch(Yr){throw Qe.push(L+"type="+encodeURIComponent("_badmap")),Yr}}catch{v&&v(vn)}}if(_e){Q=Qe.join("&");break e}}Q=void 0}return a=a.i.splice(0,f),h.G=a,Q}function pm(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;F||g(),b||(F(),b=!0),y.add(h,a),a.A=0}}function Cc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Us(c(a.Da,a),ym(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,mm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Us(c(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Pa(this),mm(this))};function Ac(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function mm(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=yn(a.na);Ee(h,"RID","rpc"),Ee(h,"SID",a.M),Ee(h,"AID",a.K),Ee(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&Ee(h,"TO",a.ia),Ee(h,"TYPE","xmlhttp"),Zs(a,h),a.u&&a.o&&Ic(h,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=Ca(yn(h)),f.u=null,f.R=!0,Bp(f,a)}t.Va=function(){this.C!=null&&(this.C=null,Pa(this),Cc(this),St(19))};function Na(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function gm(a,h){var f=null;if(a.g==h){Na(a),Ac(a),a.g=null;var v=2}else if(wc(a.h,h))f=h.G,Kp(a.h,h),v=1;else return;if(a.I!=0){if(h.o)if(v==1){f=h.u?h.u.length:0,h=Date.now()-h.F;var O=a.D;v=Sa(),lt(v,new bp(v,f)),ka(a)}else pm(a);else if(O=h.m,O==3||O==0&&h.X>0||!(v==1&&IE(a,h)||v==2&&Cc(a)))switch(f&&f.length>0&&(h=a.h,h.i=h.i.concat(f)),O){case 1:Kr(a,5);break;case 4:Kr(a,10);break;case 3:Kr(a,6);break;default:Kr(a,2)}}}function ym(a,h){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*h}function Kr(a,h){if(a.j.info("Error code "+h),h==2){var f=c(a.bb,a),v=a.Ua;const O=!v;v=new Xn(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Hs(v,"https"),Ca(v),O?vE(v.toString(),f):_E(v.toString(),f)}else St(2);a.I=0,a.l&&a.l.pa(h),vm(a),hm(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function vm(a){if(a.I=0,a.ja=[],a.l){const h=Yp(a.h);(h.length!=0||a.i.length!=0)&&(R(a.ja,h),R(a.ja,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.oa()}}function _m(a,h,f){var v=f instanceof Xn?yn(f):new Xn(f);if(v.g!="")h&&(v.g=h+"."+v.g),Ws(v,v.u);else{var O=o.location;v=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const L=new Xn(null);v&&Hs(L,v),h&&(L.g=h),O&&Ws(L,O),f&&(L.h=f),v=L}return f=a.G,h=a.wa,f&&h&&Ee(v,f,h),Ee(v,"VER",a.ka),Zs(a,v),v}function wm(a,h,f){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Le(new Sc({ab:f})):new Le(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Em(){}t=Em.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Da(){}Da.prototype.g=function(a,h){return new zt(a,h)};function zt(a,h){tt.call(this),this.g=new cm(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!C(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!C(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Di(this)}p(zt,tt),zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){xc(this.g)},zt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=fc(a),a=f);h.i.push(new cE(h.Ya++,a)),h.I==3&&ka(h)},zt.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,zt.Z.N.call(this)};function Tm(a){dc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}p(Tm,dc);function Sm(){pc.call(this),this.status=1}p(Sm,pc);function Di(a){this.g=a}p(Di,Em),Di.prototype.ra=function(){lt(this.g,"a")},Di.prototype.qa=function(a){lt(this.g,new Tm(a))},Di.prototype.pa=function(a){lt(this.g,new Sm)},Di.prototype.oa=function(){lt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,N1=function(){return new Da},k1=function(){return Sa()},P1=Wr,Df={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ia.NO_ERROR=0,Ia.TIMEOUT=8,Ia.HTTP_ERROR=6,Tl=Ia,Fp.COMPLETE="complete",R1=Fp,Op.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",tt.prototype.listen=tt.prototype.J,po=Op,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,A1=Le}).apply(typeof Za<"u"?Za:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",py="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new w1("@firebase/firestore");function Mi(){return yi.logLevel}function Y(t,...e){if(yi.logLevel<=fe.DEBUG){const n=e.map(ep);yi.debug(`Firestore (${Os}): ${t}`,...n)}}function Wn(t,...e){if(yi.logLevel<=fe.ERROR){const n=e.map(ep);yi.error(`Firestore (${Os}): ${t}`,...n)}}function _s(t,...e){if(yi.logLevel<=fe.WARN){const n=e.map(ep);yi.warn(`Firestore (${Os}): ${t}`,...n)}}function ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D1(t,r,n)}function D1(t,e,n){let r=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wn(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||D1(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new V1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class GA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new my(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new my(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Vf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ch(i)===ch(s)?ue(i,s):ch(i)?1:-1}return ue(t.length,e.length)}const QA=55296,KA=57343;function ch(t){const e=t.charCodeAt(0);return e>=QA&&e<=KA}function ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class Tn{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Tn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ue(e.length,n.length)}static compareSegments(e,n){const r=Tn.isNumericId(e),i=Tn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tn.extractNumericId(e).compare(Tn.extractNumericId(n)):Vf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Ie extends Tn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Tn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new ht([gy])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new J(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new J(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ie.fromString(e))}static fromName(e){return new ne(Ie.fromString(e).popFirst(5))}static empty(){return new ne(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e,n){if(!n)throw new J(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XA(t,e,n,r){if(e===!0&&r===!0)throw new J(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yy(t){if(!ne.isDocumentKey(t))throw new J(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vy(t){if(ne.isDocumentKey(t))throw new J(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(t);throw new J(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const n={typeString:t};return e&&(n.value=e),n}function ga(t,e){if(!M1(t))throw new J(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new J(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-62135596800,wy=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wy);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_y)throw new J(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ga(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:We("string",xe._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new xe(0,0))}static max(){return new ie(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function JA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new Vr(i,ne.empty(),e)}function ZA(t){return new Vr(t.readTime,t.key,ra)}class Vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vr(ie.min(),ne.empty(),ra)}static max(){return new Vr(ie.max(),ne.empty(),ra)}}function eR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==tR)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ls(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=-1;function Gu(t){return t==null}function au(t){return t===0&&1/t==-1/0}function iR(t){return typeof t=="number"&&Number.isInteger(t)&&!au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="";function sR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ey(e)),e=oR(t.get(n),e);return Ey(e)}function oR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case L1:n+="";break;default:n+=s}}return n}function Ey(t){return t+L1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Br(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=s??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(e){return new Sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Ze(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b1("Invalid base64 string: "+s):s}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=aR.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="server_timestamp",$1="__type__",U1="__previous_value__",z1="__local_write_time__";function ip(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$1])==null?void 0:r.stringValue)===F1}function Hu(t){const e=t.mapValue.fields[U1];return ip(e)?Hu(e):e}function ia(t){const e=Or(t.mapValue.fields[z1].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,s,o,l,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const lu="(default)";class sa{constructor(e,n){this.projectId=e,this.database=n||lu}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database===lu}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",uR="__max__",tl={mapValue:{}},G1="__vector__",uu="value";function Lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ip(t)?4:hR(t)?9007199254740991:cR(t)?10:11:re(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Lr(t);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Or(i.timestampValue),l=Or(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mr(i.bytesValue).isEqual(Mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$e(i.doubleValue),l=$e(s.doubleValue);return o===l?au(o)===au(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ws(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ty(o)!==Ty(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Dn(o[u],l[u])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function oa(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=Lr(t),r=Lr(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=$e(s.integerValue||s.doubleValue),u=$e(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Iy(t.timestampValue,e.timestampValue);case 4:return Iy(ia(t),ia(e));case 5:return Vf(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Mr(s),u=Mr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ue(l[c],u[c]);if(d!==0)return d}return ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ue($e(s.latitude),$e(o.latitude));return l!==0?l:ue($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,T,R,k;const l=s.fields||{},u=o.fields||{},c=(m=l[uu])==null?void 0:m.arrayValue,d=(T=u[uu])==null?void 0:T.arrayValue,p=ue(((R=c==null?void 0:c.values)==null?void 0:R.length)||0,((k=d==null?void 0:d.values)==null?void 0:k.length)||0);return p!==0?p:xy(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tl.mapValue&&o===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(o===tl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Vf(u[p],d[p]);if(m!==0)return m;const T=Es(l[u[p]],c[d[p]]);if(T!==0)return T}return ue(u.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function Iy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Or(t),r=Or(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function xy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Es(n[i],r[i]);if(s)return s}return ue(n.length,r.length)}function Ts(t){return Of(t)}function Of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Of(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Of(n.fields[o])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function Sl(t){switch(Lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hu(t);return e?16+Sl(e):16;case 5:return 2*t.stringValue.length;case 6:return Mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Br(r.fields,(s,o)=>{i+=s.length+Sl(o)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function Mf(t){return!!t&&"integerValue"in t}function sp(t){return!!t&&"arrayValue"in t}function Cy(t){return!!t&&"nullValue"in t}function Ay(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}function cR(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[B1])==null?void 0:r.stringValue)===G1}function Po(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Br(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(t.arrayValue.values[n]);return e}return{...t}}function hR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Po(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Br(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(Po(this.value))}}function H1(t){const e=[];return Br(t.fields,(n,r)=>{const i=new ht([n]);if(Il(r)){const s=H1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Et(e,0,ie.min(),ie.min(),ie.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,ie.min(),ie.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,ie.min(),ie.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.position=e,this.inclusive=n}}function Ry(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Py(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function fR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{}class Ye extends W1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pR(e,n,r):n==="array-contains"?new yR(e,r):n==="in"?new vR(e,r):n==="not-in"?new _R(e,r):n==="array-contains-any"?new wR(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mR(e,r):new gR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Es(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends W1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vn(e,n)}matches(e){return q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(t){return t.op==="and"}function Q1(t){return dR(t)&&q1(t)}function dR(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Lf(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Ts(t.value);if(Q1(t))return t.filters.map(e=>Lf(e)).join(",");{const e=t.filters.map(n=>Lf(n)).join(",");return`${t.op}(${e})`}}function K1(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&K1(o,i.filters[l]),!0):!1}(t,e):void re(19439)}function Y1(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Ts(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"}(t):"Filter"}class pR extends Ye{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class mR extends Ye{constructor(e,n){super(e,"in",n),this.keys=X1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gR extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=X1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class yR extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&oa(n.arrayValue,this.value)}}class vR extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}}class _R extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oa(this.value.arrayValue,n)}}class wR extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function ky(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ER(t,e,n,r,i,s,o)}function op(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ts(r)).join(",")),e.Te=n}return e.Te}function ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Py(t.startAt,e.startAt)&&Py(t.endAt,e.endAt)}function jf(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(t,e,n,r,i,s,o,l){return new Wu(t,e,n,r,i,s,o,l)}function lp(t){return new Wu(t)}function Ny(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SR(t){return t.collectionGroup!==null}function ko(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ze(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new hu(s,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new hu(ht.keyField(),r))}return e.Ie}function An(t){const e=se(t);return e.Ee||(e.Ee=IR(e,ko(t))),e.Ee}function IR(t,e){if(t.limitType==="F")return ky(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hu(i.field,s)});const n=t.endAt?new cu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cu(t.startAt.position,t.startAt.inclusive):null;return ky(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bf(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qu(t,e){return ap(An(t),An(e))&&t.limitType===e.limitType}function J1(t){return`${op(An(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y1(i)).join(", ")}]`),Gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ts(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ts(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function Qu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ko(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Ry(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,ko(r),i)||r.endAt&&!function(o,l,u){const c=Ry(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,ko(r),i))}(t,e)}function xR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z1(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const s=CR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CR(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Es(u,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Me(ne.comparator);function qn(){return AR}const ew=new Me(ne.comparator);function mo(...t){let e=ew;for(const n of t)e=e.insert(n.key,n);return e}function tw(t){let e=ew;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return No()}function nw(){return No()}function No(){return new Ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const RR=new Me(ne.comparator),PR=new Ze(ne.comparator);function ce(...t){let e=PR;for(const n of t)e=e.add(n);return e}const kR=new Ze(ue);function NR(){return kR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:au(e)?"-0":e}}function rw(t){return{integerValue:""+t}}function DR(t,e){return iR(e)?rw(e):up(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this._=void 0}}function VR(t,e,n){return t instanceof fu?function(i,s){const o={fields:{[$1]:{stringValue:F1},[z1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ip(s)&&(s=Hu(s)),s&&(o.fields[U1]=s),{mapValue:o}}(n,e):t instanceof aa?sw(t,e):t instanceof la?ow(t,e):function(i,s){const o=iw(i,s),l=Dy(o)+Dy(i.Ae);return Mf(o)&&Mf(i.Ae)?rw(l):up(i.serializer,l)}(t,e)}function OR(t,e,n){return t instanceof aa?sw(t,e):t instanceof la?ow(t,e):n}function iw(t,e){return t instanceof du?function(r){return Mf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fu extends Ku{}class aa extends Ku{constructor(e){super(),this.elements=e}}function sw(t,e){const n=aw(e);for(const r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class la extends Ku{constructor(e){super(),this.elements=e}}function ow(t,e){let n=aw(e);for(const r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class du extends Ku{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Dy(t){return $e(t.integerValue||t.doubleValue)}function aw(t){return sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof aa&&i instanceof aa||r instanceof la&&i instanceof la?ws(r.elements,i.elements,Dn):r instanceof du&&i instanceof du?Dn(r.Ae,i.Ae):r instanceof fu&&i instanceof fu}(t.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function lw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xu(t.key,Kt.none()):new ya(t.key,t.data,Kt.none());{const n=t.data,r=Lt.empty();let i=new Ze(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gr(t.key,r,new qt(i.toArray()),Kt.none())}}function jR(t,e,n){t instanceof ya?function(i,s,o){const l=i.value.clone(),u=Oy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(i,s,o){if(!xl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Oy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(uw(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Do(t,e,n,r){return t instanceof ya?function(s,o,l,u){if(!xl(s.precondition,o))return l;const c=s.value.clone(),d=My(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(s,o,l,u){if(!xl(s.precondition,o))return l;const c=My(s.fieldTransforms,u,o),d=o.data;return d.setAll(uw(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return xl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function bR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=iw(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function Vy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(s,o)=>MR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ya extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gr extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Oy(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,OR(o,l,n[i]))}return r}function My(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,VR(s,o,e))}return r}class Xu extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Do(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Do(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=lw(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(n,r)=>Vy(n,r))&&ws(this.baseMutations,e.baseMutations,(n,r)=>Vy(n,r))}}class cp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return RR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,he;function BR(t){switch(t){case G.OK:return re(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function cw(t){if(t===void 0)return Wn("GRPC error has no .code"),G.UNKNOWN;switch(t){case Be.OK:return G.OK;case Be.CANCELLED:return G.CANCELLED;case Be.UNKNOWN:return G.UNKNOWN;case Be.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Be.INTERNAL:return G.INTERNAL;case Be.UNAVAILABLE:return G.UNAVAILABLE;case Be.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Be.NOT_FOUND:return G.NOT_FOUND;case Be.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Be.ABORTED:return G.ABORTED;case Be.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Be.DATA_LOSS:return G.DATA_LOSS;default:return re(39323,{code:t})}}(he=Be||(Be={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Rr([4294967295,4294967295],0);function Ly(t){const e=GR().encode(t),n=new C1;return n.update(e),new Uint8Array(n.digest())}function jy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,s],0)]}class hp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(HR)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ly(e),[r,i]=jy(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hp(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Ly(e),[r,i]=jy(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ju(ie.min(),i,new Me(ue),qn(),ce())}}class va{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new va(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class hw{constructor(e,n){this.targetId=e,this.Ce=n}}class fw{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class by{constructor(){this.ve=0,this.Fe=Fy(),this.Me=pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),n=ce(),r=ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:s})}}),new va(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Fy()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WR{constructor(e){this.Ge=e,this.ze=new Map,this.je=qn(),this.Je=nl(),this.He=nl(),this.Ye=new Me(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(jf(s))if(r===0){const o=new ne(s.path);this.et(n,o,Et.newNoDocument(o,ie.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Mr(r).toUint8Array()}catch(u){if(u instanceof b1)return _s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new hp(o,i,s)}catch(u){return _s(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&jf(l.target)){const u=new ne(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Et.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ce();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Ju(e,n,this.Ye,this.je,r);return this.je=qn(),this.Je=nl(),this.He=nl(),this.Ye=new Me(ue),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new by,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new by),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nl(){return new Me(ne.comparator)}function Fy(){return new Me(ne.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class YR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ff(t,e){return t.useProto3Json||Gu(e)?e:{value:e}}function pu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XR(t,e){return pu(t,e.toTimestamp())}function Rn(t){return ge(!!t,49232),ie.fromTimestamp(function(n){const r=Or(n);return new xe(r.seconds,r.nanos)}(t))}function fp(t,e){return $f(t,e).canonicalString()}function $f(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pw(t){const e=Ie.fromString(t);return ge(_w(e),10190,{key:e.toString()}),e}function Uf(t,e){return fp(t.databaseId,e.path)}function hh(t,e){const n=pw(e);if(n.get(1)!==t.databaseId.projectId)throw new J(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(gw(n))}function mw(t,e){return fp(t.databaseId,e)}function JR(t){const e=pw(t);return e.length===4?Ie.emptyPath():gw(e)}function zf(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gw(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $y(t,e,n){return{name:Uf(t,e),fields:n.value.mapValue.fields}}function ZR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ge(d===void 0||typeof d=="string",58123),pt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?G.UNKNOWN:cw(c.code);return new J(d,c.message||"")}(o);n=new fw(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hh(t,r.document.name),s=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):ie.min(),l=new Lt({mapValue:{fields:r.document.fields}}),u=Et.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Cl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hh(t,r.document),s=r.readTime?Rn(r.readTime):ie.min(),o=Et.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Cl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hh(t,r.document),s=r.removedTargetIds||[];n=new Cl([],s,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zR(i,s),l=r.targetId;n=new hw(l,o)}}return n}function eP(t,e){let n;if(e instanceof ya)n={update:$y(t,e.key,e.value)};else if(e instanceof Xu)n={delete:Uf(t,e.key)};else if(e instanceof Gr)n={update:$y(t,e.key,e.data),updateMask:uP(e.fieldMask)};else{if(!(e instanceof FR))return re(16599,{Vt:e.type});n={verify:Uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof aa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof la)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof du)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:XR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re(27497)}(t,e.precondition)),n}function tP(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Rn(i.updateTime):Rn(s);return o.isEqual(ie.min())&&(o=Rn(s)),new LR(o,i.transformResults||[])}(n,e))):[]}function nP(t,e){return{documents:[mw(t,e.path)]}}function rP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mw(t,i);const s=function(c){if(c.length!==0)return vw(Vn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ji(m.field),direction:oP(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Ff(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function iP(t){let e=JR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=yw(p);return m instanceof Vn&&Q1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(R){return new hu(bi(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Gu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,T=p.values||[];return new cu(T,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,T=p.values||[];return new cu(T,m)}(n.endAt)),TR(e,i,o,s,l,"F",u,c)}function sP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bi(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bi(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bi(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(bi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>yw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function oP(t){return qR[t]}function aP(t){return QR[t]}function lP(t){return KR[t]}function ji(t){return{fieldPath:t.canonicalString()}}function bi(t){return ht.fromServerFormat(t.fieldPath)}function vw(t){return t instanceof Ye?function(n){if(n.op==="=="){if(Ay(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(Cy(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ay(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(Cy(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:aP(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>vw(i));return r.length===1?r[0]:{compositeFilter:{op:lP(n.op),filters:r}}}(t):re(54877,{filter:t})}function uP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _w(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,s=ie.min(),o=ie.min(),l=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.yt=e}}function hP(t){const e=iP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Cn=new dP}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Vr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class dP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ww=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(ww,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ss(0)}static cr(){return new Ss(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LruGarbageCollector",pP=1048576;function By([t,e],[n,r]){const i=ue(t,n);return i===0?ue(e,r):i}class mP{constructor(e){this.Ir=e,this.buffer=new Ze(By),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();By(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ls(n)?Y(zy,"Ignoring IndexedDB error during garbage collection: ",n):await Ms(n)}await this.Vr(3e5)})}}class yP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Bu.ce);const r=new mP(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Uy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Mi()<=fe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function vP(t,e){return new yP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.changes=new Ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Do(r.mutation,i,qt.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=qn();const o=No(),l=function(){return No()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Gr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Do(d.mutation,c,d.mutation.getFieldMask(),xe.now())):o.set(c.key,qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>l.set(c,new wP(d,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=No();let i=new Me((o,l)=>o-l),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||qt.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||ce()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=nw();d.forEach(m=>{if(!s.has(m)){const T=lw(n.get(m),r.get(m));T!==null&&p.set(m,T),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ii());let l=ra,u=s;return o.next(c=>U.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(d=>({batchId:l,changes:tw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=mo();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,u=>{const c=function(p,m){return new Wu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Et.newInvalidDocument(d)))});let l=mo();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Do(d.mutation,c,qt.empty(),xe.now()),Qu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:hP(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.overlays=new Me(ne.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),s=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ii(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return U.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UR(n,r));let s=this.qr.get(n);s===void 0&&(s=ce(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.Qr=new Ze(rt.$r),this.Ur=new Ze(rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new rt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Ie([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ie([])),r=new rt(n,e),i=new rt(n,e+1);let s=ce();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(rt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $R(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new rt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?rp:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ue);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new rt(new ne(s),0);let l=new Ze(ue);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Yr)),!0)},o),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new rt(n,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.ri=e,this.docs=function(){return new Me(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Et.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qn();const o=n.path,l=new ne(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eR(ZA(d),r)<=0||(i.has(d.key)||Qu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AP(this)}getSize(e){return U.resolve(this.size)}}class AP extends _P{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.persistence=e,this.si=new Ii(n=>op(n),ap),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new dp,this.targetCount=0,this.ai=Ss.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ss(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bu(0),this.li=!1,this.li=!0,this.hi=new IP,this.referenceDelegate=e(this),this.Pi=new RP(this),this.indexManager=new fP,this.remoteDocumentCache=function(i){return new CP(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new cP(n),this.Ii=new TP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new PP(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class PP extends nR{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new dp,this.Vi=null}static mi(e){return new pp(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mu{constructor(e,n){this.persistence=e,this.pi=new Ii(r=>sR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vP(this,n)}static mi(e,n){return new mu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sl(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return SC()?8:rR(EC())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kP;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Mi()<=fe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Mi()<=fe.DEBUG&&Y("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mi()<=fe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):U.resolve())}ys(e,n){if(Ny(n))return U.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bf(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,o,u.readTime)?this.ys(e,bf(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return Ny(n)||i.isEqual(ie.min())?U.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(Mi()<=fe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.vs(e,o,n,JA(i,ra)).next(l=>l))})}Ds(e,n){let r=new Ze(Z1(e));return n.forEach((i,s)=>{Qu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Mi()<=fe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Li(n)),this.ps.getDocumentsMatchingQuery(e,n,Vr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="LocalStore",DP=3e8;class VP{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(ue),this.xs=new Ii(s=>op(s),ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function OP(t,e,n,r){return new VP(t,e,n,r)}async function Tw(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ce();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function MP(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let T=U.resolve();return m.forEach(R=>{T=T.next(()=>d.getEntry(u,R)).next(k=>{const P=c.docVersions.get(R);ge(P!==null,48541),k.version.compareTo(P)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),d.addEntry(k)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ce();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sw(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function LP(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p)));let T=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(pt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(d.resumeToken,r)),i=i.insert(p,T),function(k,P,S){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=DP?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,T,d)&&l.push(n.Pi.updateTargetData(s,T))});let u=qn(),c=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(jP(s,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(ie.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function jP(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qn();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Y(gp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function bP(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FP(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Bf(t,e,n){const r=se(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ls(o))throw o;Y(gp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Gy(t,e,n){const r=se(t);let i=ie.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=se(u),m=p.xs.get(d);return m!==void 0?U.resolve(p.Ms.get(m)):p.Pi.getTargetData(c,d)}(r,o,An(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:ce())).next(l=>($P(r,xR(e),l),{documents:l,Qs:s})))}function $P(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Hy{constructor(){this.activeTargetIds=NR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UP{constructor(){this.Mo=new Hy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="ConnectivityMonitor";class qy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(Wy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(Wy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=null;function Gf(){return rl===null?rl=function(){return 268435456+Math.round(2147483648*Math.random())}():rl++,"0x"+rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RestConnection",BP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Gf(),l=this.zo(e,n.toUriEncodedString());Y(fh,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(l),d=Jd(c);return this.Jo(e,l,u,r,d).then(p=>(Y(fh,`Received RPC '${e}' ${o}: `,p),p),p=>{throw _s(fh,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=BP[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class WP extends GP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Gf();return new Promise((l,u)=>{const c=new A1;c.setWithCredentials(!0),c.listenOnce(R1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Tl.NO_ERROR:const p=c.getResponseJson();Y(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Tl.TIMEOUT:Y(vt,`RPC '${e}' ${o} timed out`),u(new J(G.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const m=c.getStatus();if(Y(vt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let T=c.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const k=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(R.status);u(new J(k,R.message))}else u(new J(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new J(G.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(vt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(vt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Gf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=N1(),l=k1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Y(vt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);this.I_(p);let m=!1,T=!1;const R=new HP({Yo:P=>{T?Y(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(Y(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Y(vt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Zo:()=>p.close()}),k=(P,S,w)=>{P.listen(S,I=>{try{w(I)}catch(D){setTimeout(()=>{throw D},0)}})};return k(p,po.EventType.OPEN,()=>{T||(Y(vt,`RPC '${e}' stream ${i} transport opened.`),R.o_())}),k(p,po.EventType.CLOSE,()=>{T||(T=!0,Y(vt,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(p))}),k(p,po.EventType.ERROR,P=>{T||(T=!0,_s(vt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),R.a_(new J(G.UNAVAILABLE,"The operation could not be completed")))}),k(p,po.EventType.MESSAGE,P=>{var S;if(!T){const w=P.data[0];ge(!!w,16349);const I=w,D=(I==null?void 0:I.error)||((S=I[0])==null?void 0:S.error);if(D){Y(vt,`RPC '${e}' stream ${i} received error:`,D);const F=D.status;let b=function(E){const x=Be[E];if(x!==void 0)return cw(x)}(F),y=D.message;b===void 0&&(b=G.INTERNAL,y="Unknown error status: "+F+" with message "+D.message),T=!0,R.a_(new J(b,y)),p.close()}else Y(vt,`RPC '${e}' stream ${i} received:`,w),R.u_(w)}}),k(l,P1.STAT_EVENT,P=>{P.stat===Df.PROXY?Y(vt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Df.NOPROXY&&Y(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){return new YR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class xw{constructor(e,n,r,i,s,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Iw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new J(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qP extends xw{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZR(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Rn(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=jf(u)?{documents:nP(s,u)}:{query:rP(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=dw(s,o.resumeToken);const c=Ff(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){l.readTime=pu(s,o.snapshotVersion.toTimestamp());const c=Ff(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=sP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zf(this.serializer),n.removeTarget=e,this.q_(n)}}class QP extends xw{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tP(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eP(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{}class YP extends KP{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,$f(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(G.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,$f(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class JP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{xi(this)&&(Y(vi,"Restarting streams for network reachability change."),await async function(u){const c=se(u);c.Ea.add(4),await _a(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ec(c)}(this))})}),this.Ra=new XP(r,i)}}async function ec(t){if(xi(t))for(const e of t.da)await e(!0)}async function _a(t){for(const e of t.da)await e(!1)}function Cw(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wp(n)?_p(n):js(n).O_()&&vp(n,e))}function yp(t,e){const n=se(t),r=js(n);n.Ia.delete(e),r.O_()&&Aw(n,e),n.Ia.size===0&&(r.O_()?r.L_():xi(n)&&n.Ra.set("Unknown"))}function vp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}js(t).Y_(e)}function Aw(t,e){t.Va.Ue(e),js(t).Z_(e)}function _p(t){t.Va=new WR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),js(t).start(),t.Ra.ua()}function wp(t){return xi(t)&&!js(t).x_()&&t.Ia.size>0}function xi(t){return se(t).Ea.size===0}function Rw(t){t.Va=void 0}async function ZP(t){t.Ra.set("Online")}async function ek(t){t.Ia.forEach((e,n)=>{vp(t,e)})}async function tk(t,e){Rw(t),wp(t)?(t.Ra.ha(e),_p(t)):t.Ra.set("Unknown")}async function nk(t,e,n){if(t.Ra.set("Online"),e instanceof fw&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){Y(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gu(t,r)}else if(e instanceof Cl?t.Va.Ze(e):e instanceof hw?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await Sw(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(pt.EMPTY_BYTE_STRING,d.snapshotVersion)),Aw(s,u);const p=new dr(d.target,u,c,d.sequenceNumber);vp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y(vi,"Failed to raise snapshot:",r),await gu(t,r)}}async function gu(t,e,n){if(!Ls(e))throw e;t.Ea.add(1),await _a(t),t.Ra.set("Offline"),n||(n=()=>Sw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(vi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ec(t)})}function Pw(t,e){return e().catch(n=>gu(t,n,e))}async function tc(t){const e=se(t),n=jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rp;for(;rk(e);)try{const i=await bP(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ik(e,i)}catch(i){await gu(e,i)}kw(e)&&Nw(e)}function rk(t){return xi(t)&&t.Ta.length<10}function ik(t,e){t.Ta.push(e);const n=jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kw(t){return xi(t)&&!jr(t).x_()&&t.Ta.length>0}function Nw(t){jr(t).start()}async function sk(t){jr(t).ra()}async function ok(t){const e=jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function ak(t,e,n){const r=t.Ta.shift(),i=cp.from(r,e,n);await Pw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tc(t)}async function lk(t,e){e&&jr(t).X_&&await async function(r,i){if(function(o){return BR(o)&&o!==G.ABORTED}(i.code)){const s=r.Ta.shift();jr(r).B_(),await Pw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tc(r)}}(t,e),kw(t)&&Nw(t)}async function Ky(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),Y(vi,"RemoteStore received new credentials");const r=xi(n);n.Ea.add(3),await _a(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ec(n)}async function uk(t,e){const n=se(t);e?(n.Ea.delete(2),await ec(n)):e||(n.Ea.add(2),await _a(n),n.Ra.set("Unknown"))}function js(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.sa(),new qP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ZP.bind(null,t),t_:ek.bind(null,t),r_:tk.bind(null,t),H_:nk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),wp(t)?_p(t):t.Ra.set("Unknown")):(await t.ma.stop(),Rw(t))})),t.ma}function jr(t){return t.fa||(t.fa=function(n,r,i){const s=se(n);return s.sa(),new QP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sk.bind(null,t),r_:lk.bind(null,t),ta:ok.bind(null,t),na:ak.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await tc(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(vi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Ep(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Ls(t))return new J(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{static emptySet(e){return new ss(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=mo(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ss;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.ga=new Me(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Is{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Is(e,n,ss.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hk{constructor(){this.queries=Xy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=Xy(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new J(G.ABORTED,"Firestore shutting down"))}}function Xy(){return new Ii(t=>J1(t),qu)}async function fk(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new ck,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Tp(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Sp(n)}async function dk(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pk(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Sp(n)}function mk(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Sp(t){t.Ca.forEach(e=>{e.next()})}var Hf,Jy;(Jy=Hf||(Hf={})).Ma="default",Jy.Cache="cache";class gk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.key=e}}class Vw{constructor(e){this.key=e}}class yk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=Z1(e),this.tu=new ss(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Yy,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),T=Qu(this.query,p)?p:null,R=!!m&&this.mutatedKeys.has(m.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;m&&T?m.data.isEqual(T.data)?R!==k&&(r.track({type:3,doc:T}),P=!0):this.su(m,T)||(r.track({type:2,doc:T}),P=!0,(u&&this.eu(T,u)>0||c&&this.eu(T,c)<0)&&(l=!0)):!m&&T?(r.track({type:0,doc:T}),P=!0):m&&!T&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(T?(o=o.add(T),s=k?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,p)=>function(T,R){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:P})}};return k(T)-k(R)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Is(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Vw(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Dw(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ip="SyncEngine";class vk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _k{constructor(e){this.key=e,this.hu=!1}}class wk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ii(l=>J1(l),qu),this.Iu=new Map,this.Eu=new Set,this.du=new Me(ne.comparator),this.Au=new Map,this.Ru=new dp,this.Vu={},this.mu=new Map,this.fu=Ss.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ek(t,e,n=!0){const r=Fw(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Ow(r,e,n,!0),i}async function Tk(t,e){const n=Fw(t);await Ow(n,e,!0,!1)}async function Ow(t,e,n,r){const i=await FP(t.localStore,An(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Sk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Cw(t.remoteStore,i),l}async function Sk(t,e,n,r,i){t.pu=(p,m,T)=>async function(k,P,S,w){let I=P.view.ru(S);I.Cs&&(I=await Gy(k.localStore,P.query,!1).then(({documents:y})=>P.view.ru(y,I)));const D=w&&w.targetChanges.get(P.targetId),F=w&&w.targetMismatches.get(P.targetId)!=null,b=P.view.applyChanges(I,k.isPrimaryClient,D,F);return ev(k,P.targetId,b.au),b.snapshot}(t,p,m,T);const s=await Gy(t.localStore,e,!0),o=new yk(e,s.Qs),l=o.ru(s.documents),u=va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);ev(t,n,c.au);const d=new vk(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Ik(t,e,n){const r=se(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!qu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yp(r.remoteStore,i.targetId),Wf(r,i.targetId)}).catch(Ms)):(Wf(r,i.targetId),await Bf(r.localStore,i.targetId,!0))}async function xk(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yp(n.remoteStore,r.targetId))}async function Ck(t,e,n){const r=Vk(t);try{const i=await function(o,l){const u=se(o),c=xe.now(),d=l.reduce((T,R)=>T.add(R.key),ce());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let R=qn(),k=ce();return u.Ns.getEntries(T,d).next(P=>{R=P,R.forEach((S,w)=>{w.isValidDocument()||(k=k.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,R)).next(P=>{p=P;const S=[];for(const w of l){const I=bR(w,p.get(w.key).overlayedDocument);I!=null&&S.push(new Gr(w.key,I,H1(I.value.mapValue),Kt.exists(!0)))}return u.mutationQueue.addMutationBatch(T,c,S,l)}).next(P=>{m=P;const S=P.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(T,P.batchId,S)})}).then(()=>({batchId:m.batchId,changes:tw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Me(ue)),c=c.insert(l,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await wa(r,i.changes),await tc(r.remoteStore)}catch(i){const s=Tp(i,"Failed to persist write");n.reject(s)}}async function Mw(t,e){const n=se(t);try{const r=await LP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ge(o.hu,14607):i.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await wa(n,r,e)}catch(r){await Ms(r)}}function Zy(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=se(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.va(l)&&(c=!0)}),c&&Sp(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ak(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(ne.comparator);o=o.insert(s,Et.newNoDocument(s,ie.min()));const l=ce().add(s),u=new Ju(ie.min(),new Map,new Me(ue),o,l);await Mw(r,u),r.du=r.du.remove(s),r.Au.delete(e),xp(r)}else await Bf(r.localStore,e,!1).then(()=>Wf(r,e,n)).catch(Ms)}async function Rk(t,e){const n=se(t),r=e.batch.batchId;try{const i=await MP(n.localStore,e);jw(n,r,null),Lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wa(n,i)}catch(i){await Ms(i)}}async function Pk(t,e,n){const r=se(t);try{const i=await function(o,l){const u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ge(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);jw(r,e,n),Lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wa(r,i)}catch(i){await Ms(i)}}function Lw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jw(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||bw(t,r)})}function bw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xp(t))}function ev(t,e,n){for(const r of n)r instanceof Dw?(t.Ru.addReference(r.key,e),kk(t,r)):r instanceof Vw?(Y(Ip,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||bw(t,r.key)):re(19791,{wu:r})}function kk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Ip,"New document in limbo: "+n),t.Eu.add(r),xp(t))}function xp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ie.fromString(e)),r=t.fu.next();t.Au.set(r,new _k(n)),t.du=t.du.insert(n,r),Cw(t.remoteStore,new dr(An(lp(n.path)),r,"TargetPurposeLimboResolution",Bu.ce))}}async function wa(t,e,n){const r=se(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=mp.As(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const d=se(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(c,m=>U.forEach(m.Es,T=>d.persistence.referenceDelegate.addReference(p,m.targetId,T)).next(()=>U.forEach(m.ds,T=>d.persistence.referenceDelegate.removeReference(p,m.targetId,T)))))}catch(p){if(!Ls(p))throw p;Y(gp,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const T=d.Ms.get(m),R=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(R);d.Ms=d.Ms.insert(m,k)}}}(r.localStore,s))}async function Nk(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){Y(Ip,"User change. New user:",e.toKey());const r=await Tw(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new J(G.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wa(n,r.Ls)}}function Dk(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ce().add(r.key);{let i=ce();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function Fw(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ak.bind(null,e),e.Pu.H_=pk.bind(null,e.eventManager),e.Pu.yu=mk.bind(null,e.eventManager),e}function Vk(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pk.bind(null,e),e}class yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OP(this.persistence,new NP,e.initialUser,this.serializer)}Cu(e){return new Ew(pp.mi,this.serializer)}Du(e){return new UP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yu.provider={build:()=>new yu};class Ok extends yu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof mu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new Ew(r=>mu.mi(r,n),this.serializer)}}class qf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hk}()}createDatastore(e){const n=Zu(e.databaseInfo.databaseId),r=function(s){return new WP(s)}(e.databaseInfo);return function(s,o,l,u){return new YP(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new JP(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Zy(this.syncEngine,n,0),function(){return qy.v()?new qy:new zP}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new wk(i,s,o,l,u,c);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);Y(vi,"RemoteStore shutting down."),s.Ea.add(5),await _a(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class Lk{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(br,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(br,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),Y(br,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jk(t);Y(br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ky(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ky(e.remoteStore,i)),t._onlineComponents=e}async function jk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(br,"Using user provided OfflineComponentProvider");try{await ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_s("Error using user provided cache. Falling back to memory cache: "+n),await ph(t,new yu)}}else Y(br,"Using default OfflineComponentProvider"),await ph(t,new Ok(void 0));return t._offlineComponents}async function $w(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(br,"Using user provided OnlineComponentProvider"),await tv(t,t._uninitializedComponentsProvider._online)):(Y(br,"Using default OnlineComponentProvider"),await tv(t,new qf))),t._onlineComponents}function bk(t){return $w(t).then(e=>e.syncEngine)}async function nv(t){const e=await $w(t),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=Ik.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xk.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firestore.googleapis.com",iv=!0;class sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zw,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pP)throw new J(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uw(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UA;switch(r.type){case"firstParty":return new HA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rv.get(n);r&&(Y("ComponentProvider","Removing Datastore"),rv.delete(n),r.terminate())}(this),Promise.resolve()}}function Fk(t,e,n,r={}){var c;t=Pr(t,nc);const i=Jd(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(gC(`https://${l}`),wC("Firestore",!0)),s.host!==zw&&s.host!==l&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!iu(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=_t.MOCK_USER;else{d=yC(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _t(m)}t._authCredentials=new zA(new V1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rc(this.firestore,e,this._query)}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ga(n,Je._jsonSchema))return new Je(e,r||null,new ne(Ie.fromString(n.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:We("string",Je._jsonSchemaVersion),referencePath:We("string")};class kr extends rc{constructor(e,n,r){super(e,n,lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new ne(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function mh(t,e,...n){if(t=Nn(t),O1("collection","path",e),t instanceof nc){const r=Ie.fromString(e,...n);return vy(r),new kr(t,null,r)}{if(!(t instanceof Je||t instanceof kr))throw new J(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return vy(r),new kr(t.firestore,null,r)}}function It(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=tp.newId()),O1("doc","path",e),t instanceof nc){const r=Ie.fromString(e,...n);return yy(r),new Je(t,null,new ne(r))}{if(!(t instanceof Je||t instanceof kr))throw new J(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return yy(r),new Je(t.firestore,t instanceof kr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Iw(this,"async_queue_retry"),this._c=()=>{const r=dh();r&&Y(ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new li;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ls(e))throw e;Y(ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wn("INTERNAL UNHANDLED ERROR: ",lv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ep.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new av,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function $k(t,e){const n=typeof t=="object"?t:kA(),r=typeof t=="string"?t:lu,i=xA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pC("firestore");s&&Fk(i,...s)}return i}function Cp(t){if(t._terminated)throw new J(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uk(t),t._firestoreClient}function Uk(t){var r,i,s;const e=t._freezeSettings(),n=function(l,u,c,d){return new lR(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Uw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Lk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nn(pt.fromBase64String(e))}catch(n){throw new J(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nn(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ga(e,nn._jsonSchema))return nn.fromBase64String(e.bytes)}}nn._jsonSchemaVersion="firestore/bytes/1.0",nn._jsonSchema={type:We("string",nn._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pn._jsonSchemaVersion}}static fromJSON(e){if(ga(e,Pn._jsonSchema))return new Pn(e.latitude,e.longitude)}}Pn._jsonSchemaVersion="firestore/geoPoint/1.0",Pn._jsonSchema={type:We("string",Pn._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ga(e,kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kn(e.vectorValues);throw new J(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kn._jsonSchemaVersion="firestore/vectorValue/1.0",kn._jsonSchema={type:We("string",kn._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=/^__.*__$/;class Bk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}class Bw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class Rp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gw(this.Ac)&&zk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zu(e)}Cc(e,n,r,i=!1){return new Rp({Ac:e,methodName:n,Dc:r,path:ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hw(t){const e=t._freezeSettings(),n=Zu(t._databaseId);return new Gk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ww(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Pp("Data must be an object, but it was:",o,r);const l=qw(r,o);let u,c;if(s.merge)u=new qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=Qf(e,p,n);if(!o.contains(m))throw new J(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Kw(d,m)||d.push(m)}u=new qt(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new Bk(new Lt(l),u,c)}class sc extends Ap{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}function Hk(t,e,n,r){const i=t.Cc(1,e,n);Pp("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();Br(r,(u,c)=>{const d=kp(e,u,n);c=Nn(c);const p=i.yc(d);if(c instanceof sc)s.push(d);else{const m=oc(c,p);m!=null&&(s.push(d),o.set(d,m))}});const l=new qt(s);return new Bw(o,l,i.fieldTransforms)}function Wk(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[Qf(e,r,n)],u=[i];if(s.length%2!=0)throw new J(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Qf(e,s[m])),u.push(s[m+1]);const c=[],d=Lt.empty();for(let m=l.length-1;m>=0;--m)if(!Kw(c,l[m])){const T=l[m];let R=u[m];R=Nn(R);const k=o.yc(T);if(R instanceof sc)c.push(T);else{const P=oc(R,k);P!=null&&(c.push(T),d.set(T,P))}}const p=new qt(c);return new Bw(d,p,o.fieldTransforms)}function oc(t,e){if(Qw(t=Nn(t)))return Pp("Unsupported field value:",e,t),qw(t,e);if(t instanceof Ap)return function(r,i){if(!Gw(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=oc(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xe.fromDate(r);return{timestampValue:pu(i.serializer,s)}}if(r instanceof xe){const s=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pu(i.serializer,s)}}if(r instanceof Pn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nn)return{bytesValue:dw(i.serializer,r._byteString)};if(r instanceof Je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kn)return function(o,l){return{mapValue:{fields:{[B1]:{stringValue:G1},[uu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return up(l.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${np(r)}`)}(t,e)}function qw(t,e){const n={};return j1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(t,(r,i)=>{const s=oc(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Qw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Pn||t instanceof nn||t instanceof Je||t instanceof Ap||t instanceof kn)}function Pp(t,e,n){if(!Qw(n)||!M1(n)){const r=np(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Qf(t,e,n){if((e=Nn(e))instanceof ic)return e._internalPath;if(typeof e=="string")return kp(t,e);throw vu("Field path arguments must be of type string or ",t,!1,void 0,n)}const qk=new RegExp("[~\\*/\\[\\]]");function kp(t,e,n){if(e.search(qk)>=0)throw vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ic(...e.split("."))._internalPath}catch{throw vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new J(G.INVALID_ARGUMENT,l+t+u)}function Kw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qk extends Yw{data(){return super.data()}}function Xw(t,e){return typeof e=="string"?kp(t,e):e instanceof ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yk{convertValue(e,n="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Br(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[uu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>$e(o.doubleValue));return new kn(n)}convertGeoPoint(e){return new Pn($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=Or(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);ge(_w(r),9688,{name:e});const i=new sa(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ui extends Yw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",ui._jsonSchema={type:We("string",ui._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Al extends ui{data(e={}){return super.data(e)}}class os{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Al(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Al(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Al(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Xk(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=os._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}os._jsonSchemaVersion="firestore/querySnapshot/1.0",os._jsonSchema={type:We("string",os._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class Zw extends Yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function wn(t,e,n){t=Pr(t,Je);const r=Pr(t.firestore,xs),i=Jw(t.converter,e,n);return Np(r,[Ww(Hw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kt.none())])}function gh(t){return Np(Pr(t.firestore,xs),[new Xu(t._key,Kt.none())])}function yh(t,...e){var u,c,d;t=Nn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uv(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uv(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(c=p.error)==null?void 0:c.bind(p),e[r+2]=(d=p.complete)==null?void 0:d.bind(p)}let s,o,l;if(t instanceof Je)o=Pr(t.firestore,xs),l=lp(t._key.path),s={next:p=>{e[r]&&e[r](Jk(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Pr(t,rc);o=Pr(p.firestore,xs),l=p._query;const m=new Zw(o);s={next:T=>{e[r]&&e[r](new os(o,m,p,T))},error:e[r+1],complete:e[r+2]},Kk(t._query)}return function(m,T,R,k){const P=new Mk(k),S=new gk(T,P,R);return m.asyncQueue.enqueueAndForget(async()=>fk(await nv(m),S)),()=>{P.Nu(),m.asyncQueue.enqueueAndForget(async()=>dk(await nv(m),S))}}(Cp(o),l,i,s)}function Np(t,e){return function(r,i){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>Ck(await bk(r),i,s)),s.promise}(Cp(t),e)}function Jk(t,e,n){const r=n.docs.get(e._key),i=new Zw(t);return new ui(t,i,e._key,r,new yo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hw(e)}set(e,n,r){this._verifyNotCommitted();const i=vh(e,this._firestore),s=Jw(i.converter,n,r),o=Ww(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Kt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=vh(e,this._firestore);let o;return o=typeof(n=Nn(n))=="string"||n instanceof ic?Wk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Hk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vh(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(n._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vh(t,e){if((t=Nn(t)).firestore!==e)throw new J(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return Cp(t=Pr(t,xs)),new Zk(t,e=>Np(t,e))}(function(e,n=!0){(function(i){Os=i})(PA),ou(new ta("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new xs(new BA(r.getProvider("auth-internal")),new WA(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),is(dy,py,e),is(dy,py,"esm2020")})();var e2="firebase",t2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(e2,t2,"app");const n2={apiKey:"AIzaSyCfPO-haIfxOPeLZEcuTRwpAxDWWOflOsc",authDomain:"futsal-league-67ce9.firebaseapp.com",projectId:"futsal-league-67ce9",storageBucket:"futsal-league-67ce9.firebasestorage.app",messagingSenderId:"610277007826",appId:"1:610277007826:web:10c9b17f7229186c76e80b",measurementId:"G-SB1MCZNKSM"},r2=S1(n2),je=$k(r2),eE=B.createContext(void 0),hv="futsal-league-data",_h=[{id:"1",name:"",color:"#2196F3"},{id:"2",name:"",color:"#4CAF50"},{id:"3",name:"",color:"#F44336"}],fv=()=>{try{return je!=null}catch{return!1}},i2=({children:t})=>{const[e,n]=B.useState(_h),[r,i]=B.useState([]),[s,o]=B.useState([]),[l,u]=B.useState(!0),[c,d]=B.useState(!1),p=()=>{const V=localStorage.getItem(hv);if(V)try{const M=JSON.parse(V);n(M.teams||_h),i(M.players||[]),o(M.gameDays||[])}catch(M){console.error("Error loading from localStorage:",M)}},m=V=>{localStorage.setItem(hv,JSON.stringify(V))};B.useEffect(()=>{(async()=>{if(u(!0),!fv()){console.log("Firebase not configured, using localStorage"),p(),u(!1);return}try{const M=yh(mh(je,"teams"),H=>{if(H.empty)T();else{const q=H.docs.map(te=>({id:te.id,...te.data()}));n(q)}d(!0)},H=>{console.error("Firebase teams error:",H),p(),d(!1)}),j=yh(mh(je,"players"),H=>{const q=H.docs.map(te=>({id:te.id,...te.data()}));i(q)},H=>{console.error("Firebase players error:",H)}),z=yh(mh(je,"gameDays"),H=>{const q=H.docs.map(te=>({id:te.id,...te.data()}));o(q)},H=>{console.error("Firebase gameDays error:",H)});return u(!1),()=>{M(),j(),z()}}catch(M){console.error("Firebase initialization error:",M),p(),d(!1),u(!1)}})()},[]),B.useEffect(()=>{c||m({teams:e,players:r,gameDays:s})},[e,r,s,c]);const T=async()=>{if(fv())try{const V=cv(je);_h.forEach(M=>{const j=It(je,"teams",M.id);V.set(j,{name:M.name,color:M.color})}),await V.commit()}catch(V){console.error("Error initializing default teams:",V)}},R=async V=>{const M=Date.now().toString(),j={...V,id:M};if(c)try{await wn(It(je,"teams",M),{name:V.name,color:V.color})}catch(z){console.error("Error adding team:",z),n([...e,j])}else n([...e,j])},k=async(V,M)=>{if(c)try{const j=It(je,"teams",V);await wn(j,M,{merge:!0})}catch(j){console.error("Error updating team:",j),n(e.map(z=>z.id===V?{...z,...M}:z))}else n(e.map(j=>j.id===V?{...j,...M}:j))},P=async V=>{if(c)try{await gh(It(je,"teams",V))}catch(M){console.error("Error deleting team:",M),n(e.filter(j=>j.id!==V))}else n(e.filter(M=>M.id!==V))},S=async V=>{const M=Date.now().toString(),j={...V,id:M};if(c)try{await wn(It(je,"players",M),{name:V.name})}catch(z){console.error("Error adding player:",z),i([...r,j])}else i([...r,j])},w=async(V,M)=>{if(c)try{const j=It(je,"players",V);await wn(j,M,{merge:!0})}catch(j){console.error("Error updating player:",j),i(r.map(z=>z.id===V?{...z,...M}:z))}else i(r.map(j=>j.id===V?{...j,...M}:j))},I=async V=>{if(c)try{await gh(It(je,"players",V))}catch(M){console.error("Error deleting player:",M),i(r.filter(j=>j.id!==V))}else i(r.filter(M=>M.id!==V))},D=async V=>{const M=Date.now().toString(),j={...V,id:M};if(c)try{await wn(It(je,"gameDays",M),{name:V.name,date:V.date,playerTeamAssignments:V.playerTeamAssignments,matches:V.matches,isActive:V.isActive})}catch(z){console.error("Error adding game day:",z),o([...s,j])}else o([...s,j]);return j},F=async(V,M)=>{if(c)try{const j=It(je,"gameDays",V);await wn(j,M,{merge:!0})}catch(j){console.error("Error updating game day:",j),o(s.map(z=>z.id===V?{...z,...M}:z))}else o(s.map(j=>j.id===V?{...j,...M}:j))},b=async V=>{if(c)try{await gh(It(je,"gameDays",V))}catch(M){console.error("Error deleting game day:",M),o(s.filter(j=>j.id!==V))}else o(s.filter(M=>M.id!==V))},y=V=>s.find(M=>M.id===V),g=async V=>{if(c)try{const M=cv(je);s.forEach(j=>{const z=It(je,"gameDays",j.id);M.update(z,{isActive:j.id===V})}),await M.commit()}catch(M){console.error("Error setting active game day:",M),o(s.map(j=>({...j,isActive:j.id===V})))}else o(s.map(M=>({...M,isActive:M.id===V})))},E=()=>s.find(V=>V.isActive),x=async(V,M)=>{const j={...M,id:Date.now().toString(),gameDayId:V},z=s.find(q=>q.id===V);if(!z)return;const H=[...z.matches,j];if(c)try{const q=It(je,"gameDays",V);await wn(q,{matches:H},{merge:!0})}catch(q){console.error("Error adding match:",q),o(s.map(te=>te.id===V?{...te,matches:H}:te))}else o(s.map(q=>q.id===V?{...q,matches:H}:q))},A=async(V,M,j)=>{const z=s.find(q=>q.id===V);if(!z)return;const H=z.matches.map(q=>q.id===M?{...q,...j}:q);if(c)try{const q=It(je,"gameDays",V);await wn(q,{matches:H},{merge:!0})}catch(q){console.error("Error updating match:",q),o(s.map(te=>te.id===V?{...te,matches:H}:te))}else o(s.map(q=>q.id===V?{...q,matches:H}:q))},N=async(V,M)=>{const j=s.find(H=>H.id===V);if(!j)return;const z=j.matches.filter(H=>H.id!==M);if(c)try{const H=It(je,"gameDays",V);await wn(H,{matches:z},{merge:!0})}catch(H){console.error("Error deleting match:",H),o(s.map(q=>q.id===V?{...q,matches:z}:q))}else o(s.map(H=>H.id===V?{...H,matches:z}:H))},C=async(V,M,j,z)=>{const H=s.find(te=>te.id===V);if(!H)return;const q=H.playerTeamAssignments.map(te=>{if(te.playerId!==M)return te;const Fe=te.transfers||[];return{...te,teamId:z,transfers:[...Fe,{fromTeamId:j,toTeamId:z,timestamp:Date.now()}]}});if(c)try{const te=It(je,"gameDays",V);await wn(te,{playerTeamAssignments:q},{merge:!0})}catch(te){console.error("Error transferring player:",te),o(s.map(Fe=>Fe.id===V?{...Fe,playerTeamAssignments:q}:Fe))}else o(s.map(te=>te.id===V?{...te,playerTeamAssignments:q}:te))},ye=(V,M,j)=>{const z=V.playerTeamAssignments.find(q=>q.playerId===M);if(!z)return null;if(!z.transfers||z.transfers.length===0)return z.teamId;let H=z.transfers[0].fromTeamId;for(const q of z.transfers)if(q.timestamp<=j)H=q.toTeamId;else break;return H},Pt={isLoading:l,isFirebaseConnected:c,teams:e,addTeam:R,updateTeam:k,deleteTeam:P,players:r,addPlayer:S,updatePlayer:w,deletePlayer:I,gameDays:s,addGameDay:D,updateGameDay:F,deleteGameDay:b,getGameDay:y,setActiveGameDay:g,getActiveGameDay:E,addMatch:x,updateMatch:A,deleteMatch:N,transferPlayer:C,getTeamDayStats:V=>{const M=s.find(z=>z.id===V);if(!M)return[];const j=new Map;return e.forEach(z=>{j.set(z.id,{teamId:z.id,teamName:z.name,teamColor:z.color,matchesPlayed:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0,points:0})}),M.matches.forEach(z=>{const H=j.get(z.team1Id),q=j.get(z.team2Id);!H||!q||(H.matchesPlayed++,q.matchesPlayed++,H.goalsFor+=z.score1,H.goalsAgainst+=z.score2,q.goalsFor+=z.score2,q.goalsAgainst+=z.score1,z.score1>z.score2?(H.wins++,H.points+=3,q.losses++):z.score1<z.score2?(q.wins++,q.points+=3,H.losses++):(H.draws++,q.draws++,H.points+=1,q.points+=1),H.goalDifference=H.goalsFor-H.goalsAgainst,q.goalDifference=q.goalsFor-q.goalsAgainst)}),Array.from(j.values()).sort((z,H)=>H.points!==z.points?H.points-z.points:H.goalDifference!==z.goalDifference?H.goalDifference-z.goalDifference:H.goalsFor-z.goalsFor)},getPlayerStats:()=>{const V=new Map;return r.forEach(M=>{V.set(M.id,{playerId:M.id,playerName:M.name,totalGoals:0,totalMatches:0,gameDaysPlayed:0,goalsByTeam:{}})}),s.forEach(M=>{const j=new Map;M.matches.forEach(z=>{M.playerTeamAssignments.forEach(H=>{const q=ye(M,H.playerId,z.timestamp);if(q===z.team1Id||q===z.team2Id){const te=j.get(H.playerId)||0;j.set(H.playerId,te+1)}}),z.goals.forEach(H=>{const q=V.get(H.playerId);q&&(q.totalGoals++,q.goalsByTeam[H.teamId]||(q.goalsByTeam[H.teamId]=0),q.goalsByTeam[H.teamId]++)})}),j.forEach((z,H)=>{const q=V.get(H);q&&z>0&&(q.totalMatches+=z,q.gameDaysPlayed++)})}),Array.from(V.values()).sort((M,j)=>j.totalGoals!==M.totalGoals?j.totalGoals-M.totalGoals:j.totalMatches-M.totalMatches)}};return _.jsx(eE.Provider,{value:Pt,children:t})},Ci=()=>{const t=B.useContext(eE);if(!t)throw new Error("useApp must be used within AppProvider");return t},s2=rC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: #f5f5f5;
    color: #333;
  }

  button {
    font-family: inherit;
  }
`,o2={colors:{primary:"#1976d2",secondary:"#dc004e",success:"#4caf50",warning:"#ff9800",error:"#f44336",info:"#2196f3",background:"#f5f5f5",surface:"#ffffff",text:{primary:"#333333",secondary:"#666666",disabled:"#999999"},border:"#e0e0e0"},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px",xxl:"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px"},shadows:{sm:"0 1px 3px rgba(0,0,0,0.12)",md:"0 4px 6px rgba(0,0,0,0.1)",lg:"0 10px 20px rgba(0,0,0,0.15)"}},a2=Z.nav`
  background: ${({theme:t})=>t.colors.surface};
  box-shadow: ${({theme:t})=>t.shadows.sm};
  margin-bottom: ${({theme:t})=>t.spacing.lg};
  position: sticky;
  top: 0;
  z-index: 100;
`,l2=Z.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:t})=>t.spacing.md};
  display: flex;
  align-items: center;
  justify-content: space-between;
`,u2=Z(B0)`
  font-size: 18px;
  font-weight: 700;
  color: ${({theme:t})=>t.colors.primary};
  text-decoration: none;
  padding: ${({theme:t})=>t.spacing.md} 0;
  white-space: nowrap;

  @media (max-width: 480px) {
    font-size: 16px;
  }
`,c2=Z.div`
  display: flex;
  gap: ${({theme:t})=>t.spacing.sm};

  @media (max-width: 600px) {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    flex-direction: column;
    background: ${({theme:t})=>t.colors.surface};
    box-shadow: ${({theme:t})=>t.shadows.md};
    padding: ${({$isOpen:t})=>t?"8px 0":"0"};
    max-height: ${({$isOpen:t})=>t?"300px":"0"};
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
  }
`,il=Z(B0)`
  padding: ${({theme:t})=>t.spacing.md} ${({theme:t})=>t.spacing.md};
  text-decoration: none;
  color: ${({theme:t,$active:e})=>e?t.colors.primary:t.colors.text.secondary};
  font-weight: ${({$active:t})=>t?"600":"400"};
  border-bottom: 2px solid ${({theme:t,$active:e})=>e?t.colors.primary:"transparent"};
  transition: all 0.2s;
  font-size: 14px;

  &:hover {
    color: ${({theme:t})=>t.colors.primary};
  }

  @media (max-width: 600px) {
    border-bottom: none;
    border-left: 3px solid ${({theme:t,$active:e})=>e?t.colors.primary:"transparent"};
    padding: 12px 16px;
  }
`,h2=Z.button`
  display: none;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  padding: 8px;
  color: ${({theme:t})=>t.colors.text.primary};

  @media (max-width: 600px) {
    display: block;
  }
`,f2=()=>{const t=ma(),[e,n]=B.useState(!1),r=()=>n(!1);return _.jsx(a2,{children:_.jsxs(l2,{children:[_.jsx(u2,{to:"/",onClick:r,children:" Futsal League"}),_.jsx(h2,{onClick:()=>n(!e),children:e?"":""}),_.jsxs(c2,{$isOpen:e,children:[_.jsx(il,{to:"/",$active:t.pathname==="/",onClick:r,children:" "}),_.jsx(il,{to:"/players",$active:t.pathname==="/players",onClick:r,children:""}),_.jsx(il,{to:"/teams",$active:t.pathname==="/teams",onClick:r,children:""}),_.jsx(il,{to:"/stats",$active:t.pathname==="/stats",onClick:r,children:""})]})]})})},_i=Z.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: ${({theme:t})=>t.spacing.md};

  @media (max-width: 480px) {
    padding: ${({theme:t})=>t.spacing.sm};
  }
`,Yt=Z.div`
  background: ${({theme:t})=>t.colors.surface};
  border-radius: ${({theme:t})=>t.borderRadius.md};
  box-shadow: ${({theme:t})=>t.shadows.sm};
  padding: ${({theme:t})=>t.spacing.lg};
  margin-bottom: ${({theme:t})=>t.spacing.md};

  @media (max-width: 480px) {
    padding: ${({theme:t})=>t.spacing.md};
    border-radius: ${({theme:t})=>t.borderRadius.sm};
  }
`,pe=Z.button`
  padding: 10px 16px;
  border: none;
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  width: ${({$fullWidth:t})=>t?"100%":"auto"};

  background: ${({theme:t,$variant:e})=>e==="danger"?t.colors.error:e==="secondary"?t.colors.text.secondary:t.colors.primary};
  color: white;

  &:hover {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  @media (max-width: 480px) {
    padding: 12px 16px;
    font-size: 14px;
  }
`,Cs=Z.input`
  padding: 12px 16px;
  border: 1px solid ${({theme:t})=>t.colors.border};
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  font-size: 16px;
  width: 100%;
  transition: border-color 0.2s;
  -webkit-appearance: none;

  &:focus {
    outline: none;
    border-color: ${({theme:t})=>t.colors.primary};
  }

  @media (max-width: 480px) {
    padding: 14px 12px;
  }
`,ar=Z.select`
  padding: 12px 16px;
  border: 1px solid ${({theme:t})=>t.colors.border};
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  font-size: 16px;
  width: 100%;
  background: white;
  cursor: pointer;
  transition: border-color 0.2s;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px;
  padding-right: 40px;

  &:focus {
    outline: none;
    border-color: ${({theme:t})=>t.colors.primary};
  }

  @media (max-width: 480px) {
    padding: 14px 12px;
    padding-right: 40px;
  }
`,Vt=Z.label`
  display: block;
  margin-bottom: ${({theme:t})=>t.spacing.xs};
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:t})=>t.colors.text.primary};
`,Ot=Z.div`
  margin-bottom: ${({theme:t})=>t.spacing.md};
`,wi=Z.h1`
  font-size: 28px;
  font-weight: 700;
  margin-bottom: ${({theme:t})=>t.spacing.lg};
  color: ${({theme:t})=>t.colors.text.primary};

  @media (max-width: 480px) {
    font-size: 22px;
    margin-bottom: ${({theme:t})=>t.spacing.md};
  }
`,pr=Z.h2`
  font-size: 20px;
  font-weight: 600;
  margin-bottom: ${({theme:t})=>t.spacing.md};
  color: ${({theme:t})=>t.colors.text.primary};

  @media (max-width: 480px) {
    font-size: 18px;
  }
`,ac=Z.div`
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin: 0 -${({theme:t})=>t.spacing.lg};
  padding: 0 ${({theme:t})=>t.spacing.lg};

  @media (max-width: 480px) {
    margin: 0 -${({theme:t})=>t.spacing.md};
    padding: 0 ${({theme:t})=>t.spacing.md};
  }
`,lc=Z.table`
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  min-width: 500px;

  @media (max-width: 480px) {
    font-size: 12px;
    min-width: 400px;
  }
`,ke=Z.th`
  text-align: left;
  padding: ${({theme:t})=>t.spacing.sm} ${({theme:t})=>t.spacing.md};
  background: ${({theme:t})=>t.colors.background};
  font-weight: 600;
  border-bottom: 2px solid ${({theme:t})=>t.colors.border};
  white-space: nowrap;

  @media (max-width: 480px) {
    padding: 8px;
  }
`,Ne=Z.td`
  padding: ${({theme:t})=>t.spacing.sm} ${({theme:t})=>t.spacing.md};
  border-bottom: 1px solid ${({theme:t})=>t.colors.border};

  @media (max-width: 480px) {
    padding: 8px;
  }
`,uc=Z.tr`
  &:hover {
    background: ${({theme:t})=>t.colors.background};
  }
`;Z.div`
  display: flex;
  gap: ${({$gap:t,theme:e})=>t||e.spacing.md};
  justify-content: ${({$justify:t})=>t||"flex-start"};
  align-items: ${({$align:t})=>t||"stretch"};
  flex-wrap: ${({$wrap:t})=>t||"nowrap"};
  flex-direction: ${({$direction:t})=>t||"row"};
`;const as=Z.div`
  display: flex;
  gap: ${({theme:t})=>t.spacing.md};
  align-items: center;

  @media (max-width: 600px) {
    flex-direction: column;
    align-items: stretch;
    gap: ${({theme:t})=>t.spacing.sm};
  }
`,Dp=Z.span`
  display: inline-block;
  padding: 4px 10px;
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  font-size: 12px;
  font-weight: 500;
  background: ${({$color:t})=>t||"#e0e0e0"};
  color: white;
  white-space: nowrap;
`,As=Z.div`
  text-align: center;
  padding: ${({theme:t})=>t.spacing.xl};
  color: ${({theme:t})=>t.colors.text.secondary};
  font-size: 16px;

  @media (max-width: 480px) {
    padding: ${({theme:t})=>t.spacing.lg};
    font-size: 14px;
  }
`,mr=Z.div`
  display: flex;
  gap: 8px;
  flex-wrap: wrap;

  @media (max-width: 480px) {
    width: 100%;
    
    & > button {
      flex: 1;
      min-width: 0;
    }
  }
`,d2=Z(Yt)`
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: ${({theme:t})=>t.shadows.md};
  }

  @media (max-width: 480px) {
    &:hover {
      transform: none;
    }
  }
`,p2=Z.div`
  margin-bottom: ${({theme:t})=>t.spacing.sm};
`,m2=Z.h3`
  font-size: 18px;
  font-weight: 600;
  margin: 0;

  @media (max-width: 480px) {
    font-size: 16px;
  }
`,g2=Z.div`
  color: ${({theme:t})=>t.colors.text.secondary};
  font-size: 14px;
  margin-bottom: ${({theme:t})=>t.spacing.sm};
`,y2=Z.div`
  display: flex;
  gap: ${({theme:t})=>t.spacing.md};
  font-size: 14px;
  color: ${({theme:t})=>t.colors.text.secondary};
  flex-wrap: wrap;

  @media (max-width: 480px) {
    font-size: 13px;
    gap: ${({theme:t})=>t.spacing.sm};
  }
`,v2=Z.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  margin-bottom: 24px;

  @media (max-width: 480px) {
    flex-direction: column;
    align-items: stretch;
  }
`,_2=()=>{const{gameDays:t,deleteGameDay:e}=Ci(),n=Lu(),r=[...t].sort((o,l)=>new Date(l.date).getTime()-new Date(o.date).getTime()),i=o=>{n(`/game-day/${o}`)},s=async(o,l)=>{o.stopPropagation(),window.confirm(" ,      ?")&&await e(l)};return _.jsxs(_i,{children:[_.jsxs(v2,{children:[_.jsx(wi,{style:{margin:0},children:" "}),_.jsx(pe,{onClick:()=>n("/game-day/new"),children:"+ "})]}),r.length===0?_.jsx(Yt,{children:_.jsxs(As,{children:[_.jsx("p",{children:"   "}),_.jsx("p",{children:"   ,  !"})]})}):r.map(o=>_.jsxs(d2,{onClick:()=>i(o.id),children:[_.jsx(p2,{children:_.jsx(m2,{children:o.name})}),_.jsx(g2,{children:new Date(o.date).toLocaleDateString("uk-UA")}),_.jsxs(y2,{children:[_.jsxs("span",{children:[": ",o.matches.length]}),_.jsxs("span",{children:[": ",o.playerTeamAssignments.length]})]}),_.jsxs(mr,{style:{marginTop:"16px"},children:[_.jsx(pe,{onClick:l=>{l.stopPropagation(),n(`/game-day/${o.id}/edit`)},children:""}),_.jsx(pe,{$variant:"danger",onClick:l=>s(l,o.id),children:""})]})]},o.id))]})},w2=Z.div`
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 8px;
  background: ${({theme:t})=>t.colors.background};
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  margin-bottom: 8px;

  @media (max-width: 480px) {
    flex-wrap: wrap;
  }
`,E2=Z.div`
  margin-top: ${({theme:t})=>t.spacing.lg};
`,T2=Z.div`
  padding: 8px 16px;
  background: ${({$color:t})=>t};
  color: white;
  font-weight: 600;
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  margin-bottom: 8px;
  font-size: 14px;
`,dv=Z.p`
  color: #999;
  font-size: 14px;
  margin-left: 8px;
  margin-bottom: 8px;
`,S2=Z.p`
  color: #666;
  font-size: 13px;
  margin-top: 4px;
`,pv=()=>{const{id:t}=b0(),{players:e,teams:n,addGameDay:r,updateGameDay:i,getGameDay:s}=Ci(),o=Lu(),l=!!t,u=t?s(t):void 0,[c,d]=B.useState(""),[p,m]=B.useState(new Date().toISOString().split("T")[0]),[T,R]=B.useState([]);B.useEffect(()=>{l&&u&&(d(u.name),m(u.date),R(u.playerTeamAssignments.map(y=>({playerId:y.playerId,teamId:y.teamId}))))},[l,u]);const k=new Set(T.map(y=>y.playerId)),P=()=>{if(n.length===0)return;const y=e.find(g=>!k.has(g.id));if(!y){alert("   ");return}R([...T,{playerId:y.id,teamId:n[0].id}])},S=y=>{R(T.filter((g,E)=>E!==y))},w=(y,g)=>{if(T.some((A,N)=>N!==y&&A.playerId===g)){alert("      ");return}const x=[...T];x[y].playerId=g,R(x)},I=(y,g)=>{const E=[...T];E[y].teamId=g,R(E)},D=async y=>{if(y.preventDefault(),!c.trim()){alert(" ,    ");return}if(l&&t)await i(t,{name:c.trim(),date:p,playerTeamAssignments:T.map(g=>({playerId:g.playerId,teamId:g.teamId}))}),o(`/game-day/${t}`);else{const g=await r({name:c.trim(),date:p,playerTeamAssignments:T.map(E=>({playerId:E.playerId,teamId:E.teamId})),matches:[],isActive:!1});o(`/game-day/${g.id}`)}},F=n.map(y=>({team:y,players:T.map((g,E)=>({...g,index:E})).filter(g=>g.teamId===y.id)})),b=e.length-k.size;return _.jsxs(_i,{children:[_.jsx(wi,{children:l?"  ":"  "}),_.jsx(Yt,{children:_.jsxs("form",{onSubmit:D,children:[_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsx(Cs,{type:"text",value:c,onChange:y=>d(y.target.value),placeholder:":  15 "})]}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsx(Cs,{type:"date",value:p,onChange:y=>m(y.target.value)})]}),_.jsx(Ot,{children:_.jsxs(as,{children:[_.jsxs("div",{style:{flex:1},children:[_.jsx(Vt,{style:{margin:0},children:"  "}),_.jsxs(S2,{children:[": ",T.length," / ",e.length," "]})]}),_.jsx(pe,{type:"button",onClick:P,disabled:b===0,children:"+ "})]})}),e.length===0&&_.jsx(dv,{children:'     ""'}),F.map(({team:y,players:g})=>_.jsxs(E2,{children:[_.jsxs(T2,{$color:y.color,children:[y.name," (",g.length,")"]}),g.length===0?_.jsx(dv,{children:" "}):g.map(E=>_.jsxs(w2,{children:[_.jsx(ar,{value:E.playerId,onChange:x=>w(E.index,x.target.value),style:{flex:2},children:e.map(x=>{const A=k.has(x.id)&&x.id!==E.playerId;return _.jsxs("option",{value:x.id,disabled:A,children:[x.name,A?" ( )":""]},x.id)})}),_.jsx(ar,{value:E.teamId,onChange:x=>I(E.index,x.target.value),style:{flex:1},children:n.map(x=>_.jsx("option",{value:x.id,children:x.name},x.id))}),_.jsx(pe,{type:"button",$variant:"danger",onClick:()=>S(E.index),children:""})]},E.index))]},y.id)),_.jsxs(mr,{style:{marginTop:"24px"},children:[_.jsx(pe,{type:"submit",children:l?"":""}),_.jsx(pe,{type:"button",$variant:"secondary",onClick:()=>o(l?`/game-day/${t}`:"/"),children:""})]})]})})]})},wh=Z.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 12px;
  background: ${({$color:t})=>t};
  color: white;
  border-radius: 4px;
  font-weight: 600;
  font-size: 14px;
  white-space: nowrap;

  @media (max-width: 480px) {
    padding: 4px 8px;
    font-size: 12px;
  }
`,I2=Z.div`
  font-size: 24px;
  font-weight: 700;
  text-align: center;
  min-width: 60px;

  @media (max-width: 480px) {
    font-size: 20px;
    min-width: 50px;
  }
`,x2=Z(Yt)`
  background: ${({theme:t})=>t.colors.background};
`,C2=Z.div`
  font-size: 12px;
  font-weight: 600;
  color: ${({theme:t})=>t.colors.text.secondary};
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,A2=Z.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;

  @media (max-width: 600px) {
    flex-direction: column;
    gap: 12px;
  }
`,R2=Z.div`
  display: flex;
  gap: 16px;
  align-items: center;
  flex: 1;
  justify-content: center;

  @media (max-width: 480px) {
    gap: 8px;
  }
`,P2=Z.div`
  margin-top: ${({theme:t})=>t.spacing.sm};
  font-size: 14px;
  color: ${({theme:t})=>t.colors.text.secondary};

  @media (max-width: 480px) {
    font-size: 12px;
  }
`,k2=Z.div`
  display: flex;
  gap: 8px;
  align-items: center;
  margin-bottom: 8px;
  padding: 8px;
  background: white;
  border-radius: 4px;
  flex-wrap: wrap;

  @media (max-width: 480px) {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }
`,N2=Z.input`
  width: 60px;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  text-align: center;
  font-size: 16px;
  -webkit-appearance: none;

  @media (max-width: 480px) {
    width: 100%;
  }
`,mv=Z.input`
  width: 100%;
  padding: 12px 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 18px;
  text-align: center;
  -webkit-appearance: none;
`,gv=Z.div`
  color: #f44336;
  font-size: 12px;
  margin-top: 4px;
`,D2=Z.div`
  display: flex;
  gap: 8px;

  @media (max-width: 600px) {
    width: 100%;
    flex-direction: column;
  }
`,V2=Z.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 24px;

  @media (max-width: 600px) {
    flex-direction: column;
  }
`,O2=Z.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 16px;
`,M2=Z(Yt)`
  max-width: 500px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
`,L2=Z.div`
  display: flex;
  gap: 8px;
  align-items: center;

  @media (max-width: 480px) {
    width: 100%;
    justify-content: space-between;
  }
`,j2=()=>{const{id:t}=b0(),e=Lu(),{getGameDay:n,teams:r,players:i,addMatch:s,updateMatch:o,deleteMatch:l,getTeamDayStats:u,transferPlayer:c}=Ci(),[d,p]=B.useState(!1),[m,T]=B.useState(!1),[R,k]=B.useState(null),[P,S]=B.useState(""),[w,I]=B.useState(""),[D,F]=B.useState("0"),[b,y]=B.useState("0"),[g,E]=B.useState([]),[x,A]=B.useState(""),[N,C]=B.useState(""),[ye,mt]=B.useState(""),Ae=n(t||"");if(B.useEffect(()=>{r.length>=2&&!P&&!w&&(S(r[0].id),I(r[1].id))},[r,P,w]),B.useEffect(()=>{if(P&&P===w){const $=r.find(K=>K.id!==P);$&&I($.id)}},[P,w,r]),B.useEffect(()=>{if(x&&Ae){const $=Ae.playerTeamAssignments.find(K=>K.playerId===x);$&&(C($.teamId),ye===$.teamId&&mt(""))}},[x,Ae,ye]),!Ae)return _.jsxs(_i,{children:[_.jsx(wi,{children:"   "}),_.jsx(pe,{onClick:()=>e("/"),children:"  "})]});const Pt=u(Ae.id),V=$=>{var K;return((K=r.find(ee=>ee.id===$))==null?void 0:K.name)||"?"},M=$=>{var K;return((K=r.find(ee=>ee.id===$))==null?void 0:K.color)||"#999"},j=$=>{var K;return((K=i.find(ee=>ee.id===$))==null?void 0:K.name)||"?"},z=$=>Ae.playerTeamAssignments.filter(K=>K.teamId===$).map(K=>i.find(ee=>ee.id===K.playerId)).filter(Boolean),H=()=>r.filter($=>$.id!==P),q=()=>r.filter($=>$.id!==N),te=$=>{const K=parseInt($,10);return isNaN(K)?0:Math.max(0,K)},Fe=$=>{const K=parseInt($,10);return isNaN(K)?0:Math.max(0,K)},ze=$=>g.filter(K=>K.teamId===$).reduce((K,ee)=>K+Fe(ee.goals),0),et=te(D),kt=te(b),Ut=ze(P),Kn=ze(w),On=Ut>et,Nt=Kn>kt,Ai=On||Nt,bs=$=>{const K=z($);K.length>0&&E([...g,{playerId:K[0].id,teamId:$,goals:"1"}])},cc=$=>{E(g.filter((K,ee)=>ee!==$))},Hr=($,K,ee)=>{const Re=[...g];K==="playerId"?Re[$].playerId=ee:(ee===""||/^\d+$/.test(ee))&&(Re[$].goals=ee),E(Re)},Ri=()=>{F("0"),y("0"),E([]),p(!1),k(null),r.length>=2&&(S(r[0].id),I(r[1].id))},Ea=async()=>{if(P===w){alert("  ");return}if(Ai){alert("      ");return}const $=[];g.forEach(K=>{const ee=Fe(K.goals);for(let Re=0;Re<ee;Re++)$.push({playerId:K.playerId,teamId:K.teamId})}),R?await o(Ae.id,R,{team1Id:P,team2Id:w,score1:et,score2:kt,goals:$.map(K=>({...K,id:Date.now().toString()+Math.random()}))}):await s(Ae.id,{team1Id:P,team2Id:w,score1:et,score2:kt,goals:$.map(K=>({...K,id:Date.now().toString()+Math.random()})),timestamp:Date.now()}),Ri()},tt=$=>{k($.id),S($.team1Id),I($.team2Id),F($.score1.toString()),y($.score2.toString());const K=new Map;$.goals.forEach(ee=>{const Re=`${ee.playerId}-${ee.teamId}`;K.has(Re)?K.get(Re).count++:K.set(Re,{playerId:ee.playerId,teamId:ee.teamId,count:1})}),E(Array.from(K.values()).map(ee=>({playerId:ee.playerId,teamId:ee.teamId,goals:ee.count.toString()}))),p(!0)},lt=()=>{Ri()},Pi=async()=>{if(!x||!N||!ye){alert("  ");return}if(N===ye){alert("  ");return}await c(Ae.id,x,N,ye),T(!1),A(""),C(""),mt("")},hc=$=>{const K={};return $.forEach(ee=>{const Re=`${ee.playerId}-${ee.teamId}`;K[Re]||(K[Re]={playerId:ee.playerId,teamId:ee.teamId,count:0}),K[Re].count++}),Object.values(K)};return _.jsxs(_i,{children:[_.jsxs(V2,{children:[_.jsxs("div",{children:[_.jsx(wi,{style:{marginBottom:"4px"},children:Ae.name}),_.jsx("p",{style:{color:"#666",margin:0},children:new Date(Ae.date).toLocaleDateString("uk-UA")})]}),_.jsxs(D2,{children:[_.jsx(pe,{onClick:()=>T(!0),children:""}),_.jsx(pe,{$variant:"secondary",onClick:()=>e("/"),children:""})]})]}),_.jsxs(Yt,{children:[_.jsx(pr,{children:" "}),Pt.length===0?_.jsx(As,{children:" "}):_.jsx(ac,{children:_.jsxs(lc,{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx(ke,{children:"#"}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""})]})}),_.jsx("tbody",{children:Pt.map(($,K)=>_.jsxs(uc,{children:[_.jsx(Ne,{children:K+1}),_.jsx(Ne,{children:_.jsx(wh,{$color:$.teamColor,children:$.teamName})}),_.jsx(Ne,{children:$.matchesPlayed}),_.jsx(Ne,{children:$.wins}),_.jsx(Ne,{children:$.draws}),_.jsx(Ne,{children:$.losses}),_.jsx(Ne,{children:$.goalsFor}),_.jsx(Ne,{children:$.goalsAgainst}),_.jsx(Ne,{children:$.goalDifference}),_.jsx(Ne,{children:_.jsx("strong",{children:$.points})})]},$.teamId))})]})})]}),_.jsxs(Yt,{children:[_.jsxs(as,{style:{marginBottom:"16px"},children:[_.jsx(pr,{style:{margin:0,flex:1},children:""}),!d&&_.jsx(pe,{onClick:()=>p(!0),children:"+  "})]}),d&&_.jsxs(Yt,{style:{background:"#f5f5f5"},children:[_.jsx(pr,{style:{fontSize:"16px",marginBottom:"16px"},children:R?" ":" "}),_.jsxs(as,{style:{marginBottom:"16px"},children:[_.jsxs(Ot,{style:{flex:1,margin:0},children:[_.jsx(Vt,{children:" 1"}),_.jsx(ar,{value:P,onChange:$=>S($.target.value),children:r.map($=>_.jsx("option",{value:$.id,children:$.name},$.id))})]}),_.jsxs(Ot,{style:{flex:1,margin:0},children:[_.jsx(Vt,{children:" 2"}),_.jsx(ar,{value:w,onChange:$=>I($.target.value),children:H().map($=>_.jsx("option",{value:$.id,children:$.name},$.id))})]})]}),_.jsxs(as,{style:{marginBottom:"16px"},children:[_.jsxs(Ot,{style:{flex:1,margin:0},children:[_.jsxs(Vt,{children:[" ",V(P)]}),_.jsx(mv,{type:"text",inputMode:"numeric",value:D,onChange:$=>{const K=$.target.value;(K===""||/^\d+$/.test(K))&&F(K)},onBlur:()=>{D===""&&F("0")}}),On&&_.jsxs(gv,{children:[" (",Ut,") >  (",et,")"]})]}),_.jsxs(Ot,{style:{flex:1,margin:0},children:[_.jsxs(Vt,{children:[" ",V(w)]}),_.jsx(mv,{type:"text",inputMode:"numeric",value:b,onChange:$=>{const K=$.target.value;(K===""||/^\d+$/.test(K))&&y(K)},onBlur:()=>{b===""&&y("0")}}),Nt&&_.jsxs(gv,{children:[" (",Kn,") >  (",kt,")"]})]})]}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:"  (')"}),_.jsxs(mr,{children:[_.jsxs(pe,{type:"button",onClick:()=>bs(P),children:["+ ",V(P)]}),_.jsxs(pe,{type:"button",onClick:()=>bs(w),children:["+ ",V(w)]})]})]}),g.map(($,K)=>_.jsxs(k2,{children:[_.jsx(ar,{value:$.playerId,onChange:ee=>Hr(K,"playerId",ee.target.value),style:{flex:1},children:z($.teamId).map(ee=>_.jsx("option",{value:ee.id,children:ee.name},ee.id))}),_.jsxs(L2,{children:[_.jsx(Dp,{$color:M($.teamId),children:V($.teamId)}),_.jsx(N2,{type:"text",inputMode:"numeric",value:$.goals,onChange:ee=>Hr(K,"goals",ee.target.value),onBlur:()=>{$.goals===""&&Hr(K,"goals","0")},style:{width:"50px"}}),_.jsx(pe,{$variant:"danger",onClick:()=>cc(K),children:""})]})]},K)),_.jsxs(mr,{style:{marginTop:"16px"},children:[_.jsx(pe,{onClick:Ea,disabled:Ai,children:R?"":""}),_.jsx(pe,{$variant:"secondary",onClick:lt,children:""})]})]}),Ae.matches.length===0?_.jsx(As,{children:"  "}):Ae.matches.map(($,K)=>_.jsxs(x2,{children:[_.jsxs(C2,{children:[" #",K+1]}),_.jsxs(A2,{children:[_.jsxs(R2,{children:[_.jsx(wh,{$color:M($.team1Id),children:V($.team1Id)}),_.jsxs(I2,{children:[$.score1," : ",$.score2]}),_.jsx(wh,{$color:M($.team2Id),children:V($.team2Id)})]}),_.jsxs(mr,{children:[_.jsx(pe,{onClick:()=>tt($),disabled:R===$.id,children:""}),_.jsx(pe,{$variant:"danger",onClick:async()=>{window.confirm("  ?")&&await l(Ae.id,$.id)},children:""})]})]}),$.goals.length>0&&_.jsxs(P2,{children:[_.jsx("strong",{children:":"})," ",hc($.goals).map((ee,Re,Ta)=>_.jsxs("span",{children:[j(ee.playerId),ee.count>1&&` ${ee.count}`,Re<Ta.length-1&&", "]},Re))]})]},$.id))]}),m&&_.jsx(O2,{onClick:()=>T(!1),children:_.jsxs(M2,{onClick:$=>$.stopPropagation(),children:[_.jsx(pr,{children:" "}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsxs(ar,{value:x,onChange:$=>A($.target.value),children:[_.jsx("option",{value:"",children:" "}),Ae.playerTeamAssignments.map($=>{const K=i.find(Re=>Re.id===$.playerId),ee=r.find(Re=>Re.id===$.teamId);return _.jsxs("option",{value:$.playerId,children:[K==null?void 0:K.name," (",ee==null?void 0:ee.name,")"]},$.playerId)})]})]}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:" "}),_.jsx(ar,{value:N,disabled:!0,style:{background:"#f0f0f0"},children:_.jsx("option",{value:"",children:N?V(N):""})})]}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:" "}),_.jsxs(ar,{value:ye,onChange:$=>mt($.target.value),disabled:!N,children:[_.jsx("option",{value:"",children:" "}),q().map($=>_.jsx("option",{value:$.id,children:$.name},$.id))]})]}),_.jsxs(mr,{children:[_.jsx(pe,{onClick:Pi,disabled:!ye,children:""}),_.jsx(pe,{$variant:"secondary",onClick:()=>T(!1),children:""})]})]})})]})},b2=()=>{const{players:t,addPlayer:e,updatePlayer:n,deletePlayer:r}=Ci(),[i,s]=B.useState(!1),[o,l]=B.useState(""),[u,c]=B.useState(null),[d,p]=B.useState(""),m=async()=>{if(!o.trim()){alert("  ");return}await e({name:o.trim()}),l(""),s(!1)},T=(P,S)=>{c(P),p(S)},R=async P=>{if(!d.trim()){alert("  ");return}await n(P,{name:d.trim()}),c(null),p("")},k=async P=>{window.confirm("  ?")&&await r(P)};return _.jsxs(_i,{children:[_.jsxs(as,{style:{marginBottom:"24px"},children:[_.jsx(wi,{style:{margin:0,flex:1},children:""}),_.jsx(pe,{onClick:()=>s(!i),children:i?"":"+ "})]}),i&&_.jsxs(Yt,{children:[_.jsx(pr,{children:" "}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsx(Cs,{type:"text",value:o,onChange:P=>l(P.target.value),placeholder:"  ",onKeyPress:P=>P.key==="Enter"&&m()})]}),_.jsx(pe,{onClick:m,children:""})]}),_.jsxs(Yt,{children:[_.jsxs(pr,{children:["  (",t.length,")"]}),t.length===0?_.jsx(As,{children:"  "}):_.jsx(ac,{children:_.jsxs(lc,{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx(ke,{children:"#"}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""})]})}),_.jsx("tbody",{children:t.map((P,S)=>_.jsxs(uc,{children:[_.jsx(Ne,{children:S+1}),_.jsx(Ne,{children:u===P.id?_.jsx(Cs,{type:"text",value:d,onChange:w=>p(w.target.value),onKeyPress:w=>w.key==="Enter"&&R(P.id),autoFocus:!0}):P.name}),_.jsx(Ne,{children:_.jsx(mr,{children:u===P.id?_.jsxs(_.Fragment,{children:[_.jsx(pe,{onClick:()=>R(P.id),children:""}),_.jsx(pe,{$variant:"secondary",onClick:()=>c(null),children:""})]}):_.jsxs(_.Fragment,{children:[_.jsx(pe,{onClick:()=>T(P.id,P.name),children:""}),_.jsx(pe,{$variant:"danger",onClick:()=>k(P.id),children:""})]})})})]},P.id))})]})})]})]})},yv=Z.input`
  width: 50px;
  height: 40px;
  padding: 4px;
  border: 1px solid ${({theme:t})=>t.colors.border};
  border-radius: ${({theme:t})=>t.borderRadius.sm};
  cursor: pointer;
`,F2=()=>{const{teams:t,addTeam:e,updateTeam:n,deleteTeam:r}=Ci(),[i,s]=B.useState(!1),[o,l]=B.useState(""),[u,c]=B.useState("#2196F3"),[d,p]=B.useState(null),[m,T]=B.useState(""),[R,k]=B.useState(""),P=async()=>{if(!o.trim()){alert("  ");return}await e({name:o.trim(),color:u}),l(""),c("#2196F3"),s(!1)},S=(D,F,b)=>{p(D),T(F),k(b)},w=async D=>{if(!m.trim()){alert("  ");return}await n(D,{name:m.trim(),color:R}),p(null),T(""),k("")},I=async D=>{window.confirm("  ?")&&await r(D)};return _.jsxs(_i,{children:[_.jsxs(as,{style:{marginBottom:"24px"},children:[_.jsx(wi,{style:{margin:0,flex:1},children:""}),_.jsx(pe,{onClick:()=>s(!i),children:i?"":"+ "})]}),i&&_.jsxs(Yt,{children:[_.jsx(pr,{children:" "}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsx(Cs,{type:"text",value:o,onChange:D=>l(D.target.value),placeholder:"  "})]}),_.jsxs(Ot,{children:[_.jsx(Vt,{children:""}),_.jsx(yv,{type:"color",value:u,onChange:D=>c(D.target.value)})]}),_.jsx(pe,{onClick:P,children:""})]}),_.jsxs(Yt,{children:[_.jsxs(pr,{children:["  (",t.length,")"]}),t.length===0?_.jsx(As,{children:"  "}):_.jsx(ac,{children:_.jsxs(lc,{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx(ke,{children:"#"}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""})]})}),_.jsx("tbody",{children:t.map((D,F)=>_.jsxs(uc,{children:[_.jsx(Ne,{children:F+1}),_.jsx(Ne,{children:d===D.id?_.jsx(Cs,{type:"text",value:m,onChange:b=>T(b.target.value)}):D.name}),_.jsx(Ne,{children:d===D.id?_.jsx(yv,{type:"color",value:R,onChange:b=>k(b.target.value)}):_.jsx(Dp,{$color:D.color,children:D.name})}),_.jsx(Ne,{children:_.jsx(mr,{children:d===D.id?_.jsxs(_.Fragment,{children:[_.jsx(pe,{onClick:()=>w(D.id),children:""}),_.jsx(pe,{$variant:"secondary",onClick:()=>p(null),children:""})]}):_.jsxs(_.Fragment,{children:[_.jsx(pe,{onClick:()=>S(D.id,D.name,D.color),children:""}),_.jsx(pe,{$variant:"danger",onClick:()=>I(D.id),children:""})]})})})]},D.id))})]})})]})]})},$2=Z.div`
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
`,vv=Z.strong`
  font-size: 16px;
  color: ${({$color:t})=>t||"inherit"};

  @media (max-width: 480px) {
    font-size: 14px;
  }
`,U2=()=>{const{getPlayerStats:t,teams:e}=Ci(),n=t(),r=o=>{var l;return((l=e.find(u=>u.id===o))==null?void 0:l.name)||"?"},i=o=>{var l;return((l=e.find(u=>u.id===o))==null?void 0:l.color)||"#999"},s=n.filter(o=>o.totalMatches>0||o.totalGoals>0);return _.jsxs(_i,{children:[_.jsx(wi,{children:" "}),_.jsx(Yt,{children:s.length===0?_.jsxs(As,{children:["  .",_.jsx("br",{})," ,    ."]}):_.jsx(ac,{children:_.jsxs(lc,{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx(ke,{children:"#"}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:""}),_.jsx(ke,{children:" "})]})}),_.jsx("tbody",{children:s.map((o,l)=>_.jsxs(uc,{children:[_.jsx(Ne,{children:l+1}),_.jsx(Ne,{children:_.jsx("strong",{children:o.playerName})}),_.jsx(Ne,{children:_.jsx(vv,{$color:"#4caf50",children:o.totalGoals})}),_.jsx(Ne,{children:_.jsx(vv,{$color:"#1976d2",children:o.totalMatches})}),_.jsx(Ne,{children:o.gameDaysPlayed}),_.jsx(Ne,{children:_.jsx($2,{children:Object.entries(o.goalsByTeam).length>0?Object.entries(o.goalsByTeam).map(([u,c])=>_.jsxs(Dp,{$color:i(u),children:[r(u),": ",c]},u)):_.jsx("span",{style:{color:"#999"},children:""})})})]},o.playerId))})]})})})]})},z2=Z.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  font-size: 18px;
  color: ${({theme:t})=>t.colors.text.secondary};
`,B2=Z.div`
  position: fixed;
  bottom: 16px;
  right: 16px;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 12px;
  background: ${({$connected:t})=>t?"#4caf50":"#ff9800"};
  color: white;
  display: flex;
  align-items: center;
  gap: 6px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  z-index: 1000;
`,G2=Z.span`
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: ${({$connected:t})=>t?"#81c784":"#ffcc80"};
`,H2=()=>{const{isLoading:t,isFirebaseConnected:e}=Ci();return t?_.jsx(z2,{children:"..."}):_.jsxs(_.Fragment,{children:[_.jsxs(JI,{basename:"/futsal-league",children:[_.jsx(f2,{}),_.jsxs(HI,{children:[_.jsx(rr,{path:"/",element:_.jsx(_2,{})}),_.jsx(rr,{path:"/game-day/new",element:_.jsx(pv,{})}),_.jsx(rr,{path:"/game-day/:id",element:_.jsx(j2,{})}),_.jsx(rr,{path:"/game-day/:id/edit",element:_.jsx(pv,{})}),_.jsx(rr,{path:"/players",element:_.jsx(b2,{})}),_.jsx(rr,{path:"/teams",element:_.jsx(F2,{})}),_.jsx(rr,{path:"/stats",element:_.jsx(U2,{})})]})]}),_.jsxs(B2,{$connected:e,children:[_.jsx(G2,{$connected:e}),e?"Firebase":""]})]})};function W2(){return _.jsxs(eC,{theme:o2,children:[_.jsx(s2,{}),_.jsx(i2,{children:_.jsx(H2,{})})]})}Eh.createRoot(document.getElementById("root")).render(_.jsx(Ht.StrictMode,{children:_.jsx(W2,{})}));
